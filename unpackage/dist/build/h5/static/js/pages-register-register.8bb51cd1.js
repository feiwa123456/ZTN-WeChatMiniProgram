(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"166a":function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return s}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"a-swiper-dot"},[i("cu-custom",{attrs:{isBack:!0}}),i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-titles text-orange"}),t._v(t._s(t.i18n.register.register))],1)],1),i("v-uni-view",{staticClass:"bg-white padding"},[i("v-uni-view",{staticClass:"cu-steps"},t._l(t.numStepList,(function(e,s){return i("v-uni-view",{key:s,staticClass:"cu-item ",class:[s>t.numStep?"":"text-olive"]},[i("v-uni-text",{staticClass:"num",attrs:{"data-index":s+1}}),i("v-uni-text",{staticStyle:{color:"#666666"}},[t._v(t._s(e.name))])],1)})),1)],1),i("v-uni-view",{staticClass:"bg-white padding-sm"},[0==t.numStep?i("v-uni-view",[i("v-uni-view",{staticClass:"padding flex flex-direction margin-top"},[i("v-uni-button",{staticClass:"cu-btn round bg-green margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.agreeProtocol.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.agree))])],1)],1):t._e(),1==t.numStep?i("v-uni-view",[i("v-uni-view",{staticClass:"padding content "},[i("v-uni-view",{staticClass:"cuIcon-infofill text-df text-orange"},[i("v-uni-text",{staticClass:"margin-left-xs  ztnCustom-color-grey"},[t._v(t._s(t.i18n.register.commonContactInfo))])],1),i("v-uni-view",{staticClass:"text-gray text-sm flex"},[i("v-uni-text",{staticClass:"text-cut margin-top-xs"},[i("v-uni-text",[t._v(t._s(t.i18n.register.acceptCodeFail))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu margin-top solid-bottom "},[i("v-uni-view",{staticClass:"cu-item"},[t.useEmailRegister?i("v-uni-view",{staticClass:"action flex"},[i("v-uni-text",{staticClass:"cuIcon-mail text-xxl text-olive margin-right-sm"}),i("v-uni-input",{staticClass:"text-lg",attrs:{id:"emailInput","adjust-position":!0,focus:!0,maxlength:"300","cursor-spacing":"10",value:t.email,placeholder:t.i18n.register.inputEmail,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeEmailInput.apply(void 0,arguments)}}})],1):i("v-uni-view",{staticClass:"action flex"},[i("v-uni-text",{staticClass:"cuIcon-phone text-xxl text-olive margin-right-sm "}),i("v-uni-input",{staticClass:"text-lg",attrs:{id:"phoneNumberInput","adjust-position":!0,focus:!0,maxlength:"300","cursor-spacing":"10",value:t.phoneNumber,placeholder:t.i18n.register.inputPhoneNumber,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changePhoneNumberInput.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu margin-top solid-bottom "},[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"action flex"},[i("v-uni-input",{staticClass:"text-lg",attrs:{id:"verificationCodeInput","adjust-position":!0,maxlength:"300","cursor-spacing":"10",value:t.verificationCode,placeholder:t.i18n.register.inputVerificationCode,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeVerificationCodeInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"action"},[t.isCountDown?i("v-uni-button",{staticClass:"cu-btn bg-green shadow"},[t._v(t._s(t.verificationCodeBtn)+t._s(t.i18n.seconds))]):i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.obtainVerificationCode.apply(void 0,arguments)}}},[t._v(t._s(t.verificationCodeBtn))])],1)],1)],1),t.enablePhoneRegister?i("v-uni-view",{staticClass:"margin-top text-sm text-olive",staticStyle:{"margin-left":"60rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeRegisterWay.apply(void 0,arguments)}}},[t._v(t._s(t.phoneRegisterText))]):t._e(),i("v-uni-view",{staticClass:"padding flex flex-direction margin-top"},[t.disabledNextStep?i("v-uni-button",{staticClass:" cu-btn round bg-green margin-tb-sm lg",attrs:{disabled:!0,type:""}},[t._v(t._s(t.i18n.nextStep))]):i("v-uni-button",{staticClass:" cu-btn round bg-green margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextStep.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.nextStep))])],1)],1):t._e(),2==t.numStep?i("v-uni-view",[i("v-uni-view",{staticClass:"padding content"},[i("v-uni-view",{staticClass:"cuIcon-infofill text-df text-orange"},[i("v-uni-text",{staticClass:"margin-left-xs  ztnCustom-color-grey"},[t._v(t._s(t.i18n.standard))])],1),i("v-uni-view",{staticClass:"text-gray text-sm flex"},[i("v-uni-text",{staticClass:"text-cut margin-top-xs"},[i("v-uni-text",[t._v(t._s(t.i18n.register.userNameRules))])],1)],1),i("v-uni-view",{staticClass:"text-gray text-sm flex"},[i("v-uni-text",{staticClass:"text-cut margin-top-xs"},[i("v-uni-text",[t._v(t._s(t.i18n.register.passwordRules))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu margin-top solid-bottom "},[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"action flex"},[i("v-uni-text",{staticClass:"cuIcon-peoplefill text-xxl text-olive margin-right-sm "}),i("v-uni-input",{staticClass:"text-lg",attrs:{id:"userNameInput","adjust-position":!0,focus:!0,maxlength:"300","cursor-spacing":"10",value:t.userName,placeholder:t.i18n.inputUsername,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeUserNameInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"action"})],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu margin-top solid-bottom "},[i("v-uni-view",{staticClass:"cu-item "},[i("v-uni-view",{staticClass:"action flex"},[i("v-uni-text",{staticClass:"cuIcon-lock text-xxl text-olive margin-right-sm "}),i("v-uni-input",{staticClass:"text-lg",attrs:{id:"passwordInput",type:"password","adjust-position":!1,maxlength:"300","cursor-spacing":"10",value:t.password,placeholder:t.i18n.inputPassword,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changePasswordInput.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu margin-top solid-bottom "},[i("v-uni-view",{staticClass:"cu-item "},[i("v-uni-view",{staticClass:"action flex"},[i("v-uni-text",{staticClass:"cuIcon-lock text-xxl text-olive margin-right-sm "}),i("v-uni-input",{staticClass:"text-lg",attrs:{id:"passwordInput",type:"password","adjust-position":!1,maxlength:"300","cursor-spacing":"10",value:t.againPassword,placeholder:t.i18n.register.inputAgainPassword,"placeholder-style":"color:#aaaaaa;letter-spacing:2px;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAgainPasswordInput.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"padding flex flex-direction margin-top"},[t.disabledNextToEnd?i("v-uni-button",{staticClass:" cu-btn round bg-green margin-tb-sm lg",attrs:{disabled:!0,type:""}},[t._v(t._s(t.i18n.nextStep))]):i("v-uni-button",{staticClass:" cu-btn round bg-green margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextStepToEnd.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.nextStep))])],1)],1):t._e(),3==t.numStep?i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-view",{staticClass:"cu-modal show"},[i("v-uni-view",{staticClass:"cu-dialog",staticStyle:{width:"400rpx"}},[i("v-uni-view",{staticClass:"padding-top-xl",class:[t.isRegisterSuccess?"cuIcon-roundcheckfill text-green":"cuIcon-roundclosefill text-red"],staticStyle:{height:"220rpx","font-size":"120upx"}}),i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action margin-0 flex-sub  solid-left",attrs:{"data-status":t.isRegisterSuccess?"success":"fail"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"text-lg"},[t._v(t._s(t.isRegisterSuccess?t.i18n.register.registerSuccess:t.i18n.register.againRegister))])],1)],1)],1),i("v-uni-text",{staticClass:"cuIcon-roundclose text-white",staticStyle:{position:"absolute",top:"30%",left:"80%","font-size":"50upx"},attrs:{"data-status":t.isRegisterSuccess?"success":"fail"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}})],1)],1):t._e()],1)],1)},a=[]},"40c7":function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,"uni-page-body[data-v-458e6dcc]{background-color:#fff}body.?%PAGE?%[data-v-458e6dcc]{background-color:#fff}",""]),t.exports=e},4615:function(t,e,i){"use strict";var s=i("699b"),n=i.n(s);n.a},"699b":function(t,e,i){var s=i("40c7");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("4f06").default;n("83c6e3dc",s,!0,{sourceMap:!1,shadowMode:!1})},9121:function(t,e,i){"use strict";i.r(e);var s=i("166a"),n=i("f753");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("4615");var o,r=i("f0c5"),u=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,"458e6dcc",null,!1,s["a"],o);e["default"]=u.exports},ee2d:function(t,e,i){"use strict";var s=i("dbce");i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("870a")),a={data:function(){return{numStepList:[],numStep:0,disabledGetUserInfo:!0,useEmailRegister:!0,email:"",enablePhoneRegister:!1,phoneRegisterText:"",phoneNumber:"",verificationCode:"",verificationCodeBtn:"",isCountDown:!1,vCodeValue:"",disabledNextStep:!0,userName:"",password:"",againPassword:"",disabledNextToEnd:!0,isRegisterSuccess:!1}},computed:{i18n:function(){return this.$i18nMsg()}},onLoad:function(){this.$set(this.numStepList,0,{name:this.i18n.register.agreeProtocol}),this.$set(this.numStepList,1,{name:this.i18n.register.verificationCode}),this.$set(this.numStepList,2,{name:this.i18n.register.userInformation}),this.$set(this.numStepList,3,{name:this.i18n.register.registerSuccess}),this.enablePhoneRegister=uni.getStorageSync("enablePhoneRegister"),this.phoneRegisterText=this.i18n.register.usePhoneRegister,this.verificationCodeBtn=this.i18n.register.getCode},methods:{numSteps:function(){this.numStep=this.numStep==this.numStepList.length-1?0:this.numStep+1},checkboxChange:function(){this.disabledGetUserInfo=!this.disabledGetUserInfo},getUserInfo:function(t){var e=t.detail.userInfo;null!=e&&(this.numSteps(),uni.setStorageSync("userInfo",e))},agreeProtocol:function(){this.numSteps()},changeEmailInput:function(t){var e=t.detail.value.replace(/\s/g,""),i=this.verificationCode;this.email=e,this.disabledNextStep=""==e||""==i},changePhoneNumberInput:function(t){var e=t.detail.value.replace(/\s/g,""),i=this.verificationCode;this.phoneNumber=e,this.disabledNextStep=""==e||""==i},changeVerificationCodeInput:function(t){var e,i=t.detail.value.replace(/\s/g,""),s=this.useEmailRegister,n=this.phoneNumber,a=this.email;e=s?""==a||""==i:""==n||""==i,this.verificationCode=i,this.disabledNextStep=e},checkEmail:function(t){var e=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return!!e.test(t)},checkPhoneNumber:function(t){return!!/^1[3|4|5|8][0-9]\d{8}$/.test(t)},countDown:function(t){var e=this,i=setInterval((function(){e.verificationCodeBtn=t--,-1==t&&(clearInterval(i),e.verificationCodeBtn=e.i18n.againGet,e.isCountDown=!1)}),1e3)},obtainVerificationCode:function(){var t=this.useEmailRegister;t?this.useEmailObtainVerifyCode():this.usePhoneObtainVerifyCode()},useEmailObtainVerifyCode:function(){var t=this.email,e=uni.getStorageSync("companyId");if(this.checkEmail(t)){var i=n.obtainVerifyCode(this,{email:t,registerType:"email",companyId:e});this.obtainVerifyCode(i)}else this.$uniUtilsApi.showToast(this.i18n.register.wrongEmail,"none",1e3,!1)},usePhoneObtainVerifyCode:function(){var t=this.phoneNumber,e=uni.getStorageSync("companyId");if(this.checkPhoneNumber(t)){var i=n.obtainVerifyCode(this,{phoneNumber:t,registerType:"phone",companyId:e});this.obtainVerifyCode(i)}else this.$uniUtilsApi.showToast(this.i18n.register.wrongPhone,"none",1e3,!1)},obtainVerifyCode:function(t){var e=this,i=60;t.then((function(t){"200"==t.code?(e.$uniUtilsApi.showToast(e.i18n.register.sendCode,"none",1e3,!1),e.vCodeValue=t.data,e.verificationCodeBtn=i,e.isCountDown=!0,e.countDown(i)):e.$uniUtilsApi.showToast(e.i18n.register.getCodeFail,"none",1e3,!1)}))},nextStep:function(){var t=this.vCodeValue,e=this.verificationCode;t==e?this.numSteps():this.$uniUtilsApi.showToast(this.i18n.register.wrongCode,"none",1e3,!1)},changeRegisterWay:function(){var t=!this.useEmailRegister;this.useEmailRegister=t,this.phoneRegisterText=t?this.i18n.register.usePhoneRegister:this.i18n.register.useEmailRegister},changeUserNameInput:function(t){var e=t.detail.value.replace(/\s/g,""),i=this.password,s=this.againPassword;this.userName=e,this.disabledNextToEnd=""==e||""==i||""==s},changePasswordInput:function(t){var e=t.detail.value.replace(/\s/g,""),i=this.userName,s=this.againPassword;this.password=e,this.disabledNextToEnd=""==i||""==e||""==s},changeAgainPasswordInput:function(t){var e=t.detail.value.replace(/\s/g,""),i=this.userName,s=this.password;this.againPassword=e,this.disabledNextToEnd=""==i||""==s||""==e},nextStepToEnd:function(){var t=this,e=this.userName,i=this.password,s=this.againPassword,n=this.phoneNumber,a=this.email,o=this.useEmailRegister;if(e.length<4)this.$uniUtilsApi.showToast(this.i18n.register.userNameLeastLength,"none",1e3,!1);else if(i.length<6)this.$uniUtilsApi.showToast(this.i18n.register.passwordLeastLength,"none",1e3,!1);else if(i!=s)this.$uniUtilsApi.showToast(this.i18n.register.passwordDifferent,"none",1e3,!1);else{var r=o?this.useEmailRegisterFun(e,i,a):this.usePhoneRegister(e,i,n);r.then((function(e){"200"==e.code?(t.numSteps(),t.isRegisterSuccess=!0):"201"==e.code&&"exist"==e.msg?t.$uniUtilsApi.showToast(t.i18n.register.userExist,"none",1e3,!1):(t.numSteps(),t.isRegisterSuccess=!1)}))}},useEmailRegisterFun:function(t,e,i){var s=uni.getStorageSync("companyId");return n.register(this,{userName:t,password:e,registerType:"email",email:i,companyId:s})},usePhoneRegister:function(t,e,i){var s=uni.getStorageSync("companyId");return n.register(this,{userName:t,password:e,registerType:"phone",phoneNumber:i,companyId:s})},hideModal:function(t){var e=t.currentTarget.dataset.status;"success"==e?uni.navigateBack({delta:1}):"fail"==e&&(this.numSteps(),this.disabledGetUserInfo=!0,this.phoneNumber="",this.verificationCode="",this.isCountDown="",this.vCodeValue="",this.disabledNextStep=!0,this.userName="",this.password="",this.againPassword="",this.disabledNextToEnd=!0)}}};e.default=a},f753:function(t,e,i){"use strict";i.r(e);var s=i("ee2d"),n=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);e["default"]=n.a}}]);