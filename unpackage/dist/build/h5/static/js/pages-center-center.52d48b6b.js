(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-center","pages-home-home"],{"0db3":function(e,t,i){"use strict";function n(e,t){var i=e.$uniBaseRequest(e,"/token/get",t);return i}function s(e,t){var i=e.$uniBaseRequest(e,"/token/delete",t);return i}function a(e,t){var i=e.$uniBaseRequest(e,"/token/get",t);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.userLogin=n,t.loginOut=s,t.experience=a},"1c5d":function(e,t,i){"use strict";i.r(t);var n=i("6989"),s=i("c57a");for(var a in s)"default"!==a&&function(e){i.d(t,e,(function(){return s[e]}))}(a);var u,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"310ccf04",null,!1,n["a"],u);t["default"]=c.exports},"26c6":function(e,t,i){"use strict";var n=i("dbce"),s=i("4ea4");i("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=s(i("1da1")),u=n(i("870a")),o=(n(i("1b64")),n(i("9bc8"))),c=(n(i("0db3")),s(i("8cdf")),{data:function(){return{isLogin:!1,isLoginOverdue:!1,userName:"",avatarUrl:"",deviceStatusList:[{},{},{},{}],deviceStatusNumberList:[0,0,0,0],currentMessageIndex:0,currentLanguageIndex:0,currentThemeIndex:0,openMessage:!1}},name:"centerComponent",computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},mounted:function(){var e=uni.getStorageSync("isLogin");this.isLogin=e,e?this.init():this.getUnLoginDeviceStatusCount()},methods:{init:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getDeviceStatusCount(),this.userName=uni.getStorageSync("userName"),this.openMessage=uni.getStorageSync("openMessage")||!1,this.currentMessageIndex=uni.getStorageSync("messageIndex")||0,this.currentThemeIndex=uni.getStorageSync("themeIndex")||0,this.currentLanguageIndex=uni.getStorageSync("languageIndex")||0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToLogin:function(e){uni.navigateTo({url:"/pages/login/login"})},getUnLoginDeviceStatusCount:function(){for(var e=this.deviceStatusList,t=0;t<e.length;t++)this.$set(this.deviceStatusList,t,{num:"--",status:this.i18n.status[t]})},getDeviceStatusCount:function(){var e=this;o.getDeviceStatusCount(this).then((function(t){if("200"==t.code){for(var i=t.data,n=0;n<i.length;n++){var s=i[n].num;switch(i[n].status){case"ONLINE":e.$set(e.deviceStatusNumberList,0,s);break;case"OFFLINE":e.$set(e.deviceStatusNumberList,1,s);break;case"UNACTIVE":e.$set(e.deviceStatusNumberList,2,s);break;case"DISABLE":e.$set(e.deviceStatusNumberList,3,s);break;default:break}}var a=0,u=e.deviceStatusList,o=(e.deviceStatusNumberList,function t(){if(a<20)setTimeout((function(){for(var i=0;i<u.length;i++)e.$set(e.deviceStatusList,i,{num:0===e.deviceStatusNumberList[i]?0:a,status:e.i18n.status[i]});a++,t()}),10);else for(var i=0;i<u.length;i++)e.$set(e.deviceStatusList,i,{num:e.deviceStatusNumberList[i],status:e.i18n.status[i]})});o()}}))},tapCurrentVersion:function(){var e=this.i18n.currentVersion,t=wx.getStorageSync("browserVersion")||"1.1.20",i=this.i18n.confirm,n=this.i18n.cancel;this.$uniUtilsApi.showModal(e,t,!1,i,n,(function(e){}))},moreOperate:function(){uni.navigateTo({url:"/pages/moreOperate/moreOperate"})},deviceNotice:function(){uni.navigateTo({url:"/pages/deviceNotice/deviceNotice"})},tapScan:function(){this.$uniUtilsApi.showToast(this.i18n.noSupport,"none",1e3,!1)},deviceError:function(){uni.navigateTo({url:"/pages/deviceError/deviceError"})},deviceStatus:function(){uni.navigateTo({url:"/pages/deviceStatus/deviceStatus"})},moreSetting:function(){uni.navigateTo({url:"/pages/moreSetting/moreSetting"})},pushMessage:function(){var e=!this.openMessage;if(e){var t=this.i18n.openMessage;this.$uniUtilsApi.bindUserSocket(t)}else{var i=this.i18n.closeMessage;this.$uniUtilsApi.unBindUserSocket(i)}this.openMessage=e,this.currentMessageIndex=e?1:0,uni.setStorageSync("openMessage",e),uni.setStorageSync("messageIndex",this.currentMessageIndex)},languagePickerChange:function(e){var t=this,i=this.isLogin,n=parseInt(e.detail.value),s=0==n?"zh":"en";if(i){var a=wx.getStorageSync("userId");u.updateLanguage(this,s,a).then((function(e){"200"==e.code&&(t.currentLanguageIndex=n,t.$i18n.locale=s,t.$emit("languageChange"),uni.setStorageSync("language",s),uni.setStorageSync("languageIndex",n),t.$uniUtilsApi.showToast(t.i18n.changeLanguage,"none",1e3,!1))}))}else this.$i18n.locale=s,this.$emit("languageChange"),this.$uniUtilsApi.showToast(this.i18n.changeLanguage,"none",1e3,!1)},themePickerChange:function(e){var t=this.isLogin;if(t){var i=e.detail.value,n=["default","darkColor","lightColor"],s=n[i];this.currentThemeIndex=i,this.$themei18n.locale=s,uni.setStorageSync("theme",s),uni.setStorageSync("themeIndex",i),this.$emit("themeChange"),this.$uniUtilsApi.showToast(this.i18n.changeTheme,"none",1e3,!1)}else this.unLogin()},tapLogout:function(){var e=this,t=this.i18n.moreSetting.logout,i=this.i18n.moreSetting.logoutContent,n=this.i18n.confirm,s=this.i18n.cancel;this.$uniUtilsApi.showModal(t,i,!0,n,s,(function(t){var i,n=uni.getStorageSync("openid");i=u.loginOut(e,{openid:n,type:"gzh"}),i.then((function(t){if(t.status){uni.removeStorageSync("openid"),uni.removeStorageSync("nickName"),uni.removeStorageSync("avatarUrl"),uni.removeStorageSync("userId"),uni.removeStorageSync("userName"),uni.removeStorageSync("devKey"),uni.removeStorageSync("accessToken"),uni.removeStorageSync("singleLogin"),uni.setStorageSync("isLogin",!1),e.isLogin=!1,e.$uniUtilsApi.showToast(e.i18n.logoutSuccess,"success",1e3,!1),e.$emit("unLogin"),e.getUnLoginDeviceStatusCount();var i=uni.getStorageSync("openMessage")||!1;i&&e.$uniUtilsApi.unBindUserSocket(closeMessageTxt)}}))}),(function(e){}))},unLogin:function(){this.$uniUtilsApi.showToast(this.i18n.leadGotoLogin.unLogStatuTxt,"none",1e3,!1)},more:function(){this.$uniUtilsApi.showToast(this.i18n.noSupport,"none",1e3,!1)}}});t.default=c},6989:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticStyle:{"background-color":"#f8f8f8",height:"100vh"}},[i("cu-custom",{attrs:{isBack:!1}}),i("v-uni-view",{staticClass:"bg-white padding-top"},[i("v-uni-view",{staticClass:"flex justify-end padding-top-xs padding-lr-xl",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.tapCurrentVersion():e.unLogin()}}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-info text-grey",staticStyle:{"font-size":"36upx"}})],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"padding-bottom"},[i("v-uni-view",{staticClass:"cu-avatar xl round margin-left bg-gray"},[i("v-uni-text",{staticClass:"cuIcon-people text-sl text-white"})],1),e.isLogin?i("v-uni-view",{staticClass:"cu-btn round lines-grey shadow margin-left"},[e._v(e._s(e.userName))]):i("v-uni-button",{staticClass:"cu-btn round lines-grey shadow margin-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToLogin.apply(void 0,arguments)}}},[e._v(e._s(e.i18n.login.login))])],1)],1),i("v-uni-view",{staticClass:"cu-list grid col-4 no-border text-black",staticStyle:{background:"rgba(0,0,0,0)",padding:"20upx 0upx"}},e._l(e.deviceStatusList,(function(t,n){return i("v-uni-view",{key:n,staticClass:"cu-item"},[i("v-uni-view",{staticClass:"text-lg padding-xs"},[e._v(e._s(t.num))]),i("v-uni-view",{staticStyle:{color:"#666666"}},[e._v(e._s(e.i18n.status[n]))])],1)})),1)],1),i("v-uni-view",{staticClass:"shadow-warp bg-white",staticStyle:{"border-radius":"20upx","margin-top":"65upx"}},[i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom",staticStyle:{"border-top-left-radius":"20upx","border-top-right-radius":"20upx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.moreOperate():e.unLogin()}}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"text-bold ztnCustom-color-black"},[e._v(e._s(e.i18n.moreOperate.moreOperate))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"cu-list grid col-4 no-border",staticStyle:{background:"rgba(0,0,0,0)"}},[i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.deviceNotice():e.unLogin()}}},[i("v-uni-view",{staticClass:"cuIcon-noticefill text-xxl text-olive"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreOperate.notice))])],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.tapScan():e.unLogin()}}},[i("v-uni-view",{staticClass:"cuIcon-scan text-xxl text-blue"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreOperate.scan))])],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.deviceError():e.unLogin()}}},[i("v-uni-view",{staticClass:"cuIcon-warnfill text-xxl text-orange"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreOperate.warn))])],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.deviceStatus():e.unLogin()}}},[i("v-uni-view",{staticClass:"cuIcon-order text-xxl text-yellow"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreOperate.upperAndlowerLine))])],1)],1)],1),i("v-uni-view",{staticClass:"shadow-warp bg-white",staticStyle:{"border-radius":"20upx","margin-top":"65upx"}},[i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom",staticStyle:{"border-top-left-radius":"20upx","border-top-right-radius":"20upx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.more():e.unLogin()}}},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"text-bold ztnCustom-color-black"},[e._v(e._s(e.i18n.moreSetting.moreSetting))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"cu-list grid col-4 no-border",staticStyle:{background:"rgba(0,0,0,0)"}},[i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogin?e.pushMessage():e.unLogin()}}},[i("v-uni-view",{staticClass:"cuIcon-pullup text-xxl text-olive"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreSetting.pushMessage))]),e.isLogin?i("v-uni-view",{staticClass:"text-gray text-sm"},[e._v(e._s(e.i18n.moreSetting.messageList[e.currentMessageIndex]))]):e._e()],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[i("v-uni-picker",{attrs:{value:e.currentLanguageIndex,range:e.i18n.moreSetting.languageList},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.languagePickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-settings text-xxl text-blue"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreSetting.language))]),e.isLogin?i("v-uni-view",{staticClass:"text-gray text-sm"},[e._v(e._s(e.i18n.moreSetting.languageList[e.currentLanguageIndex]))]):e._e()],1)],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[i("v-uni-picker",{attrs:{value:e.currentThemeIndex,range:e.i18n.moreSetting.themeList},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.themePickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-magic text-xxl text-orange"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreSetting.theme))]),e.isLogin?i("v-uni-view",{staticClass:"text-gray text-sm"},[e._v(e._s(e.i18n.moreSetting.themeList[e.currentThemeIndex]))]):e._e()],1)],1),e.isLogin?i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tapLogout.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-exit text-xxl text-yellow"}),i("v-uni-view",{staticClass:"padding-xs"},[e._v(e._s(e.i18n.moreSetting.logout))])],1):e._e()],1)],1)],1)},a=[]},"9bc8":function(e,t,i){"use strict";function n(e){var t=e.$uniBaseRequest(e,"/device/belong/provinceNum",{});return t}function s(e,t){var i=e.$uniBaseRequest(e,"/device/belong/cityNum",t);return i}function a(e,t,i,n){var s=e.$uniBaseRequest(e,"/device/belong/pageGetDevice",{cityId:t,currentPage:i,pageSize:n});return s}function u(e,t,i,n,s,a,u){return c(e,{provinceId:t,cityId:i,productId:n,status:s,currentPage:a,pageSize:u})}function o(e,t,i,n,s,a,u,o,r,g,v){return c(e,{userId:t,status:i,productId:n,seriesId:s,deviceName:a,todayOnline:u,warnDesc:o,groupId:r,currentPage:g,pageSize:v})}function c(e,t){var i=e.$uniBaseRequest(e,"/device/belong/pageGetDevice",t);return i}function r(e){var t=e.$uniBaseRequest(e,"/device/belong/statusNum",{});return t}function g(e,t){var i=e.$uniBaseRequest(e,"/device/belong/productNum",{userId:t});return i}function v(e,t,i){var n=e.$uniBaseRequest(e,"/device/belong/seriesNum",{userId:t,productId:i});return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getProvinceDeviceNum=n,t.getCityDeviceNum=s,t.getAreaDeviceNum=a,t.MarkerGetDeviceList=u,t.getDeviceList=o,t.getProductTypeList=g,t.getDeviceStatusCount=r,t.getProductSeries=v},c57a:function(e,t,i){"use strict";i.r(t);var n=i("26c6"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=s.a}}]);