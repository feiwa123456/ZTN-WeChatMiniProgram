(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-deviceNavigation-deviceNavigation","pages-deviceParam-deviceParam"],{"0ce2":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:[{paddingBottom:"calc("+t.tabbarHeight+"px + 30rpx)"}]},[t.isToHome?i("cu-custom",{attrs:{isHome:!0}},[i("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"homeText"},slot:"homeText"},[t._v(t._s(t.deviceName))])],2):i("cu-custom",{attrs:{isBack:!0}},[i("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"backText"},slot:"backText"},[t._v(t._s(t.deviceName))])],2),i("v-uni-view",{staticClass:"flex justify-between flex-wrap",staticStyle:{"margin-left":"20upx","margin-right":"20upx","margin-top":"10upx","margin-bottom":"10upx"}},t._l(t.paramList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"bg-white",staticStyle:{"box-shadow":"0 5upx 15upx -5upx rgba(26, 26, 26, 0.2)","border-radius":"15upx","margin-left":"5upx","margin-right":"5upx","margin-bottom":"10upx"},style:e.isFullLine?"width:calc(100% - 10rpx)":"width:calc(50% - 10rpx)"},[i("v-uni-view",{staticClass:"flex justify-start margin-top"},[i("v-uni-view",{staticClass:"cu-avatar radius sm margin-left-sm margin-right-xs",staticStyle:{width:"55rpx",height:"55rpx","background-color":"rgba(0,0,0,0)"},style:[{backgroundImage:"url("+e.iconUrl+")"}]}),i("v-uni-view",{staticClass:"text-xs flex-sub"},[i("v-uni-view",{staticClass:"flex justify-between align-center",staticStyle:{width:"100%"}},[i("v-uni-view",{staticStyle:{color:"#666666"}},[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"text-gray"},[t._v(t._s(t._f("formatDateTime")(e.updateDate,t.i18n.unknown)))])],1)],1),i("v-uni-view",{staticClass:"flex justify-start align-center",staticStyle:{"margin-top":"35upx","margin-bottom":"35upx"}},[i("v-uni-view",{staticStyle:{"margin-left":"20upx"}},[i("v-uni-view",{staticClass:"cuIcon-title",style:[{color:t.circleBgColor}]}),i("v-uni-view",{staticClass:"cuIcon-title",style:[{color:t.circleBgColor}]}),i("v-uni-view",{staticClass:"cuIcon-title",style:[{color:t.circleBgColor}]})],1),i("v-uni-view",{staticClass:"text-xxl text-center flex-sub",style:[{color:t.emphasizeColor}]},[t._v(t._s(e.value)+" "+t._s(e.unit))])],1)],1)})),1)],1)},r=[]},"3d30":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".cu-list.menu-avatar>.cu-item[data-v-50bbe48c]:after{border-bottom:%?1?% solid hsla(0,0%,100%,0)}",""]),t.exports=e},6168:function(t,e,i){"use strict";i.r(e);var a=i("7d7f"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6cbf":function(t,e,i){"use strict";i.r(e);var a=i("beb4"),n=i("f438");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"72d9c07b",null,!1,a["a"],o);e["default"]=c.exports},"7b95":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:[{paddingBottom:t.tabbarHeight+"px"}]},[t.isToHome?i("cu-custom",{attrs:{isHome:!0}},[i("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"homeText"},slot:"homeText"},[t._v(t._s(t.deviceName))])],2):i("cu-custom",{attrs:{isBack:!0}},[i("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"backText"},slot:"backText"},[t._v(t._s(t.deviceName))])],2),i("v-uni-view",{staticClass:"margin-bottom",style:t.cameraStyle},t._l(t.cameraList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"flex align-center bg-white padding-tb",class:[t.cameraList.length!=a+1?"solid-bottom":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tapCamera(e)}}},[i("v-uni-view",{staticClass:"margin-left margin-right-xl"},[i("v-uni-view",{staticClass:"cu-avatar lg text-gray",class:[e.picturePath?"":"cuIcon-pic"],staticStyle:{"background-color":"rgba(0,0,0,0)","font-size":"96rpx"},style:[{backgroundImage:"url("+e.picturePath+")"}]})],1),i("v-uni-view",{staticClass:" flex-sub flex align-center justify-between margin-right"},[i("v-uni-view",[i("v-uni-view",{staticClass:"text-xl margin-bottom-sm"},[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"cuIcon-right text-black text-xl"})],1)],1)})),1),i("v-uni-view",{attrs:{id:"ztnCustom-sensor"}},t._l(t.sensorsList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"flex align-center bg-white padding-tb",class:[t.sensorsList.length!=a+1?"solid-bottom":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tapSensor(e)}}},[i("v-uni-view",{staticClass:"margin-left margin-right-xl"},[i("v-uni-view",{staticClass:"cu-avatar lg",staticStyle:{"background-color":"rgba(0,0,0,0)"},style:[{backgroundImage:"url("+e.iconUrl+")"}]})],1),i("v-uni-view",{staticClass:"flex-sub flex align-center justify-between margin-right"},[i("v-uni-view",[i("v-uni-view",{staticClass:"text-xl margin-bottom-sm"},[t._v(t._s(e.sensorName))]),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"text-grey text-lg margin-right"},[t._v(t._s(e.type))]),i("v-uni-view",{staticClass:"text-gray"},[t._v(t._s(t.i18n.deviceSensor.port)+":"+t._s(e.port))])],1)],1),i("v-uni-view",{staticClass:"cuIcon-right text-black text-xl"})],1)],1)})),1)],1)},r=[]},"7d7f":function(t,e,i){"use strict";var a=i("dbce");i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(i("ed3d"));var n=a(i("c142")),r={data:function(){return{CustomBar:this.CustomBar,isLoginOverdue:!1,paramList:[],emphasizeColor:"",circleBgColor:"",navigationBarTextColor:""}},props:{deviceName:{type:String,default:""},deviceCore:{type:String,default:""},tabbarHeight:{type:[Number,String],default:""},isToHome:{type:Boolean,default:!1}},computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},mounted:function(){var t=uni.getStorageSync("isLogin")||!1;t&&this.init(),this.navigationBarTextColor=this.themei18n.navigationBarTextColor;var e,i=this.themei18n.theme;switch(i){case"default":e="orangeLight";break;case"darkColor":e="blueLight";break;case"lightColor":e="blueLight";break;default:break}var a=this.themei18n.lightColor;this.circleBgColor=a[e],this.emphasizeColor=this.themei18n.emphasizeColor},methods:{init:function(t){this.getParamList()},getParamList:function(t){var e=this,i=(this.CustomBar,this.deviceCore);uni.getStorageSync("screenHeight");n.getOtherParam(this,i).then((function(t){if("200"==t.code){for(var i=t.data,a=[],n=0;n<i.length;n++){var r={},o=i[n],s=o.iconUrl,c=o.name,u=o.updateDate,l=o.unit,v=o.value;r.iconUrl=s,r.name=c,r.updateDate=u,r.unit=l,r.value=v,v.length>10||c.length>8?r.isFullLine=!0:r.isFullLine=!1,a.push(r)}e.paramList=a}else e.$uniUtilsApi.showToast(e.i18n.noData,"none",1e3,!1)}))}}};e.default=r},"8a32":function(t,e,i){"use strict";i.r(e);var a=i("d0b3"),n=i("f5e1");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("ba8f");var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5ce258aa",null,!1,a["a"],o);e["default"]=c.exports},"8dc0":function(t,e,i){"use strict";i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{emphasizeColor:""}},name:"tabbar",props:{pageCur:{type:String,default:""},tabbarList:{type:Array}},computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},mounted:function(){var t=this;this.themeChange();var e=uni.getStorageSync("tabbarHeight");e?this.$emit("getTabbarHeight",e):uni.createSelectorQuery().in(this).select("#tabbar").boundingClientRect((function(e){uni.setStorageSync("tabbarHeight",e.height),t.$emit("getTabbarHeight",e.height)})).exec()},methods:{navChange:function(t){this.$emit("navChange",t)},themeChange:function(){this.emphasizeColor=this.themei18n.emphasizeColor}}};e.default=a},"9a26":function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("9750"),r=a(i("6cbf")),o=a(i("eaf2")),s=a(i("d29e")),c=a(i("fb84")),u=a(i("d907")),l=a(i("f83d")),v={data:function(){return{CustomBar:this.CustomBar,isLogin:!1,isToHome:!1,fromLoginBack:!1,pageCur:"deviceInfo",isShowCustom:!1,tabbarList:[],tabbarHeight:"",deviceCore:"",deviceName:"",settingName:"",command:"",setting:"",value:"",port:"",childPort:""}},computed:{i18n:function(){return this.$i18nMsg()}},onLoad:function(t){var e=uni.getStorageSync("isLogin")||!1;this.isLogin=e,!e&&uni.navigateTo({url:"/pages/login/login"}),this.infoComponent(),this.init(t),this.initTabbar()},onShow:function(){var t=this;this.$uniUtilsApi.toHome(this);var e=this.fromLoginBack;if(e){var i=this.pageCur;this.pageCur="",this.$nextTick((function(){t.pageCur=i,t.fromLoginBack=!1,t.isLogin=!0}))}},methods:{infoComponent:function(){var t=uni.getStorageSync("companyId");this.isShowCustom=-1!==n.customDeviceInfoCompanyIdArr.indexOf(t)},initTabbar:function(){this.tabbarList=[{tabbar:"deviceInfo",tabbarName:this.i18n.deviceNavigation.deviceInfo,tabbarCuIcon:"cuIcon-newsfill"},{tabbar:"deviceParam",tabbarName:this.i18n.deviceNavigation.deviceParam,tabbarCuIcon:"cuIcon-btn"},{tabbar:"deviceSensor",tabbarName:this.i18n.deviceNavigation.deviceSensor,tabbarCuIcon:"cuIcon-rankfill"},{tabbar:"deviceController",tabbarName:this.i18n.deviceNavigation.deviceController,tabbarCuIcon:"cuIcon-settingsfill"}]},init:function(t){var e=t.pageCur,i=t.deviceCore,a=t.deviceName,n=t.settingName,r=t.command,o=t.setting,s=t.value,c=t.port,u=t.childPort;this.pageCur=e||"deviceInfo",this.deviceCore=i,this.deviceName=a,this.settingName=n,this.command=r,this.setting=o,this.value=s,this.port=c,this.childPort=u},getTabbarHeight:function(t){this.tabbarHeight=t},navChange:function(t){var e=this.pageCur;e!==t?this.pageCur=t:(this.$uniUtilsApi.showToast(this.i18n.refreshSuccess,"none",1e3,!1),this.$refs["".concat(t)].init())}},components:{defaultInfoComponent:o.default,customInfoComponent:s.default,paramComponent:c.default,sensorComponent:u.default,controllerComponent:l.default,tabbar:r.default},onShareAppMessage:function(t){var e=this.pageCur,i=this.deviceName,a=this.deviceCore,n=uni.getStorageSync("nickName"),r=uni.getStorageSync("shortCompanyName");return{title:i?"".concat(n).concat(this.i18n.moreOperate.share).concat(i):"".concat(n).concat(this.i18n.moreOperate.share).concat(r),path:"/pages/deviceNavigation/deviceNavigation?deviceName=".concat(i,"&&deviceCore=").concat(a,"&&pageCur=").concat(e)}}};e.default=v},a190:function(t,e,i){"use strict";var a=i("dbce"),n=i("4ea4");i("99af"),i("4de4"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("165c")),o=a(i("f477")),s=a(i("0b74")),c={data:function(){return{CustomBar:this.CustomBar,isLoginOverdue:!1,navigationBarTextColor:"",emphasizeColor:"",circleBgColor:"#ffffff",sensorsList:[],cameraList:[],cameraStyle:"display:none"}},props:{deviceName:{type:String,default:""},deviceCore:{type:String,default:""},tabbarHeight:{type:[Number,String],default:0},isToHome:{type:Boolean,default:!1}},computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},mounted:function(){var t=uni.getStorageSync("isLogin")||!1;t&&this.init()},methods:{init:function(){this.getSensorList(),this.getCameraList(),this.navigationBarTextColor=this.themei18n.navigationBarTextColor;var t,e=this.themei18n.theme;switch(e){case"default":t="orangeLight";break;case"darkColor":t="blueLight";break;case"lightColor":t="blueLight";break;default:break}var i=this.themei18n.lightColor;this.circleBgColor=i[t],this.emphasizeColor=this.themei18n.emphasizeColor},getSensorList:function(t){var e=this,i=this.deviceCore;o.getSensorList(this,i).then((function(t){if("200"==t.code){var i=t.data,a=i.filter((function(t,e){return 0==t.hidden}));if(a.length>0){for(var n=0;n<a.length;n++){var r=a[n].type;a[n].type=e.i18n.deviceSensor.sensorType[r]}e.sensorsList=a}}}))},getCameraList:function(t){var e=this,i=this.deviceCore,a=uni.getStorageSync("userId");s.getCameraList(this,a,i).then((function(t){if("200"==t.code){var i=t.data;e.cameraStyle=0==i.length?"display:none":"display:block";for(var a=0;a<i.length;a++){var n=i[a],r=n.picturePath,o=n.deviceId,s=n.name,c={picturePath:r?"".concat(r):null,deviceId:o,name:s};e.$set(e.cameraList,a,c)}}}))},tapCamera:function(t){var e=t.deviceId,i=t.name;uni.navigateTo({url:"/pages/devicePlayer/devicePlayer?deviceId=".concat(e,"&name=").concat(i)})},tapSensor:function(t){var e=t.sensorId,i=t.sensorName,a=t.deviceCore,n=t.port,r=this.deviceName;uni.navigateTo({url:"/pages/deviceSensorExplain/deviceSensorExplain?sensorId=".concat(e,"&sensorName=").concat(i,"&deviceCore=").concat(a,"&deviceName=").concat(r,"&port=").concat(n)})}},components:{circleComponent:r.default}};e.default=c},a995:function(t,e,i){"use strict";var a=i("f7c6"),n=i.n(a);n.a},aff7:function(t,e,i){"use strict";i.r(e);var a=i("a190"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b0aa:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-5ce258aa]{background-color:#f8f8f8}body.?%PAGE?%[data-v-5ce258aa]{background-color:#f8f8f8}",""]),t.exports=e},ba8f:function(t,e,i){"use strict";var a=i("f649"),n=i.n(a);n.a},beb4:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"cu-bar tabbar bg-white shadow foot",attrs:{id:"tabbar"}},t._l(t.tabbarList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"action",style:{color:t.pageCur==e.tabbar?t.emphasizeColor:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navChange(e.tabbar)}}},[i("v-uni-view",{class:[e.tabbarCuIcon],staticStyle:{"font-size":"44upx"}}),i("v-uni-view",[t._v(t._s(e.tabbarName))])],1)})),1)],1)},r=[]},c142:function(t,e,i){"use strict";function a(t,e){var i=t.$uniBaseRequest(t,"/device/param/list",{deviceCore:e});return i}Object.defineProperty(e,"__esModule",{value:!0}),e.getOtherParam=a},d0b3:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",["deviceInfo"==t.pageCur&&t.isLogin?i("v-uni-view",[t.isShowCustom?t._e():i("defaultInfoComponent",{ref:"deviceInfo",attrs:{deviceCore:t.deviceCore,tabbarHeight:t.tabbarHeight,isToHome:t.isToHome,settingName:t.settingName,command:t.command,setting:t.setting,value:t.value,port:t.port,childPort:t.childPort}}),t.isShowCustom?i("customInfoComponent",{ref:"deviceInfo",attrs:{deviceCore:t.deviceCore,tabbarHeight:t.tabbarHeight,isToHome:t.isToHome,settingName:t.settingName,command:t.command,setting:t.setting,value:t.value,port:t.port,childPort:t.childPort}}):t._e()],1):t._e(),"deviceParam"==t.pageCur&&t.isLogin?i("paramComponent",{ref:"deviceParam",attrs:{deviceCore:t.deviceCore,deviceName:t.deviceName,tabbarHeight:t.tabbarHeight,isToHome:t.isToHome}}):t._e(),"deviceSensor"==t.pageCur&&t.isLogin?i("sensorComponent",{ref:"deviceSensor",attrs:{deviceCore:t.deviceCore,deviceName:t.deviceName,tabbarHeight:t.tabbarHeight,isToHome:t.isToHome}}):t._e(),"deviceController"==t.pageCur&&t.isLogin?i("controllerComponent",{ref:"deviceController",attrs:{deviceCore:t.deviceCore,deviceName:t.deviceName,tabbarHeight:t.tabbarHeight,isToHome:t.isToHome}}):t._e(),i("tabbar",{attrs:{tabbarList:t.tabbarList,pageCur:t.pageCur},on:{navChange:function(e){arguments[0]=e=t.$handleEvent(e),t.navChange.apply(void 0,arguments)},getTabbarHeight:function(e){arguments[0]=e=t.$handleEvent(e),t.getTabbarHeight.apply(void 0,arguments)}}})],1)},r=[]},d907:function(t,e,i){"use strict";i.r(e);var a=i("7b95"),n=i("aff7");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=c.exports},f438:function(t,e,i){"use strict";i.r(e);var a=i("8dc0"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},f5e1:function(t,e,i){"use strict";i.r(e);var a=i("9a26"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},f649:function(t,e,i){var a=i("b0aa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("7a58cced",a,!0,{sourceMap:!1,shadowMode:!1})},f7c6:function(t,e,i){var a=i("3d30");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("74d16bff",a,!0,{sourceMap:!1,shadowMode:!1})},fb84:function(t,e,i){"use strict";i.r(e);var a=i("0ce2"),n=i("6168");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("a995");var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"50bbe48c",null,!1,a["a"],o);e["default"]=c.exports}}]);