(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-moreOperate-moreOperate"],{"06a2":function(t,i,e){"use strict";e.r(i);var a=e("ba39"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},"1da1f":function(t,i,e){"use strict";var a=e("55b6"),s=e.n(a);s.a},"242d":function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[t.isToHome?e("cu-custom",{attrs:{isHome:!0}},[e("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"homeText"},slot:"homeText"},[t._v(t._s(t.i18n.moreOperate.moreOperate))])],2):e("cu-custom",{attrs:{isBack:!0}},[e("template",{staticClass:"text-white",style:[{color:t.navigationBarTextColor}],attrs:{slot:"backText"},slot:"backText"},[t._v(t._s(t.i18n.moreOperate.moreOperate))])],2),e("v-uni-view",{staticClass:"bg-white",staticStyle:{"margin-top":"45upx"}},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-bold ztnCustom-color-black"},[t._v(t._s(t.i18n.moreOperate.convenientOperate))])],1)],1),e("v-uni-view",{staticClass:"cu-list grid col-4 no-border",staticStyle:{background:"rgba(0,0,0,0)"}},[e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tapScan.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cuIcon-scan text-blue",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.moreOperate.scan))])],1)],1),e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",attrs:{"open-type":"share"}},[e("v-uni-view",{staticClass:"cuIcon-share text-olive",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.moreOperate.share))])],1)],1),e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDeviceModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cuIcon-add text-orange",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.bindDevice))])],1)],1),e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modifyModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cuIcon-post text-yellow",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.moreOperate.modifyPassword))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"bg-white",staticStyle:{"margin-top":"45upx"}},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-bold ztnCustom-color-black"},[t._v(t._s(t.i18n.moreOperate.infoManage))])],1)],1),e("v-uni-view",{staticClass:"cu-list grid col-4 no-border",staticStyle:{background:"rgba(0,0,0,0)"}},[e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deviceCamera.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cuIcon-recordfill text-xxl text-blue",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.moreOperate.cameraManager))])],1)],1),e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"-10upx 0"}},[e("v-uni-button",{staticClass:"custom-button",attrs:{"open-type":"openSetting"}},[e("v-uni-view",{staticClass:"cuIcon-safe text-xxl text-olive",staticStyle:{"font-size":"54upx"}}),e("v-uni-view",{staticClass:"padding-sm",staticStyle:{"font-size":"28rpx",color:"#666666"}},[t._v(t._s(t.i18n.authorize))])],1)],1)],1)],1),0!=t.webViewList.length?e("v-uni-view",{staticClass:"bg-white",staticStyle:{"margin-top":"45upx"}},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-bold ztnCustom-color-black"},[t._v(t._s(t.i18n.moreOperate.companyWebPage))])],1)],1),e("v-uni-view",t._l(t.webViewList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"cu-bar bg-white solid-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tapWebView(i)}}},[e("v-uni-view",{staticClass:"action"},[t._v(t._s(i.title))]),e("v-uni-view",{staticClass:"action"},[e("v-uni-view",{staticClass:"cuIcon-right"})],1)],1)})),1)],1):t._e(),e("v-uni-view",{staticClass:"cu-modal bottom-modal",class:[t.isShowBindDeviceModal?"show":""],staticStyle:{"text-align":"start"}},[e("v-uni-view",{staticClass:"cu-dialog bg-white"},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action text-bold"},[t._v(t._s(t.i18n.bindDevice))]),e("v-uni-view",{staticClass:"action text-bold"},[e("v-uni-view",{staticClass:"cuIcon-close text-grey",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDeviceModal.apply(void 0,arguments)}}})],1)],1),e("v-uni-form",{on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDevice.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cu-form-group",staticStyle:{"border-bottom":"1upx solid #eee"}},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.i18n.deviceCore))]),e("v-uni-input",{attrs:{type:"text",placeholder:t.i18n.inputDeviceCore,placeholderStyle:"color:#aaaaaa;letter-spacing:2px",name:"deviceCore"}})],1),e("v-uni-button",{staticClass:"cu-btn block line-grey margin lg",attrs:{"form-type":"submit"}},[t._v(t._s(t.i18n.confirm))])],1)],1)],1),e("v-uni-view",{staticClass:"cu-modal bottom-modal",class:[t.isShowModifyModal?"show":""],staticStyle:{"text-align":"start"}},[e("v-uni-view",{staticClass:"cu-dialog bg-white"},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action text-bold"},[t._v(t._s(t.i18n.moreOperate.modifyPassword))]),e("v-uni-view",{staticClass:"action text-bold"},[e("v-uni-view",{staticClass:"cuIcon-close text-grey",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modifyModal.apply(void 0,arguments)}}})],1)],1),e("v-uni-form",[e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.i18n.moreOperate.oldPassword))]),e("v-uni-input",{attrs:{type:"password",placeholder:t.i18n.moreOperate.inputOldPassword,placeholderStyle:"color:#aaaaaa;letter-spacing:2px",name:"oldPassword"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.changeOldPasswordInput.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"cu-form-group",staticStyle:{"border-bottom":"1upx solid #eee"}},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.i18n.moreOperate.newPassword))]),e("v-uni-input",{attrs:{type:"password",placeholder:t.i18n.moreOperate.inputNewPassword,placeholderStyle:"color:#aaaaaa;letter-spacing:2px",name:"newPassword"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.changeNewPasswordInput.apply(void 0,arguments)}}})],1),e("v-uni-button",{staticClass:"cu-btn block line-grey margin lg",attrs:{"form-type":"reset"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modifyPassword.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.confirm))])],1)],1)],1)],1)},n=[]},4683:function(t,i,e){"use strict";e.r(i);var a=e("242d"),s=e("06a2");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("1da1f");var o,c=e("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"0a0c97ed",null,!1,a["a"],o);i["default"]=r.exports},"55b6":function(t,i,e){var a=e("a7d1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("661a9983",a,!0,{sourceMap:!1,shadowMode:!1})},a7d1:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,"uni-page-body[data-v-0a0c97ed]{background-color:#fff}.custom-button[data-v-0a0c97ed]{position:relative;display:block;margin-left:auto;margin-right:auto;padding-left:0;padding-right:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:18px;text-align:center;text-decoration:none;line-height:1;-webkit-border-radius:0;border-radius:0;-webkit-tap-highlight-color:transparent;overflow:hidden;background-color:#fff}.custom-button[data-v-0a0c97ed]::after{border:0}.custom-button-hover[data-v-0a0c97ed]{background-color:#fff}body.?%PAGE?%[data-v-0a0c97ed]{background-color:#fff}",""]),t.exports=i},ba39:function(t,i,e){"use strict";var a=e("dbce");e("99af"),e("ac1f"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(e("870a")),n=a(e("1b64")),o=a(e("5891")),c={data:function(){return{CustomBar:this.CustomBar,isToHome:!1,fromLoginBack:!1,isLoginOverdue:!1,navigationBarTextColor:"",webViewList:[],isShowBindDeviceModal:!1,isShowModifyModal:!1,oldPassword:"",newPassword:""}},computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},onLoad:function(){this.navigationBarTextColor=this.themei18n.navigationBarTextColor;var t=uni.getStorageSync("isLogin")||!1;t?this.getWebViewList():uni.navigateTo({url:"/pages/login/login"})},onShow:function(){this.$uniUtilsApi.toHome(this);var t=this.fromLoginBack;t&&(this.getWebViewList(),this.fromLoginBack=!1,this.isLoginOverdue=!1)},methods:{deviceCamera:function(){uni.navigateTo({url:"/pages/deviceCamera/deviceCamera"})},tapScan:function(){this.$uniUtilsApi.showToast(this.i18n.noSupport,"none",1e3,!1)},bindDeviceModal:function(){this.isShowBindDeviceModal=!this.isShowBindDeviceModal},bindDevice:function(t){var i=this,e=t.detail.value.deviceCore.replace(/\s/g,"");this.isShowBindDeviceModal=!1,n.getDeviceInfo(this,e).then((function(t){if("200"==t.code){i.$uniUtilsApi.showToast(i.i18n.bindSuccess,"none",1e3,!1);var e=getCurrentPages(),a=e[e.length-2];a&&(a.$vm.refresh=!0)}else i.$uniUtilsApi.showToast(i.i18n.bindFail,"none",1e3,!1)}))},modifyModal:function(){this.isShowModifyModal=!this.isShowModifyModal},changeOldPasswordInput:function(t){this.oldPassword=t.detail.value.replace(/\s/g,"")},changeNewPasswordInput:function(t){this.newPassword=t.detail.value.replace(/\s/g,"")},modifyPassword:function(t){var i=this,e=uni.getStorageSync("userId"),a=this.oldPassword,n=this.newPassword;a.length<6||n.length<6?this.$uniUtilsApi.showToast(this.i18n.moreOperate.passwordLeastLength,"none",1e3,!1):a===n?this.$uniUtilsApi.showToast(this.i18n.moreOperate.passwordEqual,"none",1e3,!1):(s.updatePassword(this,e,a,n).then((function(t){"200"==t.code?(i.modifyModal(),i.$uniUtilsApi.showToast(i.i18n.setSuccess,"none",1e3,!1)):i.$uniUtilsApi.showToast(i.i18n.setFail,"none",1e3,!1)})),this.oldPassword="",this.newPassword="")},getWebViewList:function(){var t=this,i=uni.getStorageSync("companyId");o.getCompanyResource(this,"message",i).then((function(i){if("200"==i.code){for(var e=i.data,a=[],s=0;s<e.length;s++){var n={},o=e[s],c=o.title,r=o.url;n.title=c,n.url=r,a.push(n)}t.webViewList=a}}))},tapWebView:function(t){var i=t.url;uni.navigateTo({url:"/pages/web/web?url=".concat(i)})}},onShareAppMessage:function(t){var i=uni.getStorageSync("nickName"),e=uni.getStorageSync("shortCompanyName");return{title:"".concat(i).concat(this.i18n.moreOperate.share).concat(e),path:"/pages/nav/nav",success:function(t){}}}};i.default=c}}]);