(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/areaList/areaList"],{2513:function(t,e,i){"use strict";var n=i("426e"),r=i.n(n);r.a},"2dc1":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"426e":function(t,e,i){},"56d0":function(t,e,i){"use strict";i.r(e);var n=i("2dc1"),r=i("92a6");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("2513");var c,o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);e["default"]=s.exports},"72d0":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9bc8"));function r(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=n?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=t[a]}return i.default=t,e&&e.set(t,i),i}var c=function(){i.e("components/ztn-custom/surplus/surplus").then(function(){return resolve(i("617a"))}.bind(null,i)).catch(i.oe)},o={data:function(){return{CustomBar:this.CustomBar,isToHome:!1,fromLoginBack:!1,isLoginOverdue:!1,style:"",provinceList:[],provinceId:"",currentProvinceId:"",cityModal:!1,cityList:[],cityId:Number,city:"",currentPage:1,pageSize:30,areaList:[],hasMoreData:!0}},computed:{i18n:function(){return this.$i18nMsg()}},onReady:function(){var e=this,i=this.CustomBar,n=t.getStorageSync("screenHeight"),r=t.getStorageSync("areaHeight");r?this.style="height:".concat(n-r-i,"px"):t.createSelectorQuery().select("#areaModel").boundingClientRect((function(r){e.style="height:".concat(n-r.height-i,"px"),t.setStorageSync("areaHeight",r.height)})).exec()},onLoad:function(e){var i=t.getStorageSync("isLogin")||!1;i?this.getProvinceList():t.navigateTo({url:"/pages/login/login"})},onShow:function(){this.$uniUtilsApi.toHome(this);var t=this.fromLoginBack;t&&(this.getProvinceList(),this.fromLoginBack=!1,this.isLoginOverdue=!1)},methods:{getProvinceList:function(){var t=this;n.getProvinceDeviceNum(this).then((function(e){if("200"==e.code){for(var i=e.data,n=[],r=0;r<i.length;r++){var a=i[r],c=a.province,o=a.provinceId;n.push({province:c,provinceId:o})}t.provinceList=n,t.provinceId=n[0].provinceId,t.getCityList(t.provinceId,!0)}}))},getCityList:function(t,e){var i=this;n.getCityDeviceNum(this,{provinceId:t}).then((function(t){if("200"==t.code){for(var n=t.data,r=[],a=0;a<n.length;a++){var c=n[a],o=c.cityId,s=c.city;r.push({cityId:o,city:s})}if(i.cityList=r,e){var u=r[0],d=u.cityId,f=u.city;i.cityId=d,i.city=f,i.getAreaList()}}}))},getAreaList:function(){var t=this,e=this.cityId,i=this.currentPage,r=this.pageSize;n.getAreaDeviceNum(this,e,i,r).then((function(e){if("200"==e.code){var i=e.data,n=i.currentPage,a=i.data,c=i.total,o=Math.ceil(c/r),s=t.$uniUtilsApi.initDeviceList(t.i18n.status,a),u=n-1;t.$set(t.areaList,u,s),t.hasMoreData=o>=n,t.currentPage=n+1}}))},showCityModal:function(t){var e=t.provinceId;this.currentProvinceId=e,this.getCityList(e,!1),this.cityModal=!0},hideCityModal:function(){this.cityModal=!1},selectCity:function(t){this.city=t.city,this.cityId=t.cityId,this.provinceId=this.currentProvinceId,this.areaList=[],this.currentPage=1,this.getAreaList(),this.hideCityModal()},deviceNavigation:function(e,i,n){t.navigateTo({url:"/pages/deviceNavigation/deviceNavigation?deviceName=".concat(e,"&deviceCore=").concat(i,"&pageCur=").concat(n)})},scrolltolower:function(){var t=this.hasMoreData;t?this.getAreaList():this.$uniUtilsApi.showToast(this.i18n.hasMoreData,"none",1e3,!1)}},components:{surplus:c},onShareAppMessage:function(e){var i=t.getStorageSync("nickName"),n=t.getStorageSync("shortCompanyName");return{title:"".concat(i).concat(this.i18n.moreOperate.share).concat(n),path:"/pages/areaList/areaList",success:function(t){}}}};e.default=o}).call(this,i("543d")["default"])},"92a6":function(t,e,i){"use strict";i.r(e);var n=i("72d0"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},b1fc:function(t,e,i){"use strict";(function(t){i("91b7"),i("921b");n(i("66fd"));var e=n(i("56d0"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])}},[["b1fc","common/runtime","common/vendor"]]]);