(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/deviceError/deviceError"],{"1ed1":function(t,e,i){"use strict";i.r(e);var n=i("4d94"),r=i("3e4c");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("b6d3");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=c.exports},"3e4c":function(t,e,i){"use strict";i.r(e);var n=i("c378"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"4d94":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement,i=(t._self._c,t._f("formatDate")(t.initEndTimestamp)),n=t._f("formatDate")(t.initEndTimestamp),r=t.__map(t.deviceErrorlist,(function(e,i){var n=t.__get_orig(e),r=t.isShowList?t.__map(e,(function(e,i){var n=t.__get_orig(e),r=t._f("formatDateTime")(e.startDate,t.i18n.unknown),a=t._f("formatDateTime")(e.endDate,t.i18n.unknown);return{$orig:n,f2:r,f3:a}})):null;return{$orig:n,l0:r}}));t.$mp.data=Object.assign({},{$root:{f0:i,f1:n,l1:r}})},a=[]},"5f76":function(t,e,i){},b6d3:function(t,e,i){"use strict";var n=i("5f76"),r=i.n(n);r.a},c378:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(i("ed3d")),r=c(i("d299")),a=o(i("b060"));function o(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=n?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=t[r]}return i.default=t,e&&e.set(t,i),i}var u={mixins:[a.default],data:function(){return{CustomBar:this.CustomBar,isToHome:!1,fromLoginBack:!1,isLoginOverdue:!1,navigationBarTextColor:"",downOption:{use:!0,auto:!1},upOption:{auto:!1,empty:{use:!0,fixed:!0,top:"20%"}},style:"",isShowList:!1,startDate:"",endDate:"",startTimestamp:"",endTimestamp:"",initEndTimestamp:"",initEndDate:"",deviceErrorlist:[],deviceName:"",deviceCore:null,currentPage:1,pageSize:10}},computed:{i18n:function(){return this.$i18nMsg()},themei18n:function(){return this.$themei18nOption()}},onLoad:function(e){var i=t.getStorageSync("isLogin")||!1;this.initOption=e,i?this.init(e):t.navigateTo({url:"/pages/login/login"}),this.navigationBarTextColor=this.themei18n.navigationBarTextColor},onShow:function(){this.$uniUtilsApi.toHome(this);var t=this.initOption,e=this.fromLoginBack;e&&(this.init(t),this.fromLoginBack=!1,this.isLoginOverdue=!1)},methods:{downCallback:function(){this.currentPage=1,this.deviceErrorlist=[],this.mescroll.resetUpScroll()},init:function(t){this.deviceName=t.deviceName||null,this.deviceCore=t.deviceCore||null,this.initDate()},initDate:function(){var t=new Date;this.startTimestamp=Math.round(t.getTime()/1e3-604800).toString(),this.endTimestamp=Math.round(t.getTime()/1e3+10).toString(),this.startDate=n.formatDate(this.startTimestamp),this.endDate=n.formatDate(this.endTimestamp),this.initEndTimestamp=this.endTimestamp,this.getDeviceError()},getDeviceError:function(e){var i=this,n=this.deviceCore,a=this.startTimestamp,o=this.endTimestamp,s=this.currentPage,c=this.pageSize;r.getDeviceError(this,n,a,o,s,c).then((function(e){if("200"==e.code){var n=e.data,r=n.currentPage,a=n.data,o=n.total,s=t.getStorageSync("fixedHeight");s?(i.style="margin-top:".concat(s,"px"),i.isShowList=!0):i.$nextTick((function(){setTimeout((function(){t.createSelectorQuery().select("#fixedBlock").boundingClientRect((function(e){var n=e.height;i.style="margin-top:".concat(n,"px"),i.isShowList=!0,t.setStorageSync("fixedHeight",n)})).exec()}),0)}));for(var c=0;c<a.length;c++){var u=a[c].status;a[c].status=i.i18n.deviceError.errorHandleStatus[u]}i.mescroll.endByPage(a.length,o);var l=r-1;i.$set(i.deviceErrorlist,l,a),i.currentPage=r+1}}))},startDateChange:function(t){var e=t.detail.value.replace(/-/g,"/"),i=(new Date(e).getTime()/1e3).toString(),n=this.endTimestamp;n<i||n==i?this.$uniUtilsApi.showToast(this.i18n.lessEndDate,"none",1e3,!1):(this.startTimestamp=i,this.startDate=t.detail.value,this.currentPage=1,this.deviceErrorlist=[],this.mescroll.scrollTo(0,300),this.mescroll.resetUpScroll())},endDateChange:function(t){var e=t.detail.value.replace(/-/g,"/"),i=(new Date(e).getTime()/1e3+86400).toString(),n=this.startTimestamp;n>i||n==i?this.$uniUtilsApi.showToast(this.i18n.greaterStartDate,"none",1e3,!1):(this.endTimestamp=i,this.endDate=t.detail.value,this.currentPage=1,this.deviceErrorlist=[],this.mescroll.scrollTo(0,300),this.mescroll.resetUpScroll())},deviceNavigation:function(e,i,n){t.navigateTo({url:"/pages/deviceNavigation/deviceNavigation?deviceName=".concat(e,"&deviceCore=").concat(i,"&pageCur=").concat(n)})}},onShareAppMessage:function(e){var i=this.deviceName,n=this.deviceCore,r=t.getStorageSync("nickName"),a=t.getStorageSync("shortCompanyName");return{title:null==i?"".concat(r).concat(this.i18n.moreOperate.share).concat(a):"".concat(r).concat(this.i18n.moreOperate.share).concat(i),path:null==n?"/pages/deviceError/deviceError":"/pages/deviceError/deviceError?deviceName=".concat(i,"&&deviceCore=").concat(n),success:function(t){}}}};e.default=u}).call(this,i("543d")["default"])},f1f7:function(t,e,i){"use strict";(function(t){i("91b7"),i("921b");n(i("66fd"));var e=n(i("1ed1"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])}},[["f1f7","common/runtime","common/vendor"]]]);