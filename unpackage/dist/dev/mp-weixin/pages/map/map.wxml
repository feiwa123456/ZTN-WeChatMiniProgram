<view class="data-v-0b31f540"><cu-custom vue-id="5b0d33c6-1" isBack="{{false}}" class="data-v-0b31f540" bind:__l="__l"></cu-custom><block wx:if="{{isShowMap}}"><map style="width:100%;height:100vh;" id="myMap" scale="{{scale}}" longitude="{{longitude}}" latitude="{{latitude}}" markers="{{markers}}" data-ref="myMap" data-event-opts="{{[['markertap',[['markertap',['$event']]]],['regionchange',[['regionchange',['$event']]]]]}}" bindmarkertap="__e" bindregionchange="__e" class="data-v-0b31f540 vue-ref"></map></block><block wx:if="{{isShowDeviceList}}"><view class="ztnCustom-background-color data-v-0b31f540" style="background:rgba(112, 200, 226,0.2);"><view class="cu-bar bg-white solid-bottom data-v-0b31f540" style="{{'top:'+(CustomBar+'px')+';'}}"><view class="flex align-center justify-start margin data-v-0b31f540" style="white-space:nowrap;"><text class="data-v-0b31f540">{{i18n.number+" : "+totalDeviceNum}}</text></view><view class="flex align-center justify-end margin flex-sub data-v-0b31f540" style="white-space:nowrap;"><picker value="{{currentStatusIndex}}" range="{{i18n.map.productStatusList}}" data-event-opts="{{[['change',[['productStatusChange',['$event']]]]]}}" bindchange="__e" class="data-v-0b31f540"><view class="{{['padding-right-sm data-v-0b31f540',currentStatusIndex!=0?'text-bold text-lg text-grey':'text-grey']}}">{{i18n.map.productStatusList[currentStatusIndex]}}</view></picker><view class="data-v-0b31f540">|</view><picker value="{{currentTypeIndex}}" range="{{productTypeList}}" data-event-opts="{{[['change',[['productTypeChange',['$event']]]]]}}" bindchange="__e" class="data-v-0b31f540"><view class="{{['padding-left-sm data-v-0b31f540',currentTypeIndex!=0?'text-bold text-lg text-grey':'text-grey']}}">{{productTypeList[currentTypeIndex]}}</view></picker></view><view class="bg-white data-v-0b31f540" style="height:865rpx;position:fixed;width:100%;bottom:0;z-index:998;border-top-left-radius:20rpx;border-top-right-radius:20rpx;"><view class="padding-tb-xs text-center data-v-0b31f540" id="hideButton" data-event-opts="{{[['tap',[['hideDeviceList',['$event']]]]]}}" bindtap="__e"><image class="ztnCustom-hideIcon data-v-0b31f540" src="{{hideIcon}}"></image></view><mescroll-uni vue-id="5b0d33c6-2" height="800upx" top="10" down="{{downOption}}" up="{{upOption}}" data-ref="mescrollRef" data-event-opts="{{[['^init',[['mescrollInit']]],['^down',[['downCallback']]],['^up',[['byMarkerPageGetDeviceList']]]]}}" bind:init="__e" bind:down="__e" bind:up="__e" class="data-v-0b31f540 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{deviceList}}" wx:for-item="arrItem" wx:for-index="arrIndex" wx:key="arrIndex"><view class="data-v-0b31f540"><block wx:for="{{arrItem}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="data-v-0b31f540"><view class="{{['flex align-center padding-tb solid-bottom ztnCustom-cur data-v-0b31f540',modalDeviceName==item.deviceName?'ztnCustom-move-cur':'']}}" data-deviceName="{{item.deviceName}}" data-event-opts="{{[['touchstart',[['ListTouchStart',['$event']]]],['touchmove',[['ListTouchMove',['$event']]]],['touchend',[['ListTouchEnd',['$event']]]]]}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view class="cu-avatar lg margin-lr data-v-0b31f540" style="{{'background-color:rgba(0,0,0,0);'+('background-image:'+('url('+item.deviceIcon+')')+';')}}"></view><view data-event-opts="{{[['tap',[['deviceNavigation',['$0','$1','deviceInfo'],[[['deviceList','',arrIndex],['','',index,'deviceName']],[['deviceList','',arrIndex],['','',index,'deviceCore']]]]]]]}}" class="flex-sub data-v-0b31f540" bindtap="__e"><view class="flex align-center justify-between data-v-0b31f540"><view class="margin-bottom-xs text-cut text-lg text-bold data-v-0b31f540" style="width:42vw;">{{item.deviceName}}</view><view class="flex align-center justify-center margin-bottom-xs data-v-0b31f540"><surplus class="surplus data-v-0b31f540" vue-id="{{('5b0d33c6-3-'+arrIndex+'-'+index)+','+('5b0d33c6-2')}}" id="surplus" surplus="{{item.surplus}}" bind:__l="__l"></surplus><text class="text-center data-v-0b31f540" style="{{'width:16vw;'+('color:'+(item.statusColor)+';')}}">{{item.deviceStatu}}</text></view></view><view class=" margin-bottom-xs data-v-0b31f540">{{item.deviceCore}}</view><view class="text-cut text-gray data-v-0b31f540" style="width:75vw;">{{item.deviceAddr}}</view></view><view class="ztnCustom-move data-v-0b31f540"><view data-event-opts="{{[['tap',[['deviceNavigation',['$0','$1','deviceController'],[[['deviceList','',arrIndex],['','',index,'deviceName']],[['deviceList','',arrIndex],['','',index,'deviceCore']]]]]]]}}" class="bg-green light text-center view data-v-0b31f540" bindtap="__e"><text class="cuIcon-repairfill padding-right-xs text-xl data-v-0b31f540"></text><text class="data-v-0b31f540">{{i18n.map.controller}}</text></view><view data-event-opts="{{[['tap',[['navigation',['$0'],[[['deviceList','',arrIndex],['','',index]]]]]]]}}" class="bg-blue light text-center view data-v-0b31f540" bindtap="__e"><text class="cuIcon-footprint padding-right-xs text-xl data-v-0b31f540"></text><text class="data-v-0b31f540">{{i18n.map.navigation}}</text></view></view></view></view></block></view></block></mescroll-uni></view></view></view></block><block wx:else><view style="{{'position:fixed;top:0;right:0;z-index:1024;'+('top:'+(CustomBar+'px')+';')}}" class="data-v-0b31f540"><view class="text-center margin data-v-0b31f540"><text data-event-opts="{{[['tap',[['tapMode',['listMode']]]]]}}" class="cuIcon-list data-v-0b31f540" style="{{'border-top-left-radius:6px;border-bottom-left-radius:6px;padding:15rpx 30rpx;font-size:36rpx;'+(showMode=='listMode'?selectStyle:unselectStyle)}}" bindtap="__e"></text><text data-event-opts="{{[['tap',[['tapMode',['pointMode']]]]]}}" class="cuIcon-radiobox data-v-0b31f540" style="{{'border-top-right-radius:6px;border-bottom-right-radius:6px;padding:15rpx 30rpx;font-size:36rpx;'+(showMode=='pointMode'?selectStyle:unselectStyle)}}" bindtap="__e"></text></view></view></block><block wx:if="{{!isLogin}}"><map-fav class="ztnCustom-mapFav data-v-0b31f540" vue-id="5b0d33c6-4" loginForMore="{{i18n.leadGotoLogin.loginForMore}}" immediateLoginText="{{i18n.leadGotoLogin.immediateLoginText}}" data-event-opts="{{[['^parentEvent',[['goToLogin']]]]}}" bind:parentEvent="__e" bind:__l="__l"></map-fav></block></view>