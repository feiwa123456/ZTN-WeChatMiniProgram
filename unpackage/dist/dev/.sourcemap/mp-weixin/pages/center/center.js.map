{"version":3,"sources":["webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?4d43","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?2a15","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?0974","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?8a9f","uni-app:///pages/center/center.vue","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,k0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuGt0B;AACA;AACA;AACA;AACA,2G;AACA;AACA,MADA,kBACA;AACA;AACA,oBADA;AAEA,2BAFA;AAGA,kBAHA;AAIA,mBAJA;AAKA,wCALA;AAMA,0CANA;AAOA,4BAPA;AAQA,6BARA;AASA,0BATA;AAUA,wBAVA;;AAYA,GAdA;AAeA,yBAfA;AAgBA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA;AACA,KANA,EAhBA;;AAwBA;AACA;AACA;AACA;AACA,GA5BA;AA6BA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,qFATA,sIADA;;AAYA;AACA;AACA,iCADA;;AAGA,KAhBA;AAiBA;AACA;AACA;AACA;AACA,mBADA;AAEA,qCAFA;;AAIA;AACA,KAzBA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAdA;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEADA;AAEA,iDAFA;;AAIA;AACA;AACA;AACA,eATA,EASA,EATA;AAUA,aAXA,MAWA;AACA;AACA;AACA,wDADA;AAEA,gDAFA;;AAIA;AACA;AACA,WApBA;AAqBA;AACA;AACA,OAhDA;AAiDA,KA5EA;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KArFA;AAsFA;AACA;AACA,6CADA;;AAGA,KA1FA;AA2FA;AACA;AACA,+CADA;;AAGA,KA/FA;AAgGA;;;;;AAKA;;AAEA,KAvGA;AAwGA;AACA;AACA,6CADA;;AAGA,KA5GA;AA6GA;AACA;AACA,+CADA;;AAGA,KAjHA;AAkHA;AACA;AACA,6CADA;;AAGA,KAtHA;AAuHA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApIA;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA,OAZA,MAYA;AACA;AACA;AACA;AACA;AACA,KA1JA;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA,KA1KA;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBADA;AAEA,uBAFA;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAzBA;AA0BA,OA5CA,EA4CA;AACA;AACA,OA9CA;AA+CA,KA/NA;AAgOA;AACA;AACA,KAlOA;AAmOA;AACA;AACA,KArOA,EA7BA,E;;;;;;;;;;;;;kDC5GA,wCAAmB;AACnB;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C","file":"pages/center/center.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./center.vue?vue&type=template&id=2fc1a426&\"\nvar renderjs\nimport script from \"./center.vue?vue&type=script&lang=js&\"\nexport * from \"./center.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/center/center.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=template&id=2fc1a426&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isLogin ? _vm.tapCurrentVersion() : _vm.unLogin()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isLogin ? _vm.moreOperate() : _vm.unLogin()\n    }\n\n    _vm.e2 = function($event) {\n      _vm.isLogin ? _vm.deviceNotice() : _vm.unLogin()\n    }\n\n    _vm.e3 = function($event) {\n      _vm.isLogin ? _vm.tapScan() : _vm.unLogin()\n    }\n\n    _vm.e4 = function($event) {\n      _vm.isLogin ? _vm.deviceError() : _vm.unLogin()\n    }\n\n    _vm.e5 = function($event) {\n      _vm.isLogin ? _vm.deviceStatus() : _vm.unLogin()\n    }\n\n    _vm.e6 = function($event) {\n      _vm.isLogin ? _vm.more() : _vm.unLogin()\n    }\n\n    _vm.e7 = function($event) {\n      _vm.isLogin ? _vm.pushMessage() : _vm.unLogin()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"background-color: #f8f8f8;height:100vh\">\r\n\t\t<cu-custom :isBack=\"false\"></cu-custom>\r\n\t\t<view class=\"bg-white padding-top\">\r\n\t\t\t<view class=\"flex justify-end padding-top-xs padding-lr-xl\" @tap=\"isLogin ? tapCurrentVersion() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-info text-grey\" style=\"font-size:36upx;\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<view class=\"padding-bottom\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<view v-if=\"isLogin\" class=\"cu-avatar xl round margin-left bg-gray\" :style=\"[{backgroundImage:`url(${avatarUrl})`}]\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"cu-avatar xl round margin-left bg-gray\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-people text-sl text-white\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t<view class=\"cu-avatar xl round margin-left bg-gray\"><text class=\"cuIcon-people text-sl text-white\"></text></view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<view v-if=\"isLogin\" class=\"cu-btn round lines-grey shadow margin-left\">{{userName}}</view>\r\n\t\t\t\t\t<button v-else class=\"cu-btn round lines-grey shadow margin-left\" @tap=\"goToLogin\">{{i18n.login.login}}</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border text-black\" style=\"background:rgba(0,0,0,0);padding:20upx 0upx;\">\r\n\t\t\t\t<view class=\"cu-item\" v-for=\"(item,index) in deviceStatusList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"text-lg padding-xs\">{{item.num}}</view>\r\n\t\t\t\t\t<view style=\"color:#666666\">{{i18n.status[index]}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"shadow-warp bg-white\" style=\"border-radius:20upx;margin-top:65upx;\">\r\n\t\t\t<view class=\"cu-bar bg-white solid-bottom\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\" @tap=\"isLogin ? moreOperate() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.moreOperate.moreOperate}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border\" style=\"background:rgba(0,0,0,0)\">\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceNotice() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-noticefill text-xxl text-olive\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.notice}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? tapScan() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-scan text-xxl text-blue\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.scan}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceError() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-warnfill text-xxl text-orange\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.warn}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceStatus() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-order text-xxl text-yellow\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.upperAndlowerLine}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--  @tap=\"isLogin ? moreSetting() : unLogin()\" -->\r\n\t\t<!-- shadow -->\r\n\t\t<view class=\"shadow-warp bg-white\" style=\"border-radius:20upx;margin-top:65upx;\">\r\n\t\t\t<view class=\"cu-bar bg-white solid-bottom\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\" @tap=\"isLogin ? more() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.moreSetting.moreSetting}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border\" style=\"background:rgba(0,0,0,0) \">\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? pushMessage() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-pullup text-xxl text-olive\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.pushMessage}}</view>\r\n\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.messageList[currentMessageIndex]}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<picker @change=\"languagePickerChange\" :value=\"currentLanguageIndex\" :range=\"i18n.moreSetting.languageList\">\r\n\t\t\t\t\t\t<view class=\"cuIcon-settings text-xxl text-blue\"></view>\r\n\t\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.language}}</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.languageList[currentLanguageIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<picker @change=\"themePickerChange\" :value=\"currentThemeIndex\" :range=\"i18n.moreSetting.themeList\">\r\n\t\t\t\t\t\t<view class=\"cuIcon-magic text-xxl text-orange\"></view>\r\n\t\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.theme}}</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.themeList[currentThemeIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isLogin\" class=\"cu-item\" @tap=\"tapLogout\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<view class=\"cuIcon-exit text-xxl text-yellow\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.logout}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as userApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/userApi/userApi.js'\r\n\timport * as deviceInfoApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceInfoApi/deviceInfoApi.js'\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\timport * as tokenApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/tokenApi/tokenApi.js'\r\n\timport messages from '@/common/utils/messages/messages.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLogin: false,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tavatarUrl: '',\r\n\t\t\t\tdeviceStatusList: [{},{},{},{}],\r\n\t\t\t\tdeviceStatusNumberList: [0, 0, 0, 0],\r\n\t\t\t\tcurrentMessageIndex: 0,\r\n\t\t\t\tcurrentLanguageIndex: 0,\r\n\t\t\t\tcurrentThemeIndex: 0,\r\n\t\t\t\topenMessage: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'centerComponent',\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t},\r\n\t\t\tthemei18n() {\r\n\t\t\t\treturn this.$themei18nOption()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin')\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin ? this.init() : this.getUnLoginDeviceStatusCount()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit: async function() {\r\n\t\t\t\tthis.getDeviceStatusCount()\r\n\t\t\t\tthis.userName = uni.getStorageSync('userName')\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tthis.avatarUrl = uni.getStorageSync('avatarUrl')\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.openMessage = uni.getStorageSync('openMessage') || false\r\n\t\t\t\tthis.currentMessageIndex = uni.getStorageSync('messageIndex') || 0\r\n\t\t\t\tthis.currentThemeIndex = uni.getStorageSync('themeIndex') || 0\r\n\t\t\t\tthis.currentLanguageIndex = uni.getStorageSync('languageIndex') || 0\r\n\t\t\t},\r\n\t\t\tgoToLogin: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/login/login`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetUnLoginDeviceStatusCount: function() {\r\n\t\t\t\tlet deviceStatusList = this.deviceStatusList\r\n\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\tnum: '--',\r\n\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDeviceStatusCount: function() {\r\n\t\t\t\tdeviceBelongApi.getDeviceStatusCount(this).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tlet num = data[i].num\r\n\t\t\t\t\t\t\tswitch (data[i].status) {\r\n\t\t\t\t\t\t\t\tcase 'ONLINE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 0, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'OFFLINE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 1, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'UNACTIVE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 2, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'DISABLE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 3, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet j = 0\r\n\t\t\t\t\t\tlet deviceStatusList = this.deviceStatusList\r\n\t\t\t\t\t\tlet deviceStatusNumberList = this.deviceStatusNumberList\r\n\t\t\t\t\t\tlet numDH = () => {\r\n\t\t\t\t\t\t\tif (j < 20) {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\t\t\t\t\t\tnum: this.deviceStatusNumberList[i] === 0 ? 0 : j,\r\n\t\t\t\t\t\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj++\r\n\t\t\t\t\t\t\t\t\tnumDH()\r\n\t\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\t\t\t\t\tnum: this.deviceStatusNumberList[i],\r\n\t\t\t\t\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnumDH()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapCurrentVersion: function() {\r\n\t\t\t\tlet currentVersion = this.i18n.currentVersion\r\n\t\t\t\tlet browserVersion = wx.getStorageSync('browserVersion') || '1.1.24'\r\n\t\t\t\tlet confirmText = this.i18n.confirm\r\n\t\t\t\tlet cancelText = this.i18n.cancel\r\n\t\t\t\tthis.$uniUtilsApi.showModal(currentVersion, browserVersion, false, confirmText, cancelText, (res) => {\r\n\t\t\t\t\treturn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmoreOperate: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/moreOperate/moreOperate`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceNotice: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNotice/deviceNotice`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapScan: function() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noSupport, 'none', 1000, false)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN || APP-PLUS\r\n\t\t\t\tthis.$uniUtilsApi.handleScan(this)\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tdeviceError: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceError/deviceError`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceStatus: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceStatus/deviceStatus`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmoreSetting: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/moreSetting/moreSetting`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpushMessage: function() {\r\n\t\t\t\tlet openMessage = !this.openMessage\r\n\t\t\t\tif (openMessage) {\r\n\t\t\t\t\tlet openMessageTxt = this.i18n.openMessage\r\n\t\t\t\t\tthis.$uniUtilsApi.bindUserSocket(openMessageTxt)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet closeMessageTxt = this.i18n.closeMessage\r\n\t\t\t\t\tthis.$uniUtilsApi.unBindUserSocket(closeMessageTxt)\r\n\t\t\t\t}\r\n\t\t\t\tthis.openMessage = openMessage\r\n\t\t\t\tthis.currentMessageIndex = openMessage ? 1 : 0\r\n\t\t\t\tuni.setStorageSync('openMessage', openMessage)\r\n\t\t\t\tuni.setStorageSync('messageIndex', this.currentMessageIndex)\r\n\t\t\t},\r\n\t\t\tlanguagePickerChange: function(e) {\r\n\t\t\t\tlet isLogin = this.isLogin\r\n\t\t\t\tlet languageIndex = parseInt(e.detail.value)\r\n\t\t\t\tlet language = languageIndex == 0 ? 'zh' : 'en'\r\n\t\t\t\tif (isLogin) {\r\n\t\t\t\t\tlet userId = wx.getStorageSync('userId')\r\n\t\t\t\t\tuserApi.updateLanguage(this, language, userId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tthis.currentLanguageIndex = languageIndex\r\n\t\t\t\t\t\t\tthis.$i18n.locale = language\r\n\t\t\t\t\t\t\tthis.$emit('languageChange')\r\n\t\t\t\t\t\t\tuni.setStorageSync('language', language)\r\n\t\t\t\t\t\t\tuni.setStorageSync('languageIndex', languageIndex)\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeLanguage, 'none', 1000, false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$i18n.locale = language\r\n\t\t\t\t\tthis.$emit('languageChange')\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeLanguage, 'none', 1000, false)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tthemePickerChange: function(e) {\r\n\t\t\t\tlet isLogin = this.isLogin\r\n\t\t\t\tif (isLogin) {\r\n\t\t\t\t\tlet index = e.detail.value\r\n\t\t\t\t\tlet themeList = ['default', 'darkColor', 'lightColor']\r\n\t\t\t\t\tlet theme = themeList[index]\r\n\t\t\t\t\tthis.currentThemeIndex = index\r\n\t\t\t\t\tthis.$themei18n.locale = theme\r\n\t\t\t\t\tuni.setStorageSync('theme', theme)\r\n\t\t\t\t\tuni.setStorageSync('themeIndex', index)\r\n\t\t\t\t\tthis.$emit('themeChange')\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeTheme, 'none', 1000, false)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.unLogin()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttapLogout: function() {\r\n\t\t\t\tlet logout = this.i18n.moreSetting.logout\r\n\t\t\t\tlet logoutContent = this.i18n.moreSetting.logoutContent\r\n\t\t\t\tlet confirmText = this.i18n.confirm\r\n\t\t\t\tlet cancelText = this.i18n.cancel\r\n\t\t\t\tthis.$uniUtilsApi.showModal(logout, logoutContent, true, confirmText, cancelText, (res) => {\r\n\t\t\t\t\tlet openid = uni.getStorageSync('openid')\r\n\t\t\t\t\tlet promise;\r\n\t\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\tpromise = userApi.loginOut(this, {\r\n\t\t\t\t\t\topenid: openid,\r\n\t\t\t\t\t\ttype: 'wxAPP'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//#endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tpromise = userApi.loginOut(this, {\r\n\t\t\t\t\t\topenid: openid,\r\n\t\t\t\t\t\ttype: 'gzh'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tpromise = tokenApi.loginOut(this, {})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\t\tif (res.status) {\r\n\t\t\t\t\t\t\tlet openMessage = uni.getStorageSync('openMessage') || false\r\n\t\t\t\t\t\t\tlet closeMessageTxt = this.i18n.closeMessage\r\n\t\t\t\t\t\t\tif(openMessage) this.$uniUtilsApi.unBindUserSocket(closeMessageTxt)\r\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\tuni.removeStorageSync('password')\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef H5 || MP-WEIXIN\r\n\t\t\t\t\t\t\tuni.removeStorageSync('openid')\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tuni.removeStorageSync('nickName')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('avatarUrl')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('userId')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('userName')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('devKey')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('accessToken')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('singleLogin')\r\n\t\t\t\t\t\t\tuni.setStorageSync('isLogin', false)\r\n\t\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\t\tif(openMessage) this.$uniUtilsApi.closeSocket()\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.logoutSuccess, 'success', 1000, false)\r\n\t\t\t\t\t\t\tthis.$emit('unLogin')\r\n\t\t\t\t\t\t\tthis.getUnLoginDeviceStatusCount()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\treturn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tunLogin: function() {\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.leadGotoLogin.unLogStatuTxt, 'none', 1000, false)\r\n\t\t\t},\r\n\t\t\tmore: function() {\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noSupport, 'none', 1000, false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n</style>\n","import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/center/center.vue'\ncreatePage(Page)"],"sourceRoot":""}