{"version":3,"sources":["uni-app:///main.js","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?0ade","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?4e13","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?c655","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?b71e","uni-app:///pages/nav/nav.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?cef2","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?4f98","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?7cdc","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?0271","uni-app:///pages/home/home.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?1ddd","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/home/home.vue?c3c1","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?602f","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?b8dc","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?5b1e","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?8294","uni-app:///pages/map/map.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?fd3a","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/map/map.vue?5338","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?05df","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?f499","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?b09c","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?df26","uni-app:///pages/list/list.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?4d43","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?2a15","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?0974","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/center/center.vue?8a9f","uni-app:///pages/center/center.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?8ce9","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/nav/nav.vue?fae5"],"names":["createPage","Page"],"mappings":";;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,sF;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+yB,CAAgB,+zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBn0B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6H;AACA;AACA,iCADA;AAEA,MAFA,kBAEA;AACA;AACA,+BADA;AAEA,0BAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,iBALA;AAMA,oBANA;AAOA,sBAPA;AAQA,kBARA;AASA,2BATA;AAUA,4BAVA;;AAYA,GAfA;AAgBA;AACA,QADA,kBACA;AACA;AACA,KAHA,EAhBA;;AAqBA,gCArBA;AAsBA;AACA;AACA;AACA,GAzBA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA,GA1CA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAPA;AAQA;AACA;AACA,sBADA;AAEA,sCAFA;AAGA,uCAHA;;AAKA;AACA,qBADA;AAEA,qCAFA;AAGA,2CAHA,EALA;;AAUA;AACA,sBADA;AAEA,sCAFA;AAGA,yCAHA,EAVA;;AAeA;AACA,wBADA;AAEA,wCAFA;AAGA,yCAHA,EAfA;;;AAqBA,KA9BA;AA+BA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;AAmBA,KArDA;AAsDA;AACA;AACA,KAxDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtEA;AAuEA;AACA;AACA,KAzEA;AA0EA;AACA;AACA,KA5EA;AA6EA;AACA;AACA;AACA,KAhFA;AAiFA;AACA;AACA,KAnFA;AAoFA;AACA;AACA,KAtFA;AAuFA;AACA;AACA,KAzFA;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SAPA;AAQA;AACA;AACA,SAVA;;AAYA,KAxGA;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvHA;AAwHA;AACA;AACA;;AAEA;AACA,4BADA;AAEA,sBAFA;AAGA,wBAHA;;;;;;;;;;AAaA;AACA;AACA;AACA;;;;;;;;AAQA,sBARA,CAEA,MAFA,aAEA,MAFA,CAGA,QAHA,aAGA,QAHA,CAIA,MAJA,aAIA,MAJA,CAKA,WALA,aAKA,WALA,CAMA,WANA,aAMA,WANA,CAOA,QAPA,aAOA,QAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAHA,CAGA;AACA;AACA;AACA;AACA,iGADA,CACA;AACA,oBA/BA;;AAiCA;AACA,OApCA;AAqCA,KA9KA;AA+KA;AACA;AACA;AACA;AACA;AACA,KApLA;AAqLA;AACA;AACA;AACA,KAxLA,EA3CA;;AAqOA;AACA,gCADA;AAEA,8BAFA;AAGA,gCAHA;AAIA,oCAJA;AAKA,kBALA,EArOA;;AA4OA;AACA;AACA;AACA;AACA;AACA,6FADA;AAEA,qDAFA;AAGA;AACA,OAJA;;AAMA,GAtPA,E;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACqC;;;AAGxF;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgzB,CAAgB,g0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Gp0B;AACA;AACA;AACA,4I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,yBADA,EAEA,wBAFA,EAGA,eAHA,EAIA,4BAJA,EAKA,qBALA,EAMA,kBANA,EAOA,mBAPA,EAQA,cARA,EASA,cATA,EAUA,cAVA,EAWA,aAXA,EAYA,+BAZA,EAaA,kBAbA,EAcA,eAdA,EAeA,aAfA,EAgBA,WAhBA,EAiBA,mBAjBA,EAkBA,cAlBA,EAmBA,YAnBA,EAoBA,cApBA,EAqBA,4CArBA,EAsBA,8CAtBA,EAuBA,YAvBA,EAwBA,YAxBA,GA0BA,CA5BA,EA6BA,qBA7BA,EA8BA,SACA,WACA,aADA,EADA,EAIA,gBACA,sBADA,EAEA,WAFA,EAJA,EA9BA,EAuCA,SACA,WACA,eADA,EAEA,OAFA,mBAEA,QAFA,EAEA,QAFA,EAEA,CACA,gCACA,CAJA,EAKA,UALA,EADA,EAvCA,EAgDA,YACA,SADA,uBACA,CACA,+BACA,CAHA,EAIA,IAJA,kBAIA,CACA,uBACA,CANA,EAhDA,EAwDA,6BACA,YACA,CA1DA,EA2DA,WACA,uBACA,gDACA,kCACA,6BACA,2BACA,CANA,EAOA,uCACA,qBACA,0BACA,CAVA,EAWA,2EACA,sFACA,wBACA,oBACA,cACA,uCACA,aADA,cAKA,OALA,CAGA,IAHA,WAGA,IAHA,CAIA,GAJA,WAIA,GAJA,CAMA,WACA,gBACA,cACA,eACA,CACA,4BACA,CACA,CAjBA,EAkBA,CA9BA,EA+BA,uEACA,oDACA,kBACA,+BACA,CAFA,MAEA,CACA,0FACA,8BACA,4CACA,CAHA,EAGA,IAHA,GAIA,CACA,CAzCA,EA0CA,gDACA,gCACA,CA5CA,EA6CA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;;;;;AAMA,mBANA,CAGA,OAHA,YAGA,OAHA,CAIA,GAJA,YAIA,GAJA,CAKA,KALA,YAKA,KALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA;AAmBA,KAjEA;AAkEA;AACA;AACA;;;;;;;;;;;;;;;AAeA,KAnFA;AAoFA;AACA;AACA;AACA;AACA;AACA,KAzFA;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,kBAJA,CAEA,IAFA,aAEA,IAFA,CAGA,KAHA,aAGA,KAHA;AAKA;AACA;AACA;AACA;AACA;AACA,yBADA;;;;;AAMA,uBANA,CAGA,WAHA,eAGA,WAHA,CAIA,QAJA,eAIA,QAJA,CAKA,GALA,eAKA,GALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OA7BA;AA8BA,KA7HA;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA,2FADA,CACA;AACA;AACA,SATA,MASA;AACA;AACA;AACA;AACA,6GADA,CACA;AACA;AACA;AACA,wGADA,CACA;AACA;AACA;AACA,mGADA,CACA;AACA,sBATA;;AAWA,WAZA,MAYA;AACA,+FADA,CACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA,OA9BA;;AAgCA,KArKA;AAsKA;AACA;AACA;AACA;AACA,OAFA;AAGA,KA3KA;AA4KA;AACA;AACA,+CADA;;AAGA,KAhLA;AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzBA;AA0BA,KA7MA;AA8MA;AACA;AACA,uBADA;AAEA,iCAFA;;AAIA;AACA,KApNA;AAqNA;AACA;AACA,KAvNA;AAwNA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;AAOA,KAlOA,EA3DA,E;;;;;;;;;;;;;;AC9GA;AAAA;AAAA;AAAA;AAA8qC,CAAgB,iqCAAG,EAAC,C;;;;;;;;;;ACAlsC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACqC;;;AAGvF;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,sQAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA+yB,CAAgB,+zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8En0B;;;AAGA,qK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2qBACA,EACA,iCADA,EACA;AACA,MAFA,kBAEA,CACA,SACA,cACA,UADA,EAEA,WAFA,CAEA;AAFA,OADA,EAKA,YACA,SACA,SADA,EAEA,WAFA,EAGA,UAHA,EADA,EALA,EAYA,yBAZA,EAaA,aAbA,EAcA,qBAdA,EAeA,eAfA,EAgBA,YAhBA,EAiBA,eAjBA,EAkBA,iBAlBA,EAmBA,6BAnBA,EAoBA,8BApBA,EAqBA,UArBA,EAsBA,gBAtBA,EAuBA,qBAvBA,EAwBA,mBAxBA,EAyBA,WAzBA,EA0BA,gBA1BA,EA2BA,cA3BA,EA4BA,YA5BA,EA6BA,eA7BA,EA8BA,YA9BA,EA+BA,qBA/BA,EAgCA,mBAhCA,EAiCA,mBAjCA,EAkCA,mBAlCA,EAmCA,cAnCA,EAoCA,uBApCA,EAqCA,iBArCA,EAsCA,wCAtCA,EAuCA,mBAvCA,EAwCA,iBAxCA,EAyCA,wBAzCA,GA2CA,CA9CA,EA+CA,oBA/CA,EAgDA,YACA,IADA,kBACA,CACA,uBACA,CAHA,EAIA,SAJA,uBAIA,CACA,+BACA,CANA,EAhDA,EAwDA,qCACA,mDACA,iHACA,mHACA,CA5DA,EA6DA,6BACA,qDACA,uBACA,uBACA,CAjEA,EAkEA,WACA,uBACA,4DACA,yBACA,0BACA,4BACA,CANA,EAOA,oDACA,6BACA,+BACA,uBACA,4BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA;AAaA,KAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAhCA;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAxCA;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA3DA;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAlFA;AAmFA;AACA;AACA;AACA;AACA;AACA,KAxFA;AAyFA;AACA;AACA;AACA;AACA,KA7FA;AA8FA;AACA;AACA;AACA;AACA,qCADA;;;;;AAMA,yBANA,CAGA,UAHA,qBAGA,UAHA,CAIA,UAJA,qBAIA,UAJA,CAKA,OALA,qBAKA,OALA;AAOA;AACA,OARA,MAQA;AACA;AACA;AACA,KA5GA;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SADA,EACA;AACA;;;;;AAKA,kBALA,CAEA,YAFA,aAEA,WAFA,CAGA,IAHA,aAGA,IAHA,CAIA,KAJA,aAIA,KAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA;AAiBA,KAtIA;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,IAFA;AAGA,WAVA;AAWA;AACA,OAfA;AAgBA,KAzJA;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;;AAKA,OANA;AAOA;AACA,KApKA;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA;AAQA,KA/KA;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA1LA;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApMA;AAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9MA;AA+MA;AACA;AACA,KAjNA;AAkNA;AACA;AACA,KApNA;AAqNA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA5NA;AA6NA;AACA;AACA,sJADA;;AAGA,KAjOA;AAkOA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA,+BADA;AAEA,gCAFA;AAGA,4BAHA;AAIA,+BAJA;AAKA,0CALA;;AAOA,SAVA;;AAYA,KAnPA;AAoPA;AACA;AACA;AACA;AACA,8BADA;;;;AAKA,6DALA,CAGA,eAHA,yBAGA,eAHA,CAIA,eAJA,yBAIA,eAJA;AAMA;AACA;AACA;AACA,OAVA;AAWA,KAjQA;AAkQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1QA;AA2QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlRA;AAmRA;AACA;AACA,iCADA;;AAGA,KAvRA,EAlEA;;AA2VA;AACA,kBADA;AAEA,oBAFA,EA3VA,E;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAA6qC,CAAgB,gqCAAG,EAAC,C;;;;;;;;;;ACAjsC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgzB,CAAgB,g0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwFp0B;AACA;;;AAGA,0H;AACA;AACA,mCADA,EACA;AACA,MAFA,kBAEA;AACA;AACA,+BADA;AAEA,mBAFA;AAGA,2BAHA;AAIA,+BAJA;AAKA;AACA,iBADA;AAEA,mBAFA,CAEA;AAFA,OALA;AASA;AACA,iBADA;AAEA,mBAFA;AAGA;AACA,mBADA;AAEA,qBAFA;AAGA,oBAHA,EAHA,EATA;;;AAkBA,8CAlBA;AAmBA,wBAnBA;AAoBA,4BApBA;AAqBA,uBArBA;AAsBA,yBAtBA;AAuBA,+BAvBA;AAwBA,yBAxBA;AAyBA,yBAzBA;AA0BA,2BA1BA;AA2BA,2BA3BA;AA4BA,+BA5BA;AA6BA,mCA7BA;AA8BA,0BA9BA;AA+BA,0BA/BA;AAgCA,yBAhCA;AAiCA,2BAjCA;AAkCA,oCAlCA;AAmCA,wCAnCA;AAoCA,0BApCA;AAqCA,0BArCA;AAsCA,yBAtCA;AAuCA,oBAvCA;AAwCA,wBAxCA;AAyCA,qBAzCA;AA0CA,oBA1CA;AA2CA,mBA3CA;AA4CA,sBA5CA;AA6CA,wBA7CA;AA8CA,qBA9CA;AA+CA,oBA/CA;AAgDA,kBAhDA;;AAkDA,GArDA;AAsDA,uBAtDA;AAuDA;AACA,QADA,kBACA;AACA;AACA,KAHA,EAvDA;;AA4DA;AACA;AACA,4BADA;AAEA,mBAFA,EADA;;AAKA;AACA,4BADA;AAEA,iBAFA,EALA,EA5DA;;;AAsEA;AACA;AACA;AACA;AACA,GA1EA;AA2EA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KAtBA;AAuBA;AACA;AACA;AACA;AACA,KA3BA;AA4BA;AACA,yBADA,GACA,cADA;AAEA,2CAFA;AAGA,yBAHA;AAIA,6CAJA;;AAMA,iDANA,iKA5BA;;;AAqCA;AACA;AACA;AACA;AACA;AACA,gCADA;;;;AAKA,+DALA,CAGA,eAHA,yBAGA,eAHA,CAIA,eAJA,yBAIA,eAJA;AAMA;AACA;AACA;AACA;AACA,SAXA;AAYA,OAbA;AAcA,KArDA;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA,OARA;AASA,KAlEA;AAmEA;;;;AAIA,uDAJA,CAEA,iBAFA,yBAEA,iBAFA,CAGA,iBAHA,yBAGA,iBAHA;AAKA;AACA;AACA,KA1EA;AA2EA;AACA;AACA;AACA;AACA,8BADA;;;;AAKA,8DALA,CAGA,gBAHA,yBAGA,gBAHA,CAIA,gBAJA,yBAIA,gBAJA;AAMA;AACA;AACA;AACA,OAVA;AAWA,KAxFA;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aADA;AAEA,iBAFA;AAGA,cAHA,EAGA,IAHA,CAGA;AACA;;;;;AAKA,kBALA,CAEA,YAFA,aAEA,WAFA,CAGA,IAHA,aAGA,IAHA,CAIA,KAJA,aAIA,KAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBALA,EAKA,IALA;AAMA,iBAPA,EAOA,GAPA;AAQA,eATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA5CA;AA6CA,KAjJA;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3JA;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA;AAMA,WAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA,gBAlBA;;AAoBA;AACA,KArLA;AAsLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnMA;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5NA;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArOA;AAsOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7OA;AA8OA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAtPA;AAuPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/PA;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvQA;AAwQA;AACA;AACA,sJADA;;AAGA,KA5QA;AA6QA;AACA;AACA,uCADA;;AAGA,KAjRA;AAkRA;AACA;AACA,iCADA;;AAGA,KAtRA,EA3EA;;AAmWA;AACA,oBADA;AAEA,oBAFA,EAnWA,E;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,k0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuGt0B;AACA;AACA;AACA;AACA,2G;AACA;AACA,MADA,kBACA;AACA;AACA,oBADA;AAEA,2BAFA;AAGA,kBAHA;AAIA,mBAJA;AAKA,wCALA;AAMA,0CANA;AAOA,4BAPA;AAQA,6BARA;AASA,0BATA;AAUA,wBAVA;;AAYA,GAdA;AAeA,yBAfA;AAgBA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA;AACA,KANA,EAhBA;;AAwBA;AACA;AACA;AACA;AACA,GA5BA;AA6BA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,qFATA,sIADA;;AAYA;AACA;AACA,iCADA;;AAGA,KAhBA;AAiBA;AACA;AACA;AACA;AACA,mBADA;AAEA,qCAFA;;AAIA;AACA,KAzBA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAdA;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEADA;AAEA,iDAFA;;AAIA;AACA;AACA;AACA,eATA,EASA,EATA;AAUA,aAXA,MAWA;AACA;AACA;AACA,wDADA;AAEA,gDAFA;;AAIA;AACA;AACA,WApBA;AAqBA;AACA;AACA,OAhDA;AAiDA,KA5EA;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KArFA;AAsFA;AACA;AACA,6CADA;;AAGA,KA1FA;AA2FA;AACA;AACA,+CADA;;AAGA,KA/FA;AAgGA;;;;;AAKA;;AAEA,KAvGA;AAwGA;AACA;AACA,6CADA;;AAGA,KA5GA;AA6GA;AACA;AACA,+CADA;;AAGA,KAjHA;AAkHA;AACA;AACA,6CADA;;AAGA,KAtHA;AAuHA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApIA;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA,OAZA,MAYA;AACA;AACA;AACA;AACA;AACA,KA1JA;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA,KA1KA;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBADA;AAEA,uBAFA;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAzBA;AA0BA,OA5CA,EA4CA;AACA;AACA,OA9CA;AA+CA,KA/NA;AAgOA;AACA;AACA,KAlOA;AAmOA;AACA;AACA,KArOA,EA7BA,E;;;;;;;;;;;;;AC5GA;AAAA;AAAA;AAAA;AAAqpC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;ACAzqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/nav/nav.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/nav/nav.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./nav.vue?vue&type=template&id=4eec0a4e&\"\nvar renderjs\nimport script from \"./nav.vue?vue&type=script&lang=js&\"\nexport * from \"./nav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./nav.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/nav/nav.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./nav.vue?vue&type=template&id=4eec0a4e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./nav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./nav.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<homeComponent v-if=\"pageCur=='home'\" ref=\"home\" :isLogin=\"isLogin\" :tabbarHeight=\"tabbarHeight\" @list='list'></homeComponent>\r\n\t\t<mapComponent v-if=\"pageCur=='map'\" ref=\"map\" :isLogin=\"isLogin\" @isShowNav='isShowNav'>\r\n\t\t</mapComponent>\r\n\t\t<listComponent v-if=\"pageCur=='list'\" ref=\"mescrollItem\" :isLogin=\"isLogin\" :tabbarHeight=\"tabbarHeight\"\r\n\t\t :currentProductId=\"currentProductId\"></listComponent>\r\n\t\t<centerComponent v-if=\"pageCur=='center'\" ref=\"center\" :isLogin=\"isLogin\" @themeChange='themeChange' @languageChange='languageChange'\r\n\t\t @unLogin='unLogin'></centerComponent>\r\n\t\t<tabbar v-if=\"isShow\" ref=\"tabbar\" :tabbarList='tabbarList' :pageCur='pageCur' @navChange=\"navChange\"\r\n\t\t @getTabbarHeight=\"getTabbarHeight\"></tabbar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport tabbar from '@/components/ztn-custom/tabbar/tabbar.vue'\r\n\timport homeComponent from '@/pages/home/home.vue'\r\n\timport mapComponent from '@/pages/map/map.vue'\r\n\timport listComponent from '@/pages/list/list.vue'\r\n\timport centerComponent from '@/pages/center/center.vue'\r\n\timport * as tokenApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/tokenApi/tokenApi.js'\r\n\timport * as userApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/userApi/userApi.js'\r\n\timport * as companyApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/companyApi/companyApi.js'\r\n\timport MescrollCompMixin from '@/components/mescroll-uni/mixins/mescroll-comp.js';\r\n\texport default {\r\n\t\tmixins: [MescrollCompMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tfromLoginBack: false,\r\n\t\t\t\trefresh: false,\r\n\t\t\t\tisLogin: false,\r\n\t\t\t\tpageCur: '',\r\n\t\t\t\ttabbarList: [],\r\n\t\t\t\ttabbarHeight: '',\r\n\t\t\t\tisShow: true,\r\n\t\t\t\tthemeColor: '#70c8e2',\r\n\t\t\t\tcurrentProductId: null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady: function() {},\r\n\t\tonLoad: function() {\r\n\t\t\tthis.getCompanyInfo()\r\n\t\t\tthis.initTabbar()\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tlet fromLoginBack = this.fromLoginBack\r\n\t\t\tlet refresh = this.refresh\r\n\t\t\tif (fromLoginBack || refresh) {\r\n\t\t\t\tlet language = uni.getStorageSync('language')\r\n\t\t\t\tfromLoginBack && this.lang(language)\r\n\t\t\t\tlet pageCur = this.pageCur\r\n\t\t\t\tthis.pageCur = ''\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.connectSocket()\r\n\t\t\t\t\tthis.pageCur = pageCur\r\n\t\t\t\t\tthis.fromLoginBack = false\r\n\t\t\t\t\tthis.refresh = false\r\n\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetCompanyInfo: function() {\r\n\t\t\t\tlet promise = this.$uniUtilsApi.getCompanyInfo(this)\r\n\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\tthis.pageCur = 'home'\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitTabbar: function() {\r\n\t\t\t\tthis.tabbarList = [{\r\n\t\t\t\t\t\ttabbar: 'home',\r\n\t\t\t\t\t\ttabbarName: this.i18n.nav.home,\r\n\t\t\t\t\t\ttabbarCuIcon: 'cuIcon-homefill'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttabbar: 'map',\r\n\t\t\t\t\t\ttabbarName: this.i18n.nav.map,\r\n\t\t\t\t\t\ttabbarCuIcon: 'cuIcon-locationfill'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttabbar: 'list',\r\n\t\t\t\t\t\ttabbarName: this.i18n.nav.list,\r\n\t\t\t\t\t\ttabbarCuIcon: 'cuIcon-circlefill'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttabbar: 'center',\r\n\t\t\t\t\t\ttabbarName: this.i18n.nav.center,\r\n\t\t\t\t\t\ttabbarCuIcon: 'cuIcon-peoplefill'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet openid = uni.getStorageSync('openid')\r\n\t\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\t!openid ? this.WEIXINGetOpenid() : (this.openid = openid, this.useOpenidLogin())\r\n\t\t\t\t\t//#endif\r\n\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t!openid ? this.H5GetOpenid() : (this.openid = openid, this.useOpenidLogin())\r\n\t\t\t\t//#endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tlet userName = uni.getStorageSync('userName')\r\n\t\t\t\tlet password = uni.getStorageSync('password')\r\n\t\t\t\tlet isLogin = uni.getStorageSync('isLogin')\r\n\t\t\t\tlet companyId = uni.getStorageSync('companyId')\r\n\t\t\t\tif (isLogin && userName != '' && password != '') {\r\n\t\t\t\t\tlet promise = tokenApi.userLogin(this, {\r\n\t\t\t\t\t\tcompanyId:companyId,\r\n\t\t\t\t\t\tuserName: userName,\r\n\t\t\t\t\t\tpassword: password\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.useOpenidLogin(promise)\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tgetTabbarHeight: function(tabbarHeight) {\r\n\t\t\t\tthis.tabbarHeight = tabbarHeight\r\n\t\t\t},\r\n\t\t\tnavChange: function(pageCur) {\r\n\t\t\t\tlet isLogin = uni.getStorageSync('isLogin')\r\n\t\t\t\tlet lastPageCur = this.pageCur\r\n\t\t\t\tif (lastPageCur !== pageCur) {\r\n\t\t\t\t\tthis.pageCur = pageCur\r\n\t\t\t\t\tlastPageCur === 'list' && (this.currentProductId = null)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (isLogin) {\r\n\t\t\t\t\t\tpageCur === 'home' && this.$refs[`${pageCur}`].initResource()\r\n\t\t\t\t\t\tpageCur === 'list' ? this.$refs.mescrollItem.refresh() : this.$refs[`${pageCur}`].init()\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.refreshSuccess, 'none', 1000, false)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisShowNav: function(bool) {\r\n\t\t\t\tthis.isShow = bool\r\n\t\t\t},\r\n\t\t\tshowMapFav: function(data) {\r\n\t\t\t\tuni.$emit('MapFavValue', data)\r\n\t\t\t},\r\n\t\t\tlist: function(option) {\r\n\t\t\t\tthis.currentProductId = option.productId\r\n\t\t\t\tthis.pageCur =option.pageCur\r\n\t\t\t},\r\n\t\t\tthemeChange: function() {\r\n\t\t\t\tthis.$refs.tabbar.themeChange();\r\n\t\t\t},\r\n\t\t\tlanguageChange: function() {\r\n\t\t\t\tthis.initTabbar()\r\n\t\t\t},\r\n\t\t\tunLogin: function() {\r\n\t\t\t\tthis.isLogin = false\r\n\t\t\t},\r\n\t\t\tWEIXINGetOpenid: function() {\r\n\t\t\t\tlet companyId = uni.getStorageSync('companyId')\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuserApi.WEIXINGetOpenid(this, res.code, companyId).then((res) => {\r\n\t\t\t\t\t\t\tthis.openid = res.data.openid\r\n\t\t\t\t\t\t\tuni.setStorageSync('openid', this.openid)\r\n\t\t\t\t\t\t\tthis.useOpenidLogin()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.login.userInfoFail, 'none', 1000, false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tH5GetOpenid: function() {\r\n\t\t\t\t// let url = 'http://iot.ztn-tech.com/m/index.html'\r\n\t\t\t\t// let url =\r\n\t\t\t\t// \t'http://iot.ztn-tech.com/m/index.html?from=singlemessage&openid=oZEul5Hry_3fLCDRSdArxYWzROa0&companyId=4#/'\r\n\t\t\t\tlet url = window.location.href;\r\n\t\t\t\tlet params = url.split('?')[1];\r\n\t\t\t\tif (params) {\r\n\t\t\t\t\tlet urlSearchParams = new URLSearchParams(params);\r\n\t\t\t\t\tif (urlSearchParams && urlSearchParams.get('from') == 'singlemessage') {\r\n\t\t\t\t\t\tthis.openid = urlSearchParams.get('openid')\r\n\t\t\t\t\t\tuni.setStorageSync('openid', this.openid)\r\n\t\t\t\t\t\tthis.useOpenidLogin()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseOpenidLogin: function(promise) {\r\n\t\t\t\tlet openid = this.openid\r\n\t\t\t\tlet companyId = uni.getStorageSync('companyId')\r\n\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\tvar promise = tokenApi.userLogin(this, {\r\n\t\t\t\t\tcompanyId:companyId,\r\n\t\t\t\t\topenid: openid,\r\n\t\t\t\t\tgetType: 'wxApp',\r\n\t\t\t\t})\r\n\t\t\t\t//#endif\r\n\t\t\t\t//#ifdef H5\r\n\t\t\t\tvar promise = tokenApi.userLogin(this, {\r\n\t\t\t\t\tcompanyId:companyId,\r\n\t\t\t\t\topenid: openid,\r\n\t\t\t\t\tgetType: 'gzh'\r\n\t\t\t\t})\r\n\t\t\t\t//#endif\r\n\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\tif (res.status) {\r\n\t\t\t\t\t\tswitch (res.code) {\r\n\t\t\t\t\t\t\tcase '200':\r\n\t\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\t\tuserId,\r\n\t\t\t\t\t\t\t\t\tuserName,\r\n\t\t\t\t\t\t\t\t\tdevKey,\r\n\t\t\t\t\t\t\t\t\taccessToken,\r\n\t\t\t\t\t\t\t\t\tsingleLogin,\r\n\t\t\t\t\t\t\t\t\tlanguage\r\n\t\t\t\t\t\t\t\t} = res.data\r\n\t\t\t\t\t\t\t\tlet languageIndex = language == 'zh' ? 0 : 1\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('userId', userId)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('userName', userName)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('devKey', devKey)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('accessToken', accessToken)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('singleLogin', singleLogin)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('language', language)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('languageIndex', languageIndex)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('isLogin', true)\r\n\t\t\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t\t\t\tthis.lang(language)\r\n\t\t\t\t\t\t\t\tthis.connectSocket()\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase '201':\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('isLogin', false)\r\n\t\t\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.login.bindUser, 'none', 1000, false) //请先绑定用户\r\n\t\t\t\t\t\t\t\tthis.lang(uni.getStorageSync('language'))\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.login.unknownError, 'none', 1000, false) //未知错误\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconnectSocket:function(){\r\n\t\t\t\tlet openMessageTxt = this.i18n.openMessage\r\n\t\t\t\tlet closeMessageTxt = this.i18n.closeMessage\r\n\t\t\t\tthis.$uniUtilsApi.connectSocket()\r\n\t\t\t\tthis.$uniUtilsApi.openSocket(this,openMessageTxt, closeMessageTxt)\r\n\t\t\t},\r\n\t\t\tlang: function(language) {\r\n\t\t\t\tthis.$i18n.locale = language\r\n\t\t\t\tthis.languageChange()\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\thomeComponent,\r\n\t\t\tmapComponent,\r\n\t\t\tlistComponent,\r\n\t\t\tcenterComponent,\r\n\t\t\ttabbar\r\n\t\t},\r\n\t\tonShareAppMessage: function(res) {\r\n\t\t\tlet pageCur = this.pageCur\r\n\t\t\tlet nickName = uni.getStorageSync('nickName')\r\n\t\t\tlet shortCompanyName = uni.getStorageSync('shortCompanyName')\r\n\t\t\treturn {\r\n\t\t\t\ttitle: `${nickName}${this.i18n.moreOperate.share}${shortCompanyName}`,\r\n\t\t\t\tpath: `/pages/nav/nav?pageCur=${pageCur}`,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=92bb8f34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92bb8f34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"bg-white\">\r\n\t\t<scroll-view scroll-y=\"true\" class=\"scrollPage\">\r\n\t\t\t<cu-custom :isCustom=\"isLogin\" :customIcon=\"customIcon\" v-on:parentEvent=\"bindDeviceModal\">\r\n\t\t\t</cu-custom>\r\n\t\t\t<!-- <video :src=\"playUrl\" autoplay=\"true\" controls style=\"width:100%;height:100%;position:absolute;top:50%;left: 50%;transform: translate(-50%,-50%);\">\r\n\t\t\t</video> -->\r\n\t\t\t<!-- <view class=\"cuIcon-videofill\" style=\"font-size:65rpx;position:absolute;left:50%;top:50%;transform: translate(-50%, -50%);\"></view>\r\n\t\t\t<view style=\"position:absolute;left:15rpx;bottom:15rpx\">{{item.title}}</view> -->\r\n\t\t\t<swiper v-if=\"show == 'cardSwiper'\" id=\"cardSwiper\" class=\"card-swiper\" :indicator-dots=\"indicatorDots\" :circular=\"circular\"\r\n\t\t\t :autoplay=\"autoplay\" :interval=\"interval\" :duration=\"duration\" @change=\"cardSwiperChange\" :indicator-active-color=\"indicatorActiveColor\">\r\n\t\t\t\t<swiper-item class=\"card-swiper-item\" v-for=\"(item,index) in cardSwiperList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"swiper-item\">\r\n\t\t\t\t\t\t<image :src=\"item.url\" mode=\"aspectFill\" v-if=\"item.type=='phoneSlideshow'\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<view v-else :style=\"[{height:videoHeight + 'px'}]\" style=\"background-color:#f8f8f8\" class=\"padding-bottom\" ref=\"parent\">\r\n\t\t\t\t<!-- #ifdef H5  -->\r\n\t\t\t\t<!-- style=\"width:100vw;height:100vh;position:absolute;top:50%;left: 50%;transform: translate(-50%,-50%);\" -->\r\n\t\t\t\t<view class=\"video-js\" :style=\"[{height:`calc(${videoHeight}px - 30rpx)`}]\" style=\"width: 100vw;\" ref=\"video\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--  #endif -->\r\n\t\t\t\t<!--  #ifdef MP-WEIXIN || APP-NVUE -->\r\n\t\t\t\t<video v-if=\"show == 'agricultureVideo'\" id=\"myVideo\" :style=\"[{height:`calc(${videoHeight}px - 30rpx)`}]\" style=\"width: 100%;\"\r\n\t\t\t\t :src=\"playUrl\" :autoplay=\"autoplay\" controls>\r\n\t\t\t\t</video>\r\n\r\n\t\t\t\t<live-player v-else-if=\"show == 'cameraVideo'\" id=\"livePlayer\" :style=\"[{height:`calc(${videoHeight}px - 30rpx)`}]\"\r\n\t\t\t\t style=\"width:100vw\" :src=\"playUrl\" :orientation=\"direction\" mode=\"live\" muted=\"false\" object-fit='contain'\r\n\t\t\t\t autoplay />\r\n\t\t\t\t<!--  #endif -->\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<view class=\"cuIcon-roundclose text-gray padding-right padding-top\" :style=\"[{top:CustomBar+'px'}]\" style=\"position:absolute;right:0%;font-size:60rpx;\"\r\n\t\t\t\t @tap=\"closeVideo\"></view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"videoList.length != 0\" class=\"cu-bar bg-white\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.home.intelligentAgriculture}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"videoList.length != 0\" class=\"nav-list text-white\">\r\n\t\t\t\t<view v-for=\"(item,index) in videoList\" :key=\"index\" :style=\"[{backgroundImage:`url(${item.iconUrl})`}]\" style=\"border-radius: 12rpx;width: 45%;height:180rpx;margin: 20rpx 2.5% ;background-size: cover;background-position: center;position:relative\"\r\n\t\t\t\t @tap=\"tapVideo(item)\">\r\n\t\t\t\t\t<image :src=\"playUrl == item.url ? pauseIcon : playIcon\" style=\"width:65rpx;height:65rpx;position:absolute;left:50%;top:50%;transform: translate(-50%, -50%);\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"cameraList.length != 0\" class=\"cu-bar bg-white\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.camera.cameraDevice}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\" @tap=\"deviceCamera()\">\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"cameraList.length != 0\" class=\"nav-list \">\r\n\t\t\t\t<view v-for=\"(item,index) in cameraList\" :key=\"index\" :class=\"[item.picturePath?'':'cuIcon-pic']\" class=\"text-grey\"\r\n\t\t\t\t :style=\"[{backgroundImage:`url(${item.picturePath})`}]\" style=\"border-radius: 12rpx;width: 45%;height:180rpx;margin: 20rpx 2.5% ;background-size: cover;background-position: center;position:relative\"\r\n\t\t\t\t @tap=\"tapCamera(item)\">\r\n\t\t\t\t\t<image :src=\"deviceId == item.deviceId ? pauseIcon : playIcon\" style=\"width:65rpx;height:65rpx;position:absolute;left:50%;top:50%;transform: translate(-50%, -50%);\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"productTypeList.length != 0\" class=\"cu-bar\" style=\"border-top-left-radius:20rpx;border-top-right-radius:20rpx;\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold\">{{i18n.home.productType}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"productTypeList.length != 0\" class='nav-list' :style=\"[{paddingBottom:`${tabbarHeight}px`}]\">\r\n\t\t\t\t<view class=\"nav-li text-white\" :style=\"[{backgroundColor:`${item.color}`}]\" @tap=\"list(item)\" v-for=\"(item,index) in productTypeList\"\r\n\t\t\t\t :key=\"index\">\r\n\t\t\t\t\t<view class=\"nav-title\">{{item.num}}</view>\r\n\t\t\t\t\t<view class=\"nav-name\">{{item.name}}</view>\r\n\t\t\t\t\t<view class=\"cu-avatar round  bg-white margin-right-sm nav-image\" :style=\"[{backgroundImage:`url(${item.iconUrl})`}]\"\r\n\t\t\t\t\t style=\"background-color:rgba(0, 0, 0, 0)\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<view v-if=\"isShowBindDeviceModal\" class=\"cu-modal bottom-modal\" :class=\"[isShowBindDeviceModal?'show':'']\" style=\"text-align: start\">\r\n\t\t\t<view class=\"cu-dialog bg-white\">\r\n\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t<view class='action text-bold'>\r\n\t\t\t\t\t\t{{i18n.bindDevice}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='action text-bold'>\r\n\t\t\t\t\t\t<view class=\"cuIcon-close text-grey\" @tap=\"bindDeviceModal\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<form @submit='bindDevice'>\r\n\t\t\t\t\t<view class=\"cu-form-group\" style=\"border-bottom: 1upx solid #eee;\">\r\n\t\t\t\t\t\t<view class=\"title\">{{i18n.deviceCore}}</view>\r\n\t\t\t\t\t\t<input type=\"text\" :placeholder=\"i18n.inputDeviceCore\" placeholderStyle='color:#aaaaaa;letter-spacing:2px' name=\"deviceCore\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" form-type=\"submit\">{{i18n.confirm}}</button>\r\n\t\t\t\t</form>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\timport * as deviceCameraApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceCameraApi/deviceCameraApi.js'\r\n\timport * as deviceInfoApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceInfoApi/deviceInfoApi.js'\r\n\timport * as companyApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/companyApi/companyApi.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tcustomIcon: 'cuIcon-add',\r\n\t\t\t\tcustomColor: '',\r\n\t\t\t\tisShowBindDeviceModal: false,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tshow: 'cardSwiper',\r\n\t\t\t\tindicatorDots: true,\r\n\t\t\t\tcircular: true,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tinterval: 5000,\r\n\t\t\t\tduration: 500,\r\n\t\t\t\tindicatorActiveColor: '#70c8e2',\r\n\t\t\t\tcardSwiperList: [],\r\n\t\t\t\tvideoHeight: '',\r\n\t\t\t\tvideoList: [],\r\n\t\t\t\tplayUrl: '',\r\n\t\t\t\tproductTypeList: [],\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tcameraList: [],\r\n\t\t\t\tplayIcon: '../../static/images/cam/play.png',\r\n\t\t\t\tpauseIcon: '../../static/images/cam/pause.png',\r\n\t\t\t\tdeviceId: '',\r\n\t\t\t\tpushTime: 60,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'homeComponent',\r\n\t\tprops: {\r\n\t\t\tisLogin: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t},\r\n\t\t\ttabbarHeight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tisLogin: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(newValue, oldValue) {\r\n\t\t\t\t\tnewValue && this.initResource()\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tthemei18n() {\r\n\t\t\t\treturn this.$themei18nOption()\r\n\t\t\t},\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet companyId = uni.getStorageSync('companyId')\r\n\t\t\t\tthis.getCardSwiperList(companyId)\r\n\t\t\t\tthis.getVideoList(companyId)\r\n\t\t\t\tthis.getCardSwiperHeight()\r\n\t\t\t},\r\n\t\t\tinitResource: function() {\r\n\t\t\t\tthis.getCameraList()\r\n\t\t\t\tthis.getProductTypeList()\r\n\t\t\t},\r\n\t\t\tgetCardSwiperList: function(companyId) {\r\n\t\t\t\tcompanyApi.getCompanyResource(this, 'phoneSlideshow', companyId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet list = []\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tlet obj = {}\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t} = data[i]\r\n\t\t\t\t\t\t\tobj.id = i\r\n\t\t\t\t\t\t\tobj.type = type\r\n\t\t\t\t\t\t\tobj.url = url\r\n\t\t\t\t\t\t\tlist.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cardSwiperList = list\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCardSwiperHeight: function() {\r\n\t\t\t\tlet videoHeight = uni.getStorageSync('videoHeight')\r\n\t\t\t\tif (videoHeight) {\r\n\t\t\t\t\tthis.videoHeight = videoHeight\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.createSelectorQuery().in(this).select('#cardSwiper').boundingClientRect((e) => {\r\n\t\t\t\t\t\tthis.videoHeight = e.height\r\n\t\t\t\t\t\tuni.setStorageSync('videoHeight', e.height)\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcardSwiperChange: function(e) {\r\n\t\t\t\tthis.cardCur = e.detail.current\r\n\t\t\t},\r\n\t\t\tgetVideoList: function(companyId) {\r\n\t\t\t\tcompanyApi.getCompanyResource(this, 'video', companyId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet list = []\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tlet obj = {}\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\ticonUrl,\r\n\t\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t} = data[i]\r\n\t\t\t\t\t\t\tobj.iconUrl = iconUrl\r\n\t\t\t\t\t\t\tobj.url = url\r\n\t\t\t\t\t\t\tobj.title = title\r\n\t\t\t\t\t\t\tlist.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.videoList = list\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapVideo: function(e) {\r\n\t\t\t\tthis.show = 'agricultureVideo'\r\n\t\t\t\tthis.playUrl = e.url\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet video = document.createElement('video')\r\n\t\t\t\t\tvideo.id = 'video'\r\n\t\t\t\t\t// video.style =\"width:100%;height:100%;position:absolute;top:50%;left: 50%;transform: translate(-50%,-50%);\"\r\n\t\t\t\t\tvideo.autoplay = true\r\n\t\t\t\t\tvideo.controls = true\r\n\t\t\t\t\tlet source = document.createElement('source')\r\n\t\t\t\t\tsource.src = e.url\r\n\t\t\t\t\tvideo.appendChild(source)\r\n\t\t\t\t\tthis.$refs.video.$el.appendChild(video)\r\n\t\t\t\t\tvideojs('video')\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tcloseVideo: function(e) {\r\n\t\t\t\tthis.show = 'cardSwiper'\r\n\t\t\t\tthis.playUrl = ''\r\n\t\t\t\tthis.stopCloud()\r\n\t\t\t\tthis.deviceId = ''\r\n\t\t\t},\r\n\t\t\tgetCameraList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tlet currentPage = this.currentPage\r\n\t\t\t\tlet pageSize = this.pageSize\r\n\t\t\t\tlet arr = []\r\n\t\t\t\tdeviceCameraApi.getCameraDeviceList(this, userId, currentPage, pageSize).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\ttotal\r\n\t\t\t\t\t\t} = res.data\r\n\t\t\t\t\t\tif (total < 1) {\r\n\t\t\t\t\t\t\tthis.cameraList = []\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let index = 0; index < data.length; index++) {\r\n\t\t\t\t\t\t\tlet obj = {}\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tpicturePath,\r\n\t\t\t\t\t\t\t\tdeviceId,\r\n\t\t\t\t\t\t\t\thid\r\n\t\t\t\t\t\t\t} = data[index]\r\n\t\t\t\t\t\t\tobj.picturePath = picturePath && `${picturePath}`\r\n\t\t\t\t\t\t\tobj.deviceId = deviceId\r\n\t\t\t\t\t\t\tobj.hid = hid\r\n\t\t\t\t\t\t\tarr.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (currentPage == 1 && arr.length > 3) {\r\n\t\t\t\t\t\t\tthis.cameraList = arr.slice(1, 5)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.cameraList = arr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.currentPage = currentPage + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapCamera: function(e) {\r\n\t\t\t\tthis.show = 'cameraVideo'\r\n\t\t\t\tthis.playUrl = ''\r\n\t\t\t\tthis.stopCloud()\r\n\t\t\t\tlet deviceId = e.deviceId\r\n\t\t\t\tthis.deviceId = deviceId\r\n\t\t\t\tlet pushTime = this.pushTime\r\n\t\t\t\tdeviceCameraApi.pushCloud(this, deviceId, pushTime).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet playUrl = res.data.playUrl\r\n\t\t\t\t\t\tif (playUrl != null) {\r\n\t\t\t\t\t\t\tlet mediaType = res.data.mediaType\r\n\t\t\t\t\t\t\tthis.playUrl = playUrl\r\n\t\t\t\t\t\t\tthis.videoType = mediaType == 'm3u8' || mediaType == 'httpflv' ? mediaType : 'rtmp'\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.invalidAddress, 'none', 1000, false) //'播放地址无效'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (res.code == '201') {\r\n\t\t\t\t\t\t\tswitch (res.msg) {\r\n\t\t\t\t\t\t\t\tcase 'serverCompany':\r\n\t\t\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.camera.equipmentNotSupported, 'none', 1000, false) //'设备不支持'\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\tcase 'OFFLINE':\r\n\t\t\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.camera.equipmentOffline, 'none', 1000, false) //'设备不在线'\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.camera.pushFailure, 'none', 1000, false) //'推流失败'\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.camera.pushFailure, 'none', 1000, false) //'推流失败'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tstopCloud: function() {\r\n\t\t\t\tlet deviceId = this.deviceId\r\n\t\t\t\tdeviceId && deviceCameraApi.stopCloud(this, deviceId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceCamera: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceCamera/deviceCamera`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProductTypeList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tdeviceBelongApi.getProductTypeList(this, userId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet standardColor = this.themei18n.standardColor\r\n\t\t\t\t\t\tlet colorArr = []\r\n\t\t\t\t\t\tfor (let color in standardColor) {\r\n\t\t\t\t\t\t\tif (color == 'grey') {\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcolorArr.push(standardColor[color])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet colorIndex = 0\r\n\t\t\t\t\t\tlet colorLength = colorArr.length\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tif (colorIndex < colorLength) {\r\n\t\t\t\t\t\t\t\tdata[i].color = colorArr[colorIndex]\r\n\t\t\t\t\t\t\t\tcolorIndex = colorIndex + 1\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata[i].color = colorArr[0]\r\n\t\t\t\t\t\t\t\tcolorIndex = 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.productTypeList = data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlist: function(item) {\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\tpageCur: 'list',\r\n\t\t\t\t\tproductId: item.productId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('list', option);\r\n\t\t\t},\r\n\t\t\tbindDeviceModal: function() {\r\n\t\t\t\tthis.isShowBindDeviceModal = !this.isShowBindDeviceModal\r\n\t\t\t},\r\n\t\t\tbindDevice: function(e) {\r\n\t\t\t\tlet deviceCore = e.detail.value.deviceCore.replace(/\\s/g, '')\r\n\t\t\t\tthis.isShowBindDeviceModal = false\r\n\t\t\t\tdeviceInfoApi.getDeviceInfo(this, deviceCore).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.bindSuccess, 'none', 1000, false)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.bindFail, 'none', 1000, false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.scrollPage {\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.card-swiper-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: flex-start;\r\n\t\toverflow: unset;\r\n\t}\r\n\r\n\t.ztnCustom-videoImage:nth-child(odd) {\r\n\t\tmargin-left: 30rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.ztnCustom-videoImage:nth-child(even) {\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.cardTitle {\r\n\t\tcolor: #fff;\r\n\t\tpadding: 60rpx 30rpx;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 300;\r\n\t\t/* transform: skew(-10deg, 0deg); */\r\n\t\tposition: relative;\r\n\t\ttext-shadow: 0px 0px 6rpx rgba(0, 0, 0, 0.3)\r\n\t}\r\n\r\n\t.nav-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 0px 40upx 0px;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.nav-li {\r\n\t\tpadding: 30upx;\r\n\t\tborder-radius: 12upx;\r\n\t\twidth: 45%;\r\n\t\tmargin: 0 2.5% 40upx;\r\n\t\tbackground-image: url(https://cdn.nlark.com/yuque/0/2019/png/280374/1552996358352-assets/web-upload/cc3b1807-c684-4b83-8f80-80e5b8a6b975.png);\r\n\t\tbackground-size: cover;\r\n\t\tbackground-position: center;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.nav-li::after {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\tz-index: -1;\r\n\t\tbackground-color: inherit;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tleft: 0;\r\n\t\tbottom: -10%;\r\n\t\tborder-radius: 10upx;\r\n\t\topacity: 0.2;\r\n\t\ttransform: scale(0.9, 0.9);\r\n\t}\r\n\r\n\t.nav-li.cur {\r\n\t\tcolor: #fff;\r\n\t\tbackground: rgb(94, 185, 94);\r\n\t\tbox-shadow: 4upx 4upx 6upx rgba(94, 185, 94, 0.4);\r\n\t}\r\n\r\n\t.nav-title {\r\n\t\tfont-size: 32upx;\r\n\t\tfont-weight: 300;\r\n\t}\r\n\r\n\t.nav-title::first-letter {\r\n\t\tfont-size: 40upx;\r\n\t\tmargin-right: 4upx;\r\n\t}\r\n\r\n\t.nav-name {\r\n\t\tfont-size: 28upx;\r\n\t\ttext-transform: Capitalize;\r\n\t\tmargin-top: 20upx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.nav-name::before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\tdisplay: block;\r\n\t\twidth: 40upx;\r\n\t\theight: 6upx;\r\n\t\tbackground: #fff;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\topacity: 0.5;\r\n\t}\r\n\r\n\t.nav-name::after {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\tdisplay: block;\r\n\t\twidth: 100upx;\r\n\t\theight: 1px;\r\n\t\tbackground: #fff;\r\n\t\tbottom: 0;\r\n\t\tright: 40upx;\r\n\t\topacity: 0.3;\r\n\t}\r\n\r\n\t.nav-name::first-letter {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 36upx;\r\n\t\tmargin-right: 1px;\r\n\t}\r\n\r\n\t.nav-image {\r\n\t\tposition: absolute;\r\n\t\tright: 30upx;\r\n\t\ttop: 30upx;\r\n\t\tfont-size: 52upx;\r\n\t\twidth: 60upx;\r\n\t\theight: 60upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60upx;\r\n\t}\r\n\r\n\t.text-light {\r\n\t\tfont-weight: 300;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&id=92bb8f34&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&id=92bb8f34&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1620281472532\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./map.vue?vue&type=template&id=0b31f540&scoped=true&\"\nvar renderjs\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&id=0b31f540&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b31f540\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/map/map.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=template&id=0b31f540&scoped=true&\"","var components = {\n  mescrollUni: function() {\n    return import(\n      /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom :isBack=\"false\"></cu-custom>\r\n\t\t<map v-if=\"isShowMap\" id=\"myMap\" ref=\"myMap\" style=\"width:100%;height:100vh\" :scale=\"scale\" :longitude=\"longitude\"\r\n\t\t :latitude=\"latitude\" :markers=\"markers\" @markertap=\"markertap\" @regionchange=\"regionchange\"></map>\r\n\t\t<view v-if=\"isShowDeviceList\" class=\"ztnCustom-background-color\" style=\"background: rgba(112, 200, 226,0.2);\">\r\n\t\t\t<view class=\"cu-bar bg-white solid-bottom\" :style=\"[{top:CustomBar + 'px'}]\">\r\n\t\t\t\t<view class=\"flex align-center justify-start margin\" style=\"white-space: nowrap\">\r\n\t\t\t\t\t<text>{{i18n.number}} : {{totalDeviceNum}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex align-center justify-end margin flex-sub\" style=\"white-space: nowrap;\">\r\n\t\t\t\t\t<picker @change=\"productStatusChange\" :value=\"currentStatusIndex\" :range='i18n.map.productStatusList'>\r\n\t\t\t\t\t\t<view class=\"padding-right-sm\" :class=\"[currentStatusIndex != 0 ? 'text-bold text-lg text-grey':'text-grey']\">{{i18n.map.productStatusList[currentStatusIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view>|</view>\r\n\t\t\t\t\t<picker @change=\"productTypeChange\" :value=\"currentTypeIndex\" :range='productTypeList'>\r\n\t\t\t\t\t\t<view class=\"padding-left-sm\" :class=\"[currentTypeIndex != 0 ? 'text-bold text-lg text-grey':'text-grey']\">{{productTypeList[currentTypeIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"bg-white\" style=\"height:865upx;position:fixed;width:100%;bottom:0;z-index:998;border-top-left-radius:20rpx;border-top-right-radius:20rpx;\">\r\n\t\t\t\t\t<view class=\"padding-tb-xs text-center\" id=\"hideButton\" @tap=\"hideDeviceList\">\r\n\t\t\t\t\t\t<image class=\"ztnCustom-hideIcon\" :src=\"hideIcon\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<mescroll-uni ref=\"mescrollRef\" @init=\"mescrollInit\" height=\"800upx\" top=\"10\" :down=\"downOption\" @down=\"downCallback\"\r\n\t\t\t\t\t :up=\"upOption\" @up=\"byMarkerPageGetDeviceList\">\r\n\t\t\t\t\t\t<view v-for=\"(arrItem,arrIndex) in deviceList\" :key=\"arrIndex\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item,index) in arrItem\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view :class=\"modalDeviceName == item.deviceName?'ztnCustom-move-cur':''\" class=\"flex align-center padding-tb solid-bottom ztnCustom-cur\"\r\n\t\t\t\t\t\t\t\t @touchstart=\"ListTouchStart\" @touchmove=\"ListTouchMove\" @touchend=\"ListTouchEnd\" :data-deviceName=\"item.deviceName\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar lg margin-lr\" :style=\"[{backgroundImage:`url(${item.deviceIcon})`}]\" style=\"background-color:rgba(0,0,0,0)\"></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex-sub\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"margin-bottom-xs text-cut text-lg text-bold\" style=\"width:42vw\">{{item.deviceName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-center margin-bottom-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<surplus class=\"surplus\" id=\"surplus\" :surplus=\"item.surplus\"></surplus>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text :style=\"{color:item.statusColor}\" style=\"width:16vw\" class=\"text-center\">{{item.deviceStatu}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\" margin-bottom-xs\">{{item.deviceCore}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-cut text-gray\" style=\"width:75vw\">{{item.deviceAddr}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"ztnCustom-move\">\r\n\t\t\t\t\t\t\t\t\t\t<view class='bg-green light text-center view' @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceController\")'>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-repairfill padding-right-xs text-xl\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{i18n.map.controller}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class='bg-blue light text-center view' @tap='navigation(item)'>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-footprint padding-right-xs text-xl\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{i18n.map.navigation}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mescroll-uni>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view v-else style=\"position:fixed;top:0;right:0;z-index: 1024\" :style=\"[{top:CustomBar + 'px'}]\">\r\n\t\t\t<view class=\"text-center margin\">\r\n\t\t\t\t<text class=\"cuIcon-list\" style=\"border-top-left-radius:6px;border-bottom-left-radius:6px;padding: 15rpx 30rpx;font-size: 36rpx\"\r\n\t\t\t\t :style=\"showMode == 'listMode' ? selectStyle : unselectStyle\" @tap=\"tapMode('listMode')\"></text>\r\n\t\t\t\t<text class=\"cuIcon-radiobox\" style=\"border-top-right-radius:6px;border-bottom-right-radius:6px;padding: 15rpx 30rpx;font-size: 36rpx;\"\r\n\t\t\t\t :style=\"showMode == 'pointMode' ? selectStyle : unselectStyle\" @tap=\"tapMode('pointMode')\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!--  #ifdef H5 || MP-WEIXIN  -->\r\n\t\t<mapFav v-if=\"!isLogin\" class=\"ztnCustom-mapFav\" v-on:parentEvent=\"goToLogin\" :loginForMore=\"i18n.leadGotoLogin.loginForMore\"\r\n\t\t :immediateLoginText=\"i18n.leadGotoLogin.immediateLoginText\"></mapFav>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport MescrollMixin from '@/components/mescroll-uni/mescroll-mixins.js';\r\n\timport surplus from '@/components/ztn-custom/surplus/surplus.vue'\r\n\timport mapFav from '@/components/ztn-custom/mapFav/mapFav.vue'\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\texport default {\r\n\t\tmixins: [MescrollMixin], // 使用mixin (在main.js注册全局组件)\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdownOption: {\r\n\t\t\t\t\tuse: false,\r\n\t\t\t\t\tauto: false, //是否在初始化后,自动执行downCallback; 默认true\r\n\t\t\t\t},\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tempty: {\r\n\t\t\t\t\t\tuse: true,\r\n\t\t\t\t\t\tfixed: true,\r\n\t\t\t\t\t\ttop: '10%'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tisLogin: true,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tisShowMap: true,\r\n\t\t\t\tshowMode: '',\r\n\t\t\t\tselectStyle: '',\r\n\t\t\t\tunselectStyle: '',\r\n\t\t\t\tenlargeScaleToListMode: false,\r\n\t\t\t\tenlargeScaleToPointMode: false,\r\n\t\t\t\tscale: 4.5,\r\n\t\t\t\tbeforeScale: 4.5,\r\n\t\t\t\tlongitude: 114.324520,\r\n\t\t\t\tlatitude: 27.099994,\r\n\t\t\t\tmarkers: [],\r\n\t\t\t\tmarkerId: Number,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tproductId: null,\r\n\t\t\t\tstatus: null,\r\n\t\t\t\tcurrentStatusIndex: 0,\r\n\t\t\t\tcurrentTypeIndex: 0,\r\n\t\t\t\tproductTypeList: [],\r\n\t\t\t\tproductTypeData: [],\r\n\t\t\t\tdeviceList: [],\r\n\t\t\t\tisShowDeviceList: false,\r\n\t\t\t\ttotalDeviceNum: 0,\r\n\t\t\t\thideIcon: '../../static/images/down.png',\r\n\t\t\t\tmodalDeviceName: '',\r\n\t\t\t\tlistTouchStart: 0,\r\n\t\t\t\tlistTouchDirection: null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'mapComponent',\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t},\r\n\t\t\tthemei18n() {\r\n\t\t\t\treturn this.$themei18nOption()\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeMount: function() {\r\n\t\t\tlet emphasizeColor = this.themei18n.emphasizeColor\r\n\t\t\tthis.selectStyle = `background:${emphasizeColor};color:#fff;border:2upx solid ${emphasizeColor}`\r\n\t\t\tthis.unselectStyle = `background:#fff;color:${emphasizeColor};border:2upx solid ${emphasizeColor}`\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin') || false\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin && this.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet showMode = uni.getStorageSync('showMode') || 'listMode'\r\n\t\t\t\tthis.showMode = showMode\r\n\t\t\t\tthis.getProductTypeList()\r\n\t\t\t\tthis.getProvinceDeviceNum()\r\n\t\t\t},\r\n\t\t\ttapMode: function(option) {\r\n\t\t\t\tlet showMode = this.showMode\r\n\t\t\t\tif (showMode == option) return\r\n\t\t\t\tthis.isShowMap = false\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.markers = []\r\n\t\t\t\t\tthis.isShowMap = true\r\n\t\t\t\t\tthis.showMode = option\r\n\t\t\t\t\tthis.enlargeScaleToListMode = false\r\n\t\t\t\t\tthis.enlargeScaleToPointMode = false\r\n\t\t\t\t\tthis.scale = 4.5\r\n\t\t\t\t\tthis.longitude = 114.324520\r\n\t\t\t\t\tthis.latitude = 27.099994\r\n\t\t\t\t\tthis.markerId = null\r\n\t\t\t\t\tthis.getProvinceDeviceNum()\r\n\t\t\t\t\tuni.setStorageSync('showMode', option)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProvinceDeviceNum: function() {\r\n\t\t\t\tdeviceBelongApi.getProvinceDeviceNum(this).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tthis.setMarkers(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCityDeviceNum: function() {\r\n\t\t\t\tdeviceBelongApi.getCityDeviceNum(this).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tthis.setMarkers(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetMarkers: function(data) {\r\n\t\t\t\tthis.markers = []\r\n\t\t\t\tlet markers = []\r\n\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\tlet marker = {}\r\n\t\t\t\t\tmarker.id = Number(data[i].cityId ? data[i].cityId : data[i].provinceId)\r\n\t\t\t\t\tmarker.width = 25\r\n\t\t\t\t\tmarker.height = 25\r\n\t\t\t\t\tmarker.latitude = Number(data[i].lat)\r\n\t\t\t\t\tmarker.longitude = Number(data[i].lng)\r\n\t\t\t\t\tif (data[i].num >= 99) {\r\n\t\t\t\t\t\tmarker.iconPath = '../../static/numsImage/local_99.png'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmarker.iconPath = '../../static/numsImage/local_' + data[i].num + '.png'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmarkers.push(marker)\r\n\t\t\t\t}\r\n\t\t\t\tthis.markers = markers\r\n\t\t\t},\r\n\t\t\tsetPointMarkers: function(data) {\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, true)\r\n\t\t\t\tthis.markers = []\r\n\t\t\t\tlet markers = []\r\n\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\tlet marker = {}\r\n\t\t\t\t\tmarker.id = i\r\n\t\t\t\t\tmarker.width = 25\r\n\t\t\t\t\tmarker.height = 25\r\n\t\t\t\t\tmarker.latitude = Number(data[i].lat)\r\n\t\t\t\t\tmarker.longitude = Number(data[i].lng)\r\n\t\t\t\t\tmarker.mode = 'point'\r\n\t\t\t\t\tmarker.iconPath = '../../static/images/gps.png'\r\n\t\t\t\t\tmarker.deviceName = data[i].deviceName\r\n\t\t\t\t\tmarker.deviceCore = data[i].deviceCore\r\n\t\t\t\t\tmarker.pageCur = 'deviceInfo'\r\n\t\t\t\t\tmarkers.push(marker)\r\n\t\t\t\t}\r\n\t\t\t\tthis.markers = markers.length > 6000 ? markers.slice(0, 6000) : markers\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.$uniUtilsApi.hideLoading()\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\tmarkertap: function(e) {\r\n\t\t\t\tlet markerId = e.detail.markerId\r\n\t\t\t\tthis.markerId = markerId\r\n\t\t\t\tlet showMode = this.showMode\r\n\t\t\t\tshowMode == 'listMode' ? this.markertapListMode() : this.markertapPointMode()\r\n\t\t\t},\r\n\t\t\tmarkertapListMode: function() {\r\n\t\t\t\tthis.isShowDeviceList = true\r\n\t\t\t\tthis.$emit('isShowNav', false);\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t},\r\n\t\t\tmarkertapPointMode: function() {\r\n\t\t\t\tlet markers = this.markers\r\n\t\t\t\tlet mode = markers[0].mode\r\n\t\t\t\tif (mode == 'point') {\r\n\t\t\t\t\tlet markerId = this.markerId\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdeviceName,\r\n\t\t\t\t\t\tdeviceCore,\r\n\t\t\t\t\t\tpageCur\r\n\t\t\t\t\t} = markers[markerId]\r\n\t\t\t\t\tthis.deviceNavigation(deviceName, deviceCore, pageCur)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.byMarkerGetDeviceList()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbyMarkerPageGetDeviceList: function() {\r\n\t\t\t\tlet enlargeScaleToListMode = this.enlargeScaleToListMode\r\n\t\t\t\tlet provinceId = enlargeScaleToListMode ? null : this.markerId\r\n\t\t\t\tlet cityId = enlargeScaleToListMode ? this.markerId : null\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\tlet status = this.status\r\n\t\t\t\tlet currentPage = this.currentPage\r\n\t\t\t\tlet pageSize = this.pageSize\r\n\t\t\t\tdeviceBelongApi.byMarkerPageGetDeviceList(this, provinceId, cityId, productId, status, currentPage, pageSize).then(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tres) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tcurrentPage,\r\n\t\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\t\ttotal\r\n\t\t\t\t\t\t\t} = res.data\r\n\t\t\t\t\t\t\tthis.totalDeviceNum = total\r\n\t\t\t\t\t\t\tthis.mescroll.endByPage(data.length, total)\r\n\t\t\t\t\t\t\tlet index = currentPage - 1\r\n\t\t\t\t\t\t\tlet list = this.$uniUtilsApi.initDeviceList(this.i18n.status, data)\r\n\t\t\t\t\t\t\tthis.$set(this.deviceList, index, list)\r\n\t\t\t\t\t\t\tthis.currentPage = currentPage + 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbyMarkerGetDeviceList: function() {\r\n\t\t\t\tlet provinceId = this.markerId\r\n\t\t\t\tdeviceBelongApi.byMarkerGetDeviceList(this, provinceId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tthis.isShowMap = false\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.isShowMap = true\r\n\t\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\t\tthis.setPointMarkers(data)\r\n\t\t\t\t\t\t\tthis.latitude = data[0].lat\r\n\t\t\t\t\t\t\tthis.longitude = data[0].lng\r\n\t\t\t\t\t\t\tthis.scale = 7\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.enlargeScaleToPointMode = true\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetScale: function() {\r\n\t\t\t\tlet mapContext = uni.createMapContext('myMap', this);\r\n\t\t\t\tlet promise = new Promise((resolve) => {\r\n\t\t\t\t\tmapContext.getScale({\r\n\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\tresolve(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn promise\r\n\t\t\t},\r\n\t\t\tregionchange: function() {\r\n\t\t\t\tlet promise = this.getScale()\r\n\t\t\t\tpromise.then((e) => {\r\n\t\t\t\t\tlet showMode = this.showMode\r\n\t\t\t\t\tif (showMode == 'listMode') {\r\n\t\t\t\t\t\tthis.getDeviceNumToListMode(e)\r\n\t\t\t\t\t} else if (showMode == 'pointMode') {\r\n\t\t\t\t\t\tthis.getDeviceNumToPointMode(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDeviceNumToListMode: function(e) {\r\n\t\t\t\tlet scale = e.scale\r\n\t\t\t\tlet enlargeScaleToListMode = this.enlargeScaleToListMode\r\n\t\t\t\tif (scale < 6 && enlargeScaleToListMode) {\r\n\t\t\t\t\tthis.getProvinceDeviceNum()\r\n\t\t\t\t\tthis.enlargeScaleToListMode = false\r\n\t\t\t\t} else if (scale >= 6 && !enlargeScaleToListMode) {\r\n\t\t\t\t\tthis.getCityDeviceNum()\r\n\t\t\t\t\tthis.enlargeScaleToListMode = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDeviceNumToPointMode: function(e) {\r\n\t\t\t\tlet scale = e.scale\r\n\t\t\t\tlet beforeScale = this.beforeScale\r\n\t\t\t\tthis.beforeScale = e.scale\r\n\t\t\t\tlet enlargeScaleToPointMode = this.enlargeScaleToPointMode\r\n\t\t\t\tif (scale < 6 && scale < beforeScale && enlargeScaleToPointMode) {\r\n\t\t\t\t\tthis.enlargeScaleToPointMode = false\r\n\t\t\t\t\tthis.getProvinceDeviceNum()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thideDeviceList: function() {\r\n\t\t\t\tthis.isShowDeviceList = false\r\n\t\t\t\tthis.$emit('isShowNav', true);\r\n\t\t\t\tthis.currentStatusIndex = 0\r\n\t\t\t\tthis.currentTypeIndex = 0\r\n\t\t\t\tthis.status = null\r\n\t\t\t\tthis.productId = null\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t},\r\n\t\t\tListTouchStart: function(e) {\r\n\t\t\t\tthis.listTouchStart = e.touches[0].pageX\r\n\t\t\t},\r\n\t\t\tListTouchMove: function(e) {\r\n\t\t\t\tthis.listTouchDirection = e.touches[0].pageX - this.listTouchStart > 0 ? 'right' : 'left'\r\n\t\t\t},\r\n\t\t\tListTouchEnd: function(e) {\r\n\t\t\t\tif (this.listTouchDirection == 'left') {\r\n\t\t\t\t\tthis.modalDeviceName = e.currentTarget.dataset.devicename\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.modalDeviceName = null\r\n\t\t\t\t}\r\n\t\t\t\tthis.listTouchDirection = null\r\n\t\t\t},\r\n\t\t\tdeviceNavigation: function(deviceName, deviceCore, pageCur) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNavigation/deviceNavigation?deviceName=${deviceName}&deviceCore=${deviceCore}&pageCur=${pageCur}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnavigation: function(e) {\r\n\t\t\t\tlet deviceLat = e.deviceLat\r\n\t\t\t\tlet deviceLng = e.deviceLng\r\n\t\t\t\tlet deviceName = e.deviceName\r\n\t\t\t\tlet deviceAddr = e.deviceAddr\r\n\t\t\t\tuni.getLocation({ //获取当前经纬度\r\n\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.openLocation({ //​使用微信内置地图查看位置。\r\n\t\t\t\t\t\t\tlatitude: deviceLat,\r\n\t\t\t\t\t\t\tlongitude: deviceLng,\r\n\t\t\t\t\t\t\tname: deviceName,\r\n\t\t\t\t\t\t\taddress: deviceAddr,\r\n\t\t\t\t\t\t\tsuccess: () => {}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProductTypeList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tdeviceBelongApi.getProductTypeList(this, userId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tproductTypeList,\r\n\t\t\t\t\t\t\tproductTypeData\r\n\t\t\t\t\t\t} = this.$uniUtilsApi.handleProductType(this, data)\r\n\t\t\t\t\t\tthis.productTypeList = productTypeList\r\n\t\t\t\t\t\tthis.productTypeData = productTypeData\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tproductStatusChange: function(e) {\r\n\t\t\t\tlet statusArray = [null, 'ONLINE', 'OFFLINE', 'UNACTIVE', 'DISABLE']\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentStatusIndex = index\r\n\t\t\t\tthis.status = statusArray[index]\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductTypeChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentTypeIndex = index\r\n\t\t\t\tthis.productId = this.productTypeData[index].productId\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tgoToLogin: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/login/login`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tmapFav,\r\n\t\t\tsurplus,\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.ztnCustom-background-color {\r\n\t\tposition: fixed;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\ttop: 0;\r\n\t\tz-index: 998;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\r\n\t}\r\n\r\n\t.ztnCustom-hideIcon {\r\n\t\twidth: 45upx;\r\n\t\theight: 45upx;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\r\n\t.ztnCustom-cur {\r\n\t\ttransition: all .6s ease-in-out 0s;\r\n\t\ttransform: translateX(0upx)\r\n\t}\r\n\r\n\t.ztnCustom-move-cur {\r\n\t\ttransform: translateX(-300rpx)\r\n\t}\r\n\r\n\t.ztnCustom-move {\r\n\t\tposition: absolute;\r\n\t\tz-index: 999;\r\n\t\tright: 0;\r\n\t\tdisplay: flex;\r\n\t\twidth: 300rpx;\r\n\t\theight: 100%;\r\n\t\ttransform: translateX(100%);\r\n\t}\r\n\r\n\t.ztnCustom-move .view {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center\r\n\t}\r\n\r\n\t.ztnCustom-mapFav {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tbottom: 15%;\r\n\t}\r\n\r\n\t/*说明*/\r\n\t.notice {\r\n\t\tfont-size: 30upx;\r\n\t\tpadding: 40upx 0;\r\n\t\tborder-bottom: 1upx solid #eee;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t/*展示上拉加载的数据列表*/\r\n\t.news-li {\r\n\t\tfont-size: 32upx;\r\n\t\tpadding: 32upx;\r\n\t\tborder-bottom: 1upx solid #eee;\r\n\t}\r\n\r\n\t.news-li .new-content {\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-top: 10upx;\r\n\t\tmargin-left: 20upx;\r\n\t\tcolor: #666;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&id=0b31f540&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&id=0b31f540&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1620281472568\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=7d5e07c6&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/list/list.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=template&id=7d5e07c6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom :isCustom=\"isLogin\" :customIcon=\"customIcon\" v-on:parentEvent=\"areaList\">\r\n\t\t</cu-custom>\r\n\t\t<view v-if=\"isLogin && isShowNavScroll\" id=\"navScroll\" style=\"position: fixed;width:100%;z-index: 1024;box-shadow: 0 1rpx 6rpx rgba(0, 0, 0, 0.1);\"\r\n\t\t :style=\"[{top:`${CustomBar}px`}]\">\r\n\t\t\t<view class=\"cu-bar bg-white search\" style=\"box-shadow: 0 0 0 rgba(0, 0, 0, 0);\">\r\n\t\t\t\t<view class=\"search-form round margin\" style=\"width:80rpx;height:80rpx;\">\r\n\t\t\t\t\t<text class=\"cuIcon-search\" style=\"color:grey;font-size: 36upx;\"></text>\r\n\t\t\t\t\t<input style=\"width:80rpx;height:80rpx;\" type=\"text\" confirm-type=\"search\" :placeholder=\"i18n.list.searchDevice\"\r\n\t\t\t\t\t @confirm=\"tapSearchName\" :value=\"searchNameInput\" @input=\"searchNameInputChange\">\r\n\t\t\t\t\t</input>\r\n\t\t\t\t\t<view v-if=\"searchNameInput!=''\" class=\"cuIcon-roundclosefill text-gray\" style=\"font-size: 40upx;\" @tap=\"deleteSearchName\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button v-if=\"isShowSearchButton\" class=\"cu-btn margin-right bg-red\" @tap=\"tapSearchName\">{{i18n.search}}</button>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-x class=\"bg-white nav\" scroll-with-animation>\r\n\t\t\t\t<view class=\"flex text-center\">\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker @change=\"productStatusChange\" :value=\"currentStatusIndex\" :range='i18n.list.productStatusList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentStatusIndex != 0 ?'text-bold text-lg':''\">{{i18n.list.productStatusList[currentStatusIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker mode=\"multiSelector\" @change=\"typeSeriesChange\" @columnchange=\"typeSeriesColumnchange\" :value=\"currentTypeSeriesIndexCopy\"\r\n\t\t\t\t\t\t :range='productTypeSeriesListCopy'>\r\n\t\t\t\t\t\t\t<view :class=\"currentTypeSeriesIndex[0] != 0 || currentTypeSeriesIndex[1] != 0 ?'text-bold text-lg':''\">{{productTypeSeriesList[0][currentTypeSeriesIndex[0]]}}({{productTypeSeriesList[1][currentTypeSeriesIndex[1]]}})</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker @change=\"productAlarmChange\" :value=\"currentAlarmIndex\" :range='i18n.list.productAlarmList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentAlarmIndex != 0 ?'text-bold text-lg':''\">{{i18n.list.productAlarmList[currentAlarmIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" v-if=\"productGroupList.length != 0\">\r\n\t\t\t\t\t\t<picker @change=\"productGroupChange\" :value=\"currentGroupIndex\" :range='productGroupList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentGroupIndex != 0 ?'text-bold text-lg':''\">{{productGroupList[currentGroupIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" v-if=\"productPageList.length != 0\">\r\n\t\t\t\t\t\t<picker @change=\"productPageChange\" :value=\"currentPageIndex\" :range='productPageList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentPageIndex != 0 ?'text-bold text-lg':''\">{{productPageList[currentPageIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<mescroll-body ref=\"mescrollRef\" @init=\"mescrollInit\" :down=\"downOption\" @down=\"downCallback\" :up=\"upOption\" @up=\"getDeviceList\">\r\n\t\t\t<view v-if=\"isLogin && isShowList\" class=\"bg-white\" :style=\"{'marginTop':`${navScrollHeight}px`}\">\r\n\t\t\t\t<view v-for=\"(arrItem,arrIndex) in deviceList\" :key=\"arrIndex\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in arrItem\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"flex align-center justify-between padding-top padding-left-sm padding-right\">\r\n\t\t\t\t\t\t\t<image class=\"ztnCustom-deviceIcon\" style=\"margin-right: 20rpx;\r\n\t\t\twidth: 96upx;\r\n\t\t\theight: 96upx;\" :src='item.deviceIcon'\r\n\t\t\t\t\t\t\t @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'></image>\r\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\r\n\t\t\t\t\t\t\t\t<view class=\" flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"padding-bottom-xs text-lg text-bold text-cut\" style=\"width:42vw\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>{{item.deviceName}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-center padding-bottom-xs \">\r\n\t\t\t\t\t\t\t\t\t\t<surplus class=\"surplus margin-right-sm\" id=\"surplus\" :status=\"item.status\" :charging=\"item.charging\"\r\n\t\t\t\t\t\t\t\t\t\t :surplus=\"item.surplus\" :powerType=\"item.powerType\"></surplus>\r\n\t\t\t\t\t\t\t\t\t\t<view :style=\"{color:`${item.statusColor}`}\" style=\"width:85rpx\" class=\"text-center\">{{item.deviceStatu}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"padding-bottom-xs\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>{{item.deviceCore}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-cut text-gray\" style=\"width:60vw\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.deviceAddr}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cuIcon-settingsfill text-bold text-center\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceController\")'\r\n\t\t\t\t\t\t\t\t\t style=\"font-size:44rpx;width:85rpx\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<listFav v-if=\"!isLogin\" v-on:parentEvent=\"goToLogin\" :imageSrc=\"imageSrc\" :unLogStatuTxt=\"i18n.leadGotoLogin.unLogStatuTxt\"\r\n\t\t\t :immediateLoginText=\"i18n.leadGotoLogin.immediateLoginText\"></listFav>\r\n\t\t</mescroll-body>\r\n\t\t<view :style=\"[{paddingBottom:`${tabbarHeight}px`}]\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\timport * as deviceGroupApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceGroupApi/deviceGroupApi.js'\r\n\timport surplus from '@/components/ztn-custom/surplus/surplus.vue'\r\n\timport listFav from '@/components/ztn-custom/listFav/listFav.vue'\r\n\timport MescrollMixin from '@/components/mescroll-uni/mescroll-mixins.js';\r\n\texport default {\r\n\t\tmixins: [MescrollMixin], // 使用mixin (在main.js注册全局组件)\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tisLogin: true,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tcustomIcon: 'cuIcon-sort',\r\n\t\t\t\tdownOption: {\r\n\t\t\t\t\tuse: true,\r\n\t\t\t\t\tauto: false //是否在初始化后,自动执行downCallback; 默认true\r\n\t\t\t\t},\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tuse: true,\r\n\t\t\t\t\tauto: false,\r\n\t\t\t\t\tempty: {\r\n\t\t\t\t\t\tuse: true,\r\n\t\t\t\t\t\tfixed: true,\r\n\t\t\t\t\t\ttop: '25%'\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\timageSrc: '/static/images/noContent.png',\r\n\t\t\t\tnavScrollHeight: 0,\r\n\t\t\t\tisShowNavScroll: false,\r\n\t\t\t\tisShowList: false,\r\n\t\t\t\tsearchNameInput: '',\r\n\t\t\t\tisShowSearchButton: false,\r\n\t\t\t\tproductTypeList: [],\r\n\t\t\t\tproductTypeData: [],\r\n\t\t\t\tproductSeriesList: [],\r\n\t\t\t\tproductSeriesData: [],\r\n\t\t\t\tproductTypeSeriesList: [],\r\n\t\t\t\tproductTypeSeriesListCopy: [],\r\n\t\t\t\tproductGroupList: [],\r\n\t\t\t\tproductGroupData: [],\r\n\t\t\t\tproductPageList: [],\r\n\t\t\t\tcurrentStatusIndex: 0,\r\n\t\t\t\tcurrentTypeSeriesIndex: [0, 0],\r\n\t\t\t\tcurrentTypeSeriesIndexCopy: [0, 0],\r\n\t\t\t\tcurrentAlarmIndex: 0,\r\n\t\t\t\tcurrentGroupIndex: 0,\r\n\t\t\t\tcurrentPageIndex: 0,\r\n\t\t\t\tdeviceList: [],\r\n\t\t\t\tsearchStatus: null,\r\n\t\t\t\tproductId: null,\r\n\t\t\t\tseriesId: null,\r\n\t\t\t\tgroupId: null,\r\n\t\t\t\tsearchName: null,\r\n\t\t\t\ttodayOnline: false,\r\n\t\t\t\twarnDesc: false,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'listComponent',\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tcurrentProductId: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\ttabbarHeight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin') || false\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin && this.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trefresh: function() {\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.mescroll.triggerDownScroll()\r\n\t\t\t\t},500)\r\n\t\t\t},\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet productId = this.currentProductId\r\n\t\t\t\tthis.productId = productId\r\n\t\t\t\tthis.getDeviceList()\r\n\t\t\t\tthis.getProductGroupList()\r\n\t\t\t\tthis.getTypeSeries().then(res => {\r\n\t\t\t\t\tlet productTypeList = this.productTypeList\r\n\t\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\t\tlet productSeriesList = this.productSeriesList\r\n\t\t\t\t\tthis.productTypeSeriesList = [productTypeList, productSeriesList]\r\n\t\t\t\t\tthis.productTypeSeriesListCopy = [productTypeList, productSeriesList]\r\n\t\t\t\t\tlet index = productTypeData.findIndex((item) => item.productId === productId)\r\n\t\t\t\t\tthis.currentTypeSeriesIndex = [index, 0]\r\n\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [index, 0]\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdownCallback: function() {\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tgetTypeSeries: async function() {\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\tawait this.getProductTypeList();\r\n\t\t\t\tif (productId) {\r\n\t\t\t\t\tawait this.getProductSeriesList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.handleProductSeriesList([])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetProductTypeList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tdeviceBelongApi.getProductTypeList(this, userId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tproductTypeList,\r\n\t\t\t\t\t\t\t\tproductTypeData\r\n\t\t\t\t\t\t\t} = this.$uniUtilsApi.handleProductType(this, data)\r\n\t\t\t\t\t\t\tthis.productTypeList = productTypeList\r\n\t\t\t\t\t\t\tthis.productTypeData = productTypeData\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProductSeriesList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tdeviceBelongApi.getProductSeries(this, userId, productId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\t\tthis.handleProductSeriesList(data)\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleProductSeriesList: function(data) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tproductSeriesList,\r\n\t\t\t\t\tproductSeriesData\r\n\t\t\t\t} = this.$uniUtilsApi.handleProductSeries(this, data)\r\n\t\t\t\tthis.productSeriesList = productSeriesList\r\n\t\t\t\tthis.productSeriesData = productSeriesData\r\n\t\t\t},\r\n\t\t\tgetProductGroupList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tdeviceGroupApi.getProductGroupList(this, userId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tproductGroupList,\r\n\t\t\t\t\t\t\tproductGroupData\r\n\t\t\t\t\t\t} = this.$uniUtilsApi.handleProductGroup(this, data)\r\n\t\t\t\t\t\tthis.productGroupList = productGroupList\r\n\t\t\t\t\t\tthis.productGroupData = productGroupData\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDeviceList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tlet searchStatus = this.searchStatus\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\tlet seriesId = this.seriesId\r\n\t\t\t\tlet searchName = this.searchName\r\n\t\t\t\tlet todayOnline = this.todayOnline\r\n\t\t\t\tlet warnDesc = this.warnDesc\r\n\t\t\t\tlet groupId = this.groupId\r\n\t\t\t\tlet currentPage = this.currentPage\r\n\t\t\t\tlet pageSize = this.pageSize\r\n\t\t\t\tdeviceBelongApi.getDeviceList(this, userId, searchStatus, productId, seriesId, searchName, todayOnline, warnDesc,\r\n\t\t\t\t\tgroupId,\r\n\t\t\t\t\tcurrentPage,\r\n\t\t\t\t\tpageSize).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tcurrentPage,\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\ttotal\r\n\t\t\t\t\t\t} = res.data\r\n\t\t\t\t\t\tif (!this.isShowNavScroll) {\r\n\t\t\t\t\t\t\tthis.isShowNavScroll = true\r\n\t\t\t\t\t\t\tlet navScrollHeight = uni.getStorageSync('navScrollHeight')\r\n\t\t\t\t\t\t\tif (navScrollHeight) {\r\n\t\t\t\t\t\t\t\tthis.navScrollHeight = navScrollHeight\r\n\t\t\t\t\t\t\t\tthis.isShowList = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tuni.createSelectorQuery().in(this).select('#navScroll').boundingClientRect((e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet height =  e.height\r\n\t\t\t\t\t\t\t\t\t\t\tthis.navScrollHeight = height\r\n\t\t\t\t\t\t\t\t\t\t\tthis.isShowList = true\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('navScrollHeight', height)\r\n\t\t\t\t\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet lastPage = Math.ceil(total / pageSize)\r\n\t\t\t\t\t\tlet pageList = [];\r\n\t\t\t\t\t\tfor (let i = 1; i <= lastPage; i++) {\r\n\t\t\t\t\t\t\tlet page = this.i18n.list.page\r\n\t\t\t\t\t\t\tlet the = this.i18n.list.the\r\n\t\t\t\t\t\t\tpageList.push(this._i18n.locale == 'en' ? page + i : the + i + page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.productPageList = pageList\r\n\t\t\t\t\t\tthis.mescroll.endByPage(data.length, total)\r\n\t\t\t\t\t\tlet list = this.$uniUtilsApi.initDeviceList(this.i18n.status, data)\r\n\t\t\t\t\t\tlet index = currentPage - 1\r\n\t\t\t\t\t\tthis.$set(this.deviceList, index, list)\r\n\t\t\t\t\t\tthis.currentPageIndex = index\r\n\t\t\t\t\t\tthis.currentPage = currentPage + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tproductStatusChange: function(e) {\r\n\t\t\t\tlet statusArray = [null, 'ONLINE', 'OFFLINE', 'UNACTIVE', 'DISABLE']\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentStatusIndex = index\r\n\t\t\t\tthis.searchStatus = statusArray[index]\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\ttypeSeriesColumnchange: function(e) {\r\n\t\t\t\t// console.log('修改的列为：' + e.detail.column + '，值为：' + e.detail.value)\r\n\t\t\t\tlet column = e.detail.column\r\n\t\t\t\tlet value = e.detail.value\r\n\t\t\t\tswitch (column) {\r\n\t\t\t\t\tcase 0: //拖动第1列\r\n\t\t\t\t\t\tif (value != 0) {\r\n\t\t\t\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\t\t\t\tthis.productId = productTypeData[value].productId\r\n\t\t\t\t\t\t\tlet promise = this.getProductSeriesList()\r\n\t\t\t\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\t\t\t\tlet productSeriesList = this.productSeriesList\r\n\t\t\t\t\t\t\t\tlet productSeriesData = this.productSeriesData\r\n\t\t\t\t\t\t\t\tthis.$set(this.productTypeSeriesListCopy, 1, productSeriesList)\r\n\t\t\t\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [value, 0]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$set(this.productTypeSeriesListCopy, 1, this.i18n.list.productSeriesList)\r\n\t\t\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [0, 0]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\ttypeSeriesChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\tlet productSeriesData = this.productSeriesData\r\n\t\t\t\tthis.currentTypeSeriesIndex = index\r\n\t\t\t\tthis.currentTypeSeriesIndexCopy = index\r\n\t\t\t\tthis.productId = productTypeData[index[0]].productId\r\n\t\t\t\tthis.seriesId = productSeriesData[index[1]].seriesId\r\n\t\t\t\tthis.productTypeSeriesList = [...this.productTypeSeriesListCopy]\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductAlarmChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentAlarmIndex = index\r\n\t\t\t\tlet todayOnline;\r\n\t\t\t\tlet warnDesc;\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\ttodayOnline = false\r\n\t\t\t\t\twarnDesc = false\r\n\t\t\t\t} else if (index == 1) {\r\n\t\t\t\t\ttodayOnline = true\r\n\t\t\t\t\twarnDesc = false\r\n\t\t\t\t} else if (index == 2) {\r\n\t\t\t\t\ttodayOnline = false\r\n\t\t\t\t\twarnDesc = true\r\n\t\t\t\t} else if (index == 3) {\r\n\t\t\t\t\ttodayOnline = true\r\n\t\t\t\t\twarnDesc = true\r\n\t\t\t\t}\r\n\t\t\t\tthis.todayOnline = todayOnline\r\n\t\t\t\tthis.warnDesc = warnDesc\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductGroupChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentGroupIndex = index\r\n\t\t\t\tthis.groupId = this.productGroupData[index].groupId\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductPageChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentPageIndex = index\r\n\t\t\t\tthis.currentPage = parseInt(index) + 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tsearchNameInputChange: function(e) {\r\n\t\t\t\tlet value = e.detail.value.replace(/\\s/g, '')\r\n\t\t\t\tif (value == '') {\r\n\t\t\t\t\tthis.deleteSearchName()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.searchNameInput = value\r\n\t\t\t\t\tthis.isShowSearchButton = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteSearchName: function(e) {\r\n\t\t\t\tthis.searchNameInput = ''\r\n\t\t\t\tthis.searchName = null\r\n\t\t\t\tthis.isShowSearchButton = false\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\ttapSearchName: function(e) {\r\n\t\t\t\tthis.searchName = this.searchNameInput\r\n\t\t\t\tthis.isShowSearchButton = false\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tdeviceNavigation: function(deviceName, deviceCore, pageCur) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNavigation/deviceNavigation?deviceName=${deviceName}&deviceCore=${deviceCore}&pageCur=${pageCur}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tareaList: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/areaList/areaList`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToLogin: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/login/login`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tlistFav,\r\n\t\t\tsurplus\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\n","import { render, staticRenderFns, recyclableRender, components } from \"./center.vue?vue&type=template&id=2fc1a426&\"\nvar renderjs\nimport script from \"./center.vue?vue&type=script&lang=js&\"\nexport * from \"./center.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/center/center.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=template&id=2fc1a426&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isLogin ? _vm.tapCurrentVersion() : _vm.unLogin()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isLogin ? _vm.moreOperate() : _vm.unLogin()\n    }\n\n    _vm.e2 = function($event) {\n      _vm.isLogin ? _vm.deviceNotice() : _vm.unLogin()\n    }\n\n    _vm.e3 = function($event) {\n      _vm.isLogin ? _vm.tapScan() : _vm.unLogin()\n    }\n\n    _vm.e4 = function($event) {\n      _vm.isLogin ? _vm.deviceError() : _vm.unLogin()\n    }\n\n    _vm.e5 = function($event) {\n      _vm.isLogin ? _vm.deviceStatus() : _vm.unLogin()\n    }\n\n    _vm.e6 = function($event) {\n      _vm.isLogin ? _vm.more() : _vm.unLogin()\n    }\n\n    _vm.e7 = function($event) {\n      _vm.isLogin ? _vm.pushMessage() : _vm.unLogin()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./center.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"background-color: #f8f8f8;height:100vh\">\r\n\t\t<cu-custom :isBack=\"false\"></cu-custom>\r\n\t\t<view class=\"bg-white padding-top\">\r\n\t\t\t<view class=\"flex justify-end padding-top-xs padding-lr-xl\" @tap=\"isLogin ? tapCurrentVersion() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-info text-grey\" style=\"font-size:36upx;\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<view class=\"padding-bottom\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<view v-if=\"isLogin\" class=\"cu-avatar xl round margin-left bg-gray\" :style=\"[{backgroundImage:`url(${avatarUrl})`}]\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"cu-avatar xl round margin-left bg-gray\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-people text-sl text-white\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t<view class=\"cu-avatar xl round margin-left bg-gray\"><text class=\"cuIcon-people text-sl text-white\"></text></view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<view v-if=\"isLogin\" class=\"cu-btn round lines-grey shadow margin-left\">{{userName}}</view>\r\n\t\t\t\t\t<button v-else class=\"cu-btn round lines-grey shadow margin-left\" @tap=\"goToLogin\">{{i18n.login.login}}</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border text-black\" style=\"background:rgba(0,0,0,0);padding:20upx 0upx;\">\r\n\t\t\t\t<view class=\"cu-item\" v-for=\"(item,index) in deviceStatusList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"text-lg padding-xs\">{{item.num}}</view>\r\n\t\t\t\t\t<view style=\"color:#666666\">{{i18n.status[index]}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"shadow-warp bg-white\" style=\"border-radius:20upx;margin-top:65upx;\">\r\n\t\t\t<view class=\"cu-bar bg-white solid-bottom\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\" @tap=\"isLogin ? moreOperate() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.moreOperate.moreOperate}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border\" style=\"background:rgba(0,0,0,0)\">\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceNotice() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-noticefill text-xxl text-olive\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.notice}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? tapScan() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-scan text-xxl text-blue\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.scan}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceError() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-warnfill text-xxl text-orange\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.warn}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? deviceStatus() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-order text-xxl text-yellow\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreOperate.upperAndlowerLine}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--  @tap=\"isLogin ? moreSetting() : unLogin()\" -->\r\n\t\t<!-- shadow -->\r\n\t\t<view class=\"shadow-warp bg-white\" style=\"border-radius:20upx;margin-top:65upx;\">\r\n\t\t\t<view class=\"cu-bar bg-white solid-bottom\" style=\"border-top-left-radius:20upx;border-top-right-radius:20upx;\" @tap=\"isLogin ? more() : unLogin()\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-bold ztnCustom-color-black\">{{i18n.moreSetting.moreSetting}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-list grid col-4 no-border\" style=\"background:rgba(0,0,0,0) \">\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\" @tap=\"isLogin ? pushMessage() : unLogin()\">\r\n\t\t\t\t\t<view class=\"cuIcon-pullup text-xxl text-olive\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.pushMessage}}</view>\r\n\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.messageList[currentMessageIndex]}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<picker @change=\"languagePickerChange\" :value=\"currentLanguageIndex\" :range=\"i18n.moreSetting.languageList\">\r\n\t\t\t\t\t\t<view class=\"cuIcon-settings text-xxl text-blue\"></view>\r\n\t\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.language}}</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.languageList[currentLanguageIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<picker @change=\"themePickerChange\" :value=\"currentThemeIndex\" :range=\"i18n.moreSetting.themeList\">\r\n\t\t\t\t\t\t<view class=\"cuIcon-magic text-xxl text-orange\"></view>\r\n\t\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.theme}}</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm\" v-if=\"isLogin\">{{i18n.moreSetting.themeList[currentThemeIndex]}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isLogin\" class=\"cu-item\" @tap=\"tapLogout\" style=\"margin:-10upx 0\">\r\n\t\t\t\t\t<view class=\"cuIcon-exit text-xxl text-yellow\"></view>\r\n\t\t\t\t\t<view class=\"padding-xs\">{{i18n.moreSetting.logout}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as userApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/userApi/userApi.js'\r\n\timport * as deviceInfoApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceInfoApi/deviceInfoApi.js'\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\timport * as tokenApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/tokenApi/tokenApi.js'\r\n\timport messages from '@/common/utils/messages/messages.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLogin: false,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tavatarUrl: '',\r\n\t\t\t\tdeviceStatusList: [{},{},{},{}],\r\n\t\t\t\tdeviceStatusNumberList: [0, 0, 0, 0],\r\n\t\t\t\tcurrentMessageIndex: 0,\r\n\t\t\t\tcurrentLanguageIndex: 0,\r\n\t\t\t\tcurrentThemeIndex: 0,\r\n\t\t\t\topenMessage: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'centerComponent',\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t},\r\n\t\t\tthemei18n() {\r\n\t\t\t\treturn this.$themei18nOption()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin')\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin ? this.init() : this.getUnLoginDeviceStatusCount()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit: async function() {\r\n\t\t\t\tthis.getDeviceStatusCount()\r\n\t\t\t\tthis.userName = uni.getStorageSync('userName')\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tthis.avatarUrl = uni.getStorageSync('avatarUrl')\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.openMessage = uni.getStorageSync('openMessage') || false\r\n\t\t\t\tthis.currentMessageIndex = uni.getStorageSync('messageIndex') || 0\r\n\t\t\t\tthis.currentThemeIndex = uni.getStorageSync('themeIndex') || 0\r\n\t\t\t\tthis.currentLanguageIndex = uni.getStorageSync('languageIndex') || 0\r\n\t\t\t},\r\n\t\t\tgoToLogin: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/login/login`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetUnLoginDeviceStatusCount: function() {\r\n\t\t\t\tlet deviceStatusList = this.deviceStatusList\r\n\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\tnum: '--',\r\n\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDeviceStatusCount: function() {\r\n\t\t\t\tdeviceBelongApi.getDeviceStatusCount(this).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tlet num = data[i].num\r\n\t\t\t\t\t\t\tswitch (data[i].status) {\r\n\t\t\t\t\t\t\t\tcase 'ONLINE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 0, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'OFFLINE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 1, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'UNACTIVE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 2, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'DISABLE':\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusNumberList, 3, num)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet j = 0\r\n\t\t\t\t\t\tlet deviceStatusList = this.deviceStatusList\r\n\t\t\t\t\t\tlet deviceStatusNumberList = this.deviceStatusNumberList\r\n\t\t\t\t\t\tlet numDH = () => {\r\n\t\t\t\t\t\t\tif (j < 20) {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\t\t\t\t\t\tnum: this.deviceStatusNumberList[i] === 0 ? 0 : j,\r\n\t\t\t\t\t\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj++\r\n\t\t\t\t\t\t\t\t\tnumDH()\r\n\t\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < deviceStatusList.length; i++) {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.deviceStatusList, i, {\r\n\t\t\t\t\t\t\t\t\t\tnum: this.deviceStatusNumberList[i],\r\n\t\t\t\t\t\t\t\t\t\tstatus: this.i18n.status[i]\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnumDH()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapCurrentVersion: function() {\r\n\t\t\t\tlet currentVersion = this.i18n.currentVersion\r\n\t\t\t\tlet browserVersion = wx.getStorageSync('browserVersion') || '1.1.24'\r\n\t\t\t\tlet confirmText = this.i18n.confirm\r\n\t\t\t\tlet cancelText = this.i18n.cancel\r\n\t\t\t\tthis.$uniUtilsApi.showModal(currentVersion, browserVersion, false, confirmText, cancelText, (res) => {\r\n\t\t\t\t\treturn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmoreOperate: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/moreOperate/moreOperate`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceNotice: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNotice/deviceNotice`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttapScan: function() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noSupport, 'none', 1000, false)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN || APP-PLUS\r\n\t\t\t\tthis.$uniUtilsApi.handleScan(this)\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tdeviceError: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceError/deviceError`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceStatus: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceStatus/deviceStatus`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmoreSetting: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/moreSetting/moreSetting`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpushMessage: function() {\r\n\t\t\t\tlet openMessage = !this.openMessage\r\n\t\t\t\tif (openMessage) {\r\n\t\t\t\t\tlet openMessageTxt = this.i18n.openMessage\r\n\t\t\t\t\tthis.$uniUtilsApi.bindUserSocket(openMessageTxt)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet closeMessageTxt = this.i18n.closeMessage\r\n\t\t\t\t\tthis.$uniUtilsApi.unBindUserSocket(closeMessageTxt)\r\n\t\t\t\t}\r\n\t\t\t\tthis.openMessage = openMessage\r\n\t\t\t\tthis.currentMessageIndex = openMessage ? 1 : 0\r\n\t\t\t\tuni.setStorageSync('openMessage', openMessage)\r\n\t\t\t\tuni.setStorageSync('messageIndex', this.currentMessageIndex)\r\n\t\t\t},\r\n\t\t\tlanguagePickerChange: function(e) {\r\n\t\t\t\tlet isLogin = this.isLogin\r\n\t\t\t\tlet languageIndex = parseInt(e.detail.value)\r\n\t\t\t\tlet language = languageIndex == 0 ? 'zh' : 'en'\r\n\t\t\t\tif (isLogin) {\r\n\t\t\t\t\tlet userId = wx.getStorageSync('userId')\r\n\t\t\t\t\tuserApi.updateLanguage(this, language, userId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tthis.currentLanguageIndex = languageIndex\r\n\t\t\t\t\t\t\tthis.$i18n.locale = language\r\n\t\t\t\t\t\t\tthis.$emit('languageChange')\r\n\t\t\t\t\t\t\tuni.setStorageSync('language', language)\r\n\t\t\t\t\t\t\tuni.setStorageSync('languageIndex', languageIndex)\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeLanguage, 'none', 1000, false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$i18n.locale = language\r\n\t\t\t\t\tthis.$emit('languageChange')\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeLanguage, 'none', 1000, false)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tthemePickerChange: function(e) {\r\n\t\t\t\tlet isLogin = this.isLogin\r\n\t\t\t\tif (isLogin) {\r\n\t\t\t\t\tlet index = e.detail.value\r\n\t\t\t\t\tlet themeList = ['default', 'darkColor', 'lightColor']\r\n\t\t\t\t\tlet theme = themeList[index]\r\n\t\t\t\t\tthis.currentThemeIndex = index\r\n\t\t\t\t\tthis.$themei18n.locale = theme\r\n\t\t\t\t\tuni.setStorageSync('theme', theme)\r\n\t\t\t\t\tuni.setStorageSync('themeIndex', index)\r\n\t\t\t\t\tthis.$emit('themeChange')\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.changeTheme, 'none', 1000, false)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.unLogin()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttapLogout: function() {\r\n\t\t\t\tlet logout = this.i18n.moreSetting.logout\r\n\t\t\t\tlet logoutContent = this.i18n.moreSetting.logoutContent\r\n\t\t\t\tlet confirmText = this.i18n.confirm\r\n\t\t\t\tlet cancelText = this.i18n.cancel\r\n\t\t\t\tthis.$uniUtilsApi.showModal(logout, logoutContent, true, confirmText, cancelText, (res) => {\r\n\t\t\t\t\tlet openid = uni.getStorageSync('openid')\r\n\t\t\t\t\tlet promise;\r\n\t\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\tpromise = userApi.loginOut(this, {\r\n\t\t\t\t\t\topenid: openid,\r\n\t\t\t\t\t\ttype: 'wxAPP'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//#endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tpromise = userApi.loginOut(this, {\r\n\t\t\t\t\t\topenid: openid,\r\n\t\t\t\t\t\ttype: 'gzh'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tpromise = tokenApi.loginOut(this, {})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\t\tif (res.status) {\r\n\t\t\t\t\t\t\tlet openMessage = uni.getStorageSync('openMessage') || false\r\n\t\t\t\t\t\t\tlet closeMessageTxt = this.i18n.closeMessage\r\n\t\t\t\t\t\t\tif(openMessage) this.$uniUtilsApi.unBindUserSocket(closeMessageTxt)\r\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\tuni.removeStorageSync('password')\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef H5 || MP-WEIXIN\r\n\t\t\t\t\t\t\tuni.removeStorageSync('openid')\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tuni.removeStorageSync('nickName')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('avatarUrl')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('userId')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('userName')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('devKey')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('accessToken')\r\n\t\t\t\t\t\t\tuni.removeStorageSync('singleLogin')\r\n\t\t\t\t\t\t\tuni.setStorageSync('isLogin', false)\r\n\t\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\t\tif(openMessage) this.$uniUtilsApi.closeSocket()\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.logoutSuccess, 'success', 1000, false)\r\n\t\t\t\t\t\t\tthis.$emit('unLogin')\r\n\t\t\t\t\t\t\tthis.getUnLoginDeviceStatusCount()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\treturn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tunLogin: function() {\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.leadGotoLogin.unLogStatuTxt, 'none', 1000, false)\r\n\t\t\t},\r\n\t\t\tmore: function() {\r\n\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noSupport, 'none', 1000, false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./nav.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./nav.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1620281472527\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}