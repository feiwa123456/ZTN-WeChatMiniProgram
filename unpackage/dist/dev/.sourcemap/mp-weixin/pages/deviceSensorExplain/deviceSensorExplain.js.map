{"version":3,"sources":["uni-app:///main.js","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?0956","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?0126","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?391e","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?36d0","uni-app:///pages/deviceSensorExplain/deviceSensorExplain.vue","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?e28e","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/deviceSensorExplain/deviceSensorExplain.vue?c2e9"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,uI;AACAA,UAAU,CAACC,4BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AACuE;AACL;AACa;;;AAG/E;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,yFAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAA+zB,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Ln1B;AACA;AACA;AACA;AACA;AACA,gG;;;AAGA;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA,qBAFA;AAGA,0BAHA;AAIA,oBAJA;AAKA,2BALA;AAMA,wBANA;AAOA,8BAPA;AAQA,wBARA;AASA,wBATA;AAUA,qBAVA;AAWA,2BAXA;AAYA,qBAZA;AAaA,sBAbA;AAcA,mBAdA;AAeA,yBAfA;AAgBA,uBAhBA;AAiBA,wBAjBA;AAkBA,4BAlBA;AAmBA,+BAnBA;AAoBA,sBApBA;AAqBA,2BArBA;AAsBA,wBAtBA;AAuBA,0BAvBA;AAwBA,mBAxBA;AAyBA,wBAzBA;AA0BA,sBA1BA;AA2BA,0BA3BA;AA4BA,4BA5BA;AA6BA,mBA7BA;AA8BA,iBA9BA;AA+BA,wBA/BA;AAgCA,6BAhCA;AAiCA,qBAjCA;AAkCA,sBAlCA;;AAoCA,GAtCA;AAuCA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA;AACA,KANA,EAvCA;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAXA;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA,EACA;AACA,mDAFA,CAEA;AAFA;AAIA,GA1EA;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;;AAGA;AACA;AACA;AACA,GAtFA;AAuFA;AACA;AACA;AACA;AACA;AACA,QADA;AAEA,GA7FA;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA,yCADA;AAEA,mCAFA;;AAIA;AACA;AACA,GAzGA;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA,qCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnBA;AAoBA;AACA;AACA;AACA,KAvBA;AAwBA;AACA;AACA;AACA,2BADA,EACA,wCADA;AAEA,KA5BA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBALA,EAKA,IALA;AAMA,iBAPA,EAOA,CAPA;AAQA,eATA;AAUA;AACA;AACA;AACA,OA1BA;AA2BA,KA3DA;AA4DA;AACA;AACA,KA9DA;AA+DA;AACA;AACA,KAjEA;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;;;;;;;AAQA,mBARA,CAGA,MAHA,WAGA,MAHA,CAIA,IAJA,WAIA,IAJA,CAKA,OALA,WAKA,OALA,CAMA,KANA,WAMA,KANA,CAOA,IAPA,WAOA,IAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzBA;AA0BA,KA9FA;AA+FA;AACA;AACA;AACA;AACA;AACA,KApGA;AAqGA;AACA;AACA;AACA;AACA,KAzGA;AA0GA;AACA;AACA,KA5GA;AA6GA;AACA;AACA,KA/GA;AAgHA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KAxHA;AAyHA;AACA;AACA;AACA;AACA,KA7HA;AA8HA;AACA;AACA;AACA,KAjIA;AAkIA;AACA;AACA,KApIA;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA,KA3IA;AA4IA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAlJA;AAmJA;AACA;AACA;AACA;AACA;AACA,sJADA;;AAGA,KA1JA;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAFA,CAEA;AACA,SAHA,MAGA;AACA;AACA,oFAFA,CAEA;AACA;AACA,OARA;AASA,KAxKA;AAyKA;AACA;AACA,KA3KA;AA4KA;AACA;AACA;AACA;AACA;AACA,iBADA,uBACA,QADA;AAEA;AACA,sBADA;AAEA;AACA,4CADA,EAFA;;AAKA,qBALA;AAMA;AACA;AACA,SARA;;AAUA,KA5LA;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;;AAIA,OAhBA;AAiBA,KA/MA;AAgNA;AACA;AACA;AACA,uBADA;AAEA,6CAFA;;AAIA;AACA,kCADA;AAEA,eAFA,qBAEA;AACA;AADA,6QAEA,CAJA;;AAMA,KA5NA;AA6NA;AACA;AACA;AACA,yBADA;AAEA,6CAFA;;AAIA;AACA,kCADA;AAEA,eAFA,qBAEA;AACA;AADA,oRAEA,CAJA;;AAMA,KAzOA;AA0OA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9PA;AA+PA;AACA;AACA;AACA;AACA;AACA;AACA,KArQA;AAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9QA;AA+QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAvRA;AAwRA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAJA,EAIA,IAJA;AAKA,aANA,EAMA,CANA;AAOA,WARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA,KAnTA;AAoTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8HADA;AAEA,yCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SA1BA,MA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA,KAlWA;AAmWA;;AAEA,YAFA;;;;AAMA,OANA,CAEA,MAFA,CAGA,KAHA,GAMA,CANA,CAGA,KAHA,CAIA,MAJA,GAMA,CANA,CAIA,MAJA,CAKA,QALA,GAMA,CANA,CAKA,QALA;AAOA;AACA;AACA;AACA,oBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,mBAFA;AAGA;AACA,yBADA;AAEA,0BAFA,EAHA,EADA;;;AASA;AACA,oBADA;AAEA,4BAFA,EATA;;AAaA;AACA,yBADA;AAEA;AACA,yBADA;AAEA;AACA,wCADA,EAFA,EAFA,EAbA;;;;AAsBA;AACA,wBADA;AAEA,kBAFA;AAGA,kBAHA;;AAKA;AACA,kBADA;AAEA,kBAFA;AAGA,oBAHA;AAIA,0NAJA;AAKA,2BALA;AAMA;AACA,yBADA;AAEA,yBAFA;AAGA,+CAHA;AAIA,4BAJA;AAKA,4BALA,EANA,EALA,CAtBA;;;;AA0CA;AACA,0BADA;AAEA,4BAFA;AAGA,wBAHA;AAIA;AACA,sBADA;AAEA;AACA,2BADA,EAFA,EAJA;;;;AAWA;AACA;AACA,2BADA,EADA,EAXA,EA1CA;;;;AA2DA;AACA,uBADA;AAEA;AACA,sBADA;AAEA;AACA,2BADA,EAFA,EAFA;;;;AASA;AACA;AACA,2BADA,EADA,EATA,EA3DA;;;;AA0EA;AACA,yBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,yBAFA,GADA,EAhBA;;;AAsBA,wBAtBA;AAuBA,6BAvBA;AAwBA;AACA;AACA,8BADA,CACA;AADA,aADA,EAxBA;;AA6BA;AACA;AACA,8BADA,CACA;AADA,aADA,EA7BA,GA1EA;;;;AA8GA;AACA;AACA;AACA,KA7eA;AA8eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFADA,CACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,aAFA;AAGA;AACA,KA9fA;AA+fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFADA,CACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,aAFA;AAGA;AACA,KA/gBA;AAghBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,WAFA;AAGA,KA3hBA,EA1GA;;AAuoBA;AACA,oCADA;AAEA,8BAFA,EAvoBA;;AA2oBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFADA;AAEA,mMAFA;AAGA;AACA;AACA,OALA;;AAOA,GAxpBA,E;;;;;;;;;;;;;ACtMA;AAAA;AAAA;AAAA;AAAqqC,CAAgB,wpCAAG,EAAC,C;;;;;;;;;;;ACAzrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/deviceSensorExplain/deviceSensorExplain.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/deviceSensorExplain/deviceSensorExplain.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./deviceSensorExplain.vue?vue&type=template&id=c674ef54&\"\nvar renderjs\nimport script from \"./deviceSensorExplain.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceSensorExplain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceSensorExplain.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/deviceSensorExplain/deviceSensorExplain.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deviceSensorExplain.vue?vue&type=template&id=c674ef54&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.showModel == \"realTime\"\n      ? _vm.__map(_vm.realTimeList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var f0 = _vm._f(\"formatDateTime\")(item.valueDate, _vm.i18n.unknown)\n\n          return {\n            $orig: $orig,\n            f0: f0\n          }\n        })\n      : null\n  var f1 =\n    _vm.showModel == \"history\"\n      ? _vm._f(\"formatDate\")(_vm.initEndTimestamp)\n      : null\n  var f2 =\n    _vm.showModel == \"history\"\n      ? _vm._f(\"formatDate\")(_vm.initEndTimestamp)\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isLogin && _vm.tapHistorical()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.explainWarnList.length != 0\n        ? _vm.showCheck()\n        : _vm.unShowExplainWarn()\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        f1: f1,\n        f2: f2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deviceSensorExplain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deviceSensorExplain.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<cover-view id=\"showModelStyle\" class=\"flex text-center\" style=\"position:fixed;left:0;width:100%;z-index: 1024;background-color: #FFFFFF;\">\r\n\t\t\t<cover-view class=\"flex-sub\" @tap=\"tapRealTime\">\r\n\t\t\t\t<cover-view class=\"padding\">{{i18n.deviceSensorExplain.realtimeMonitor}}</cover-view>\r\n\t\t\t\t<cover-view class=\"margin-bottom-xs\" v-if=\"showModel == 'realTime'\" style=\"width:100%;height:4rpx;background-color:#aaaaaa\"></cover-view>\r\n\t\t\t</cover-view>\r\n\t\t\t<cover-view class=\"flex-sub\" @tap=\"isLogin&&tapHistorical()\">\r\n\t\t\t\t<cover-view class=\"padding\">{{i18n.deviceSensorExplain.historyData}}</cover-view>\r\n\t\t\t\t<cover-view class=\"margin-bottom-xs\" v-if=\"showModel == 'history'\" style=\"width:100%;height:4rpx;background-color:#aaaaaa\"></cover-view>\r\n\t\t\t</cover-view>\r\n\t\t</cover-view>\r\n\t\t<view v-if=\"showModel=='realTime'\" :style=\"[{paddingTop:ModelHeight + 'px'}]\">\r\n\t\t\t<view class=\"cu-list menu-avatar\">\r\n\t\t\t\t<view class=\"cu-item cur ztnCustom-realTime\" :style=\"{borderBottom: realTimeList.length == index+1 ? '0.5px solid #fff' : ''}\"\r\n\t\t\t\t v-for=\"(item,index) in realTimeList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"cu-avatar radius sm\" @tap=\"getExplainWarnList(item.explainId)\" :style=\"[{backgroundImage:`url(${item.iconUrl})`}]\"\r\n\t\t\t\t\t style=\"width: 80rpx;height: 80rpx;background-color:rgba(0,0,0,0)\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content\" @tap=\"goItemHistoryData(item)\" style=\"width:350upx;\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text class=\"text-cut\">{{item.name}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\r\n\t\t\t\t\t\t\t<text class=\"text-cut\">{{item.valueDate | formatDateTime(i18n.unknown)}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-grey text-lg\" style=\"width:310upx;margin-right:30upx;text-align: end\">\r\n\t\t\t\t\t\t<view style=\"display:inline-block;word-break:break-all\">{{item.value}}\r\n\t\t\t\t\t\t\t<view style=\"display:inline-block;\">{{item.unit}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"showModel=='realTime'\" style=\"width: 100%;height: 115rpx;\"></view>\r\n\t\t<circleComponent v-if=\"showModel=='realTime' && isLogin\" style=\"position: fixed !important;z-index: 1024;right:40upx;bottom: 30rpx\"\r\n\t\t :circleWidth=\"85\" :circleHeight=\"85\" :circleBgColor=\"circleBgColor\" :circleBorder=\"''\">\r\n\t\t\t<text @tap=\"updateData\" class=\"cuIcon-refresh\" style=\"font-size:0.7em\" :style=\"[{color:emphasizeColor}]\"></text>\r\n\t\t</circleComponent>\r\n\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"[showModel=='realTime' && showErrorModal?'show':'']\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t<view class=\"action text-red\" @tap=\"hideErrorModal\">{{i18n.close}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t{{settingError}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"[isShowWarnModel && showModel=='realTime'?'show':'']\" style=\"text-align: start\">\r\n\t\t\t<view class=\"cu-dialog bg-white\" style=\"border-top-left-radius:20rpx;border-top-right-radius:20rpx;\">\r\n\t\t\t\t<view class=\"cu-bar bg-white text-bold\">\r\n\t\t\t\t\t<view class='action'>\r\n\t\t\t\t\t\t{{i18n.deviceSensorExplain.warnValue}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='action padding-right'>\r\n\t\t\t\t\t\t<text v-if=\"explainWarnList.length != 0 && !isShowCheck\" class=\"cuIcon-roundaddfill\" style=\"font-size: 54rpx;\"\r\n\t\t\t\t\t\t :style=\"[{color:emphasizeColor}]\" @tap=\"showAddWarnModel\"></text>\r\n\t\t\t\t\t\t<text v-if=\"!isShowCheck\" class=\"cuIcon-roundclosefill\" style=\"font-size: 54rpx;\" :style=\"[{color:emphasizeColor}]\"\r\n\t\t\t\t\t\t @tap=\"explainWarnList.length != 0 ? showCheck() : unShowExplainWarn()\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"explainWarnList.length != 0\" :class=\"isShowCheck ? 'ztnCustom-move-cur':''\" class=\"text-center ztnCustom-cur\"\r\n\t\t\t\t style=\"display: flex;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t<view class=\"ztnCustom-move\" style=\"width: 20%;\">\r\n\t\t\t\t\t\t<view>{{i18n.deviceSensorExplain.select}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"margin-xs\" style=\"width: 20%;\">{{i18n.deviceSensorExplain.level}}</view>\r\n\t\t\t\t\t<view class=\"margin-xs\" style=\"width: 20%;\">{{i18n.deviceSensorExplain.less}}</view>\r\n\t\t\t\t\t<view class=\"margin-xs\" style=\"width: 20%;\">{{i18n.deviceSensorExplain.greater}}</view>\r\n\t\t\t\t\t<view class=\"margin-xs\" style=\"width: 20%;\">{{i18n.deviceSensorExplain.equal}}</view>\r\n\t\t\t\t\t<view class=\"margin-xs\" style=\"width: 20%;\">{{i18n.deviceSensorExplain.wave}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height:250px\">\r\n\t\t\t\t\t<view v-if=\"explainWarnList.length != 0\">\r\n\t\t\t\t\t\t<checkbox-group @change=\"changeCheck\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item,index) in explainWarnList\" :key=\"index\" :class=\"isShowCheck?'ztnCustom-move-cur':''\" class=\"text-center ztnCustom-cur\"\r\n\t\t\t\t\t\t\t style=\"display: flex;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t\t\t\t<view class=\"ztnCustom-move\" style=\"width: 20%;\">\r\n\t\t\t\t\t\t\t\t\t<checkbox v-if=\"isShowCheck\" class=\"round\" :value=\"index\" :checked=\"item.checked\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" @input=\"changeInput($event,index,'warnId')\" name=\"warnId\" :value=\"item.warnId\" class=\"input margin-xs\"\r\n\t\t\t\t\t\t\t\t style=\"width: 20%;\" disabled />\r\n\t\t\t\t\t\t\t\t<input type=\"number\" @input=\"changeInput($event,index,'less')\" name=\"less\" :value=\"item.less\" class=\"input margin-xs\"\r\n\t\t\t\t\t\t\t\t :class=\"[item.warnId == 0 ?'bg-gray':'']\" :disabled=\"item.warnId == 0\" style=\"width: 20%;\" />\r\n\t\t\t\t\t\t\t\t<input type=\"number\" @input=\"changeInput($event,index,'greater')\" name=\"greater\" :value=\"item.greater\" class=\"input margin-xs\"\r\n\t\t\t\t\t\t\t\t :class=\"[item.warnId == 0 ?'bg-gray':'']\" :disabled=\"item.warnId == 0\" style=\"width: 20%;\" />\r\n\t\t\t\t\t\t\t\t<input type=\"number\" @input=\"changeInput($event,index,'equal')\" name=\"equal\" :value=\"item.equal\" class=\"input margin-xs\"\r\n\t\t\t\t\t\t\t\t :class=\"[item.warnId == 0 ?'bg-gray':'']\" :disabled=\"item.warnId == 0\" style=\"width: 20%;\" />\r\n\t\t\t\t\t\t\t\t<input type=\"number\" @input=\"changeInput($event,index,'wave')\" name=\"wave\" :value=\"item.wave\" class=\"input margin-xs\"\r\n\t\t\t\t\t\t\t\t :class=\"[item.warnId == 0 ?'bg-gray':'']\" :disabled=\"item.warnId == 0\" style=\"width: 20%;\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</checkbox-group>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"text-center\" style=\"margin-top:60px\">\r\n\t\t\t\t\t\t<view class=\"cuIcon-edit text-grey\" style=\"font-size:80px\"></view>\r\n\t\t\t\t\t\t<button class=\"cu-btn round line-grey margin lg\" @tap=\"showAddWarnModel\">{{i18n.add}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view v-if=\"explainWarnList.length != 0\">\r\n\t\t\t\t\t<view v-if=\"isShowCheck\" class=\"flex justify-between align-center\">\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" @tap=\"deleteExplainWarn\">{{i18n.deleteSelect}}</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" @tap=\"unDeleteExplainWarn\">{{i18n.cancel}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"flex justify-between align-center\">\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" @tap=\"saveExplainWarn\">{{i18n.save}}</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" @tap=\"unShowExplainWarn\">{{i18n.cancel}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"[isShowAddWarnModel && showModel=='realTime'?'show':'']\" style=\"text-align: start\">\r\n\t\t\t<view class=\"cu-dialog bg-white\" style=\"border-top-left-radius:20rpx;border-top-right-radius:20rpx;\">\r\n\t\t\t\t<view class=\"cu-bar bg-white text-bold\">\r\n\t\t\t\t\t<view class='action'>\r\n\t\t\t\t\t\t{{i18n.deviceSensorExplain.setWarnValue}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<form @submit=\"addExplainWarn\">\r\n\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t<view class=\"title\">{{i18n.deviceSensorExplain.lowWarnValue}}：</view>\r\n\t\t\t\t\t\t<input type=\"number\" name=\"less\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t<view class=\"title\">{{i18n.deviceSensorExplain.highWarnValue}}：</view>\r\n\t\t\t\t\t\t<input type=\"number\" name=\"greater\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t<view class=\"title\">{{i18n.deviceSensorExplain.equalWarnValue}}：</view>\r\n\t\t\t\t\t\t<input type=\"number\" name=\"equal\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t<view class=\"title\">{{i18n.deviceSensorExplain.fluctuationWarn}}：</view>\r\n\t\t\t\t\t\t<input type=\"number\" name=\"wave\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\" style=\"min-height:30rpx;\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex justify-between align-center\">\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" form-type=\"submit\">{{i18n.confirm}}</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn block line-grey margin lg\" @tap=\"unShowAddWarnModel\">{{i18n.cancel}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</form>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view v-if=\"showModel=='history'\" class=\"flex\" style=\"width:100%;\">\r\n\t\t\t<picker mode=\"date\" :value=\"startDate \" :end=\"initEndTimestamp | formatDate\" @change='startDateChange'>\r\n\t\t\t\t<cover-view id=\"fixedBlock\" :style=\"[{top:ModelHeight + 'px'}]\" style=\"position:fixed;left:0;width:40%;z-index: 1024;background-color: #FFFFFF;\"\r\n\t\t\t\t class=\"text-grey padding-tb text-center\">{{startDate}}</cover-view>\r\n\t\t\t</picker>\r\n\t\t\t<cover-view :style=\"[{top:ModelHeight + 'px'}]\" class=\"padding-tb text-center\" style=\"position:fixed;left:40%;width:20%;z-index: 1024;background-color: #FFFFFF;\">{{i18n.to}}</cover-view>\r\n\t\t\t<picker mode=\"date\" :end=\"initEndTimestamp | formatDate\" @change='endDateChange'>\r\n\t\t\t\t<cover-view :style=\"[{top:ModelHeight + 'px'}]\" style=\"position:fixed;left:60%;width:40%;z-index: 1024;background-color: #FFFFFF;\"\r\n\t\t\t\t class=\"text-grey padding-tb text-center\">{{endDate}}</cover-view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef H5 -->\r\n\t\t<view v-if=\"showModel=='history'\" class=\"flex\" style=\"width:100%;\">\r\n\t\t\t<picker mode=\"date\" :value=\"startDate \" :end=\"initEndTimestamp | formatDate\" @change='startDateChange'>\r\n\t\t\t\t<cover-view id=\"fixedBlock\" :style=\"[{top:historyMarginTop + 'px'}]\" style=\"position:fixed;left:0;width:40%;z-index: 1024;background-color: #FFFFFF;\"\r\n\t\t\t\t class=\"text-grey padding-tb text-center\">{{startDate}}</cover-view>\r\n\t\t\t</picker>\r\n\t\t\t<cover-view :style=\"[{top:historyMarginTop + 'px'}]\" class=\"padding-tb text-center\" style=\"position:fixed;left:40%;width:20%;z-index: 1024;background-color: #FFFFFF;\">{{i18n.to}}</cover-view>\r\n\t\t\t<picker mode=\"date\" :end=\"initEndTimestamp | formatDate\" @change='endDateChange'>\r\n\t\t\t\t<cover-view :style=\"[{top:historyMarginTop + 'px'}]\" style=\"position:fixed;left:60%;width:40%;z-index: 1024;background-color: #FFFFFF;\"\r\n\t\t\t\t class=\"text-grey padding-tb text-center\">{{endDate}}</cover-view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\r\n\t\t<view v-if=\"showModel == 'history'\" style=\"width:100%;background-color:#FFFFFF\" :style=\"[{height:historyMarginTop + 'px'}]\"></view>\r\n\t\t<mpvue-echarts v-if=\"showModel == 'history'\" v-for=\"(item,index) in chartList\" :key=\"index\" :ref=\"item.ref\" :comIndex=\"index\"\r\n\t\t :echarts=\"item.echarts\" @onInit=\"initChart\" :canvasId=\"item.canvasId\" :lazyLoad=\"lazyLoad\" />\r\n\t\t<view v-if=\"showModel=='history'\" style=\"width: 100%;height: 115rpx;\"></view>\r\n\t\t<picker v-if=\"showModel == 'history'\" :range=\"i18n.deviceSensorExplain.timeList\" value=\"timeIndex\" @change='timeChange'>\r\n\t\t\t<cover-view class=\"flex align-center justify-center\" :style=\"[{backgroundColor:circleBgColor}]\" style=\"width: 85rpx;height: 85rpx;border-radius: 50%;position:fixed !important;z-index: 1024;right:40upx;bottom: 30rpx\">\r\n\t\t\t\t<cover-view class=\"text-sm\" :style=\"[{color:emphasizeColor}]\">{{i18n.deviceSensorExplain.time}}</cover-view>\r\n\t\t\t</cover-view>\r\n\t\t</picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport io from '@hyoga/uni-socket.io'\r\n\timport * as formatTime from '@/common/utils/filter/formatTime/formatTime.js'\r\n\timport * as deviceSensorApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceSensorApi/deviceSensorApi.js'\r\n\timport * as deviceSensorExplainApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceSensorApi/deviceSensorExplainApi/deviceSensorExplainApi.js'\r\n\timport * as deviceControllerApi from '../../common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceControllerApi/deviceControllerApi.js'\r\n\timport * as echarts from '@/echarts/echarts.min.js'\r\n\timport mpvueEcharts from '@/mpvue-echarts/src/echarts.vue'\r\n\timport circleComponent from '@/components/ztn-custom/circleComponent/circleComponent.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\techarts,\r\n\t\t\t\tisToHome: false,\r\n\t\t\t\tfromLoginBack: false,\r\n\t\t\t\tisLogin: false,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\temphasizeColor: '',\r\n\t\t\t\tcircleBgColor: '#ffffff',\r\n\t\t\t\tchartItemStyle: '',\r\n\t\t\t\tchartAreaStyle: '',\r\n\t\t\t\tscreenHeight: 0,\r\n\t\t\t\tshowModel: 'realTime',\r\n\t\t\t\tModelHeight: '',\r\n\t\t\t\trealTimeList: [],\r\n\t\t\t\texplainId: '',\r\n\t\t\t\texplainWarnList: [],\r\n\t\t\t\tcheckWarnList: [],\r\n\t\t\t\tisShowCheck: false,\r\n\t\t\t\tisShowWarnModel: false,\r\n\t\t\t\tisShowAddWarnModel: false,\r\n\t\t\t\tsettingError: '',\r\n\t\t\t\tshowErrorModal: false,\r\n\t\t\t\tisShowFilter: true,\r\n\t\t\t\thistoryMarginTop: '',\r\n\t\t\t\tchartList: [],\r\n\t\t\t\tstartTimestamp: '',\r\n\t\t\t\tendTimestamp: '',\r\n\t\t\t\tinitEndTimestamp: '',\r\n\t\t\t\tinitStartTimestamp: '',\r\n\t\t\t\tstartDate: '',\r\n\t\t\t\tendDate: '',\r\n\t\t\t\tendcreatedTime: '',\r\n\t\t\t\tselectItemHistory: null,\r\n\t\t\t\tlazyLoad: false,\r\n\t\t\t\tintervalID: null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t},\r\n\t\t\tthemei18n() {\r\n\t\t\t\treturn this.$themei18nOption()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\tlet theme = this.themei18n.theme\r\n\t\t\tlet navigationBarTextColor = this.themei18n.navigationBarTextColor\r\n\t\t\tlet navigationBarBackgroundColor = this.themei18n.navigationBarBackgroundColor\r\n\t\t\tlet light;\r\n\t\t\tswitch (theme) {\r\n\t\t\t\tcase 'default':\r\n\t\t\t\t\tlight = 'orangeLight'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'darkColor':\r\n\t\t\t\t\tlight = 'blueLight'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'lightColor':\r\n\t\t\t\t\tlight = 'blueLight'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tlet lightColor = this.themei18n.lightColor\r\n\t\t\tthis.circleBgColor = lightColor[light]\r\n\t\t\tthis.emphasizeColor = this.themei18n.emphasizeColor\r\n\t\t\tthis.chartItemStyle = this.themei18n.chartItemStyle\r\n\t\t\tthis.chartAreaStyle = this.themei18n.chartAreaStyle\r\n\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\tfrontColor: navigationBarTextColor, //前景颜色值，包括按钮、标题、状态栏的颜色，仅支持 #ffffff 和 #000000\r\n\t\t\t\tbackgroundColor: navigationBarBackgroundColor, //背景颜色值，有效值为十六进制颜色\r\n\t\t\t})\r\n\t\t},\r\n\t\tonLoad: function(option) {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin') || false\r\n\t\t\tthis.screenHeight = uni.getStorageSync('screenHeight') + 'px'\r\n\t\t\tthis.initOption = option\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin ? this.init(option) : uni.navigateTo({\r\n\t\t\t\turl: '/pages/login/login'\r\n\t\t\t})\r\n\t\t\t// let date = new Date()\r\n\t\t\t// console.log('-----------')\r\n\t\t\t// console.log(date)\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tthis.$uniUtilsApi.toHome(this)\r\n\t\t\tlet initOption = this.initOption\r\n\t\t\tlet fromLoginBack = this.fromLoginBack\r\n\t\t\tfromLoginBack && (this.init(initOption), this.fromLoginBack = false, this.isLoginOverdue = false, this.isLogin =\r\n\t\t\t\ttrue)\r\n\t\t},\r\n\t\tonUnload: function(e) {\r\n\t\t\tlet isLogin = this.isLogin\r\n\t\t\tlet intervalID = this.intervalID\r\n\t\t\tif (isLogin) {\r\n\t\t\t\tthis.unBindUserSocket()\r\n\t\t\t\tthis.socketTask.close({\r\n\t\t\t\t\tsuccess: (res) => {},\r\n\t\t\t\t\tfail: (err) => {}\r\n\t\t\t\t})\r\n\t\t\t\tclearInterval(intervalID)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit: function(option) {\r\n\t\t\t\tlet socketTask = this.socketTask\r\n\t\t\t\tif (socketTask) {\r\n\t\t\t\t\tthis.unBindUserSocket()\r\n\t\t\t\t\tthis.socketTask.close({\r\n\t\t\t\t\t\tsuccess: (res) => {},\r\n\t\t\t\t\t\tfail: (err) => {}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tclearInterval(intervalID)\r\n\t\t\t\t}\r\n\t\t\t\tthis.deviceName = option.deviceName\r\n\t\t\t\tthis.deviceCore = option.deviceCore\r\n\t\t\t\tthis.sensorId = option.sensorId\r\n\t\t\t\tthis.sensorName = option.sensorName\r\n\t\t\t\tthis.port = option.port\r\n\t\t\t\tthis.getRealTimeList()\r\n\t\t\t\tthis.connectSocket()\r\n\t\t\t\tthis.openSocket()\r\n\t\t\t},\r\n\t\t\ttapRealTime: function() {\r\n\t\t\t\tlet showModel = this.showModel\r\n\t\t\t\tshowModel == 'history' && (this.showModel = 'realTime', this.selectItemHistory = null, this.getRealTimeList())\r\n\t\t\t},\r\n\t\t\ttapHistorical: function() {\r\n\t\t\t\tlet showModel = this.showModel\r\n\t\t\t\tshowModel == 'realTime' && (this.showModel = 'history', this.$uniUtilsApi.showLoading(this.i18n.loading, false),\r\n\t\t\t\t\tthis.getCurrentDate(), this.getListWithExplain(undefined, true))\r\n\t\t\t},\r\n\t\t\tgetRealTimeList: function() {\r\n\t\t\t\tlet sensorId = this.sensorId\r\n\t\t\t\tlet deviceCore = this.deviceCore\r\n\t\t\t\tdeviceSensorExplainApi.getRealTimeList(this, sensorId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.nodata, 'none', 1000, false)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet ModelHeight = uni.getStorageSync('ModelHeight')\r\n\t\t\t\t\t\t\tlet realTimeList = data.filter((item, index, arr) => item.hidden == false)\r\n\t\t\t\t\t\t\tif (ModelHeight) {\r\n\t\t\t\t\t\t\t\tthis.ModelHeight = ModelHeight - 0.5\r\n\t\t\t\t\t\t\t\tthis.realTimeList = realTimeList\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tuni.createSelectorQuery().select('#showModelStyle').boundingClientRect((e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet height = e.height\r\n\t\t\t\t\t\t\t\t\t\t\tthis.ModelHeight = height - 0.5\r\n\t\t\t\t\t\t\t\t\t\t\tthis.realTimeList = realTimeList\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('ModelHeight', height)\r\n\t\t\t\t\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t\t\t\t\t}, 0)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowExplainWarn: function() {\r\n\t\t\t\tthis.isShowWarnModel = true\r\n\t\t\t},\r\n\t\t\tunShowExplainWarn: function() {\r\n\t\t\t\tthis.isShowWarnModel = false\r\n\t\t\t},\r\n\t\t\tgetExplainWarnList: function(value) {\r\n\t\t\t\tlet isShowWarnModel = this.isShowWarnModel\r\n\t\t\t\tdeviceSensorExplainApi.getExplainWarnList(this, value).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet arr = []\r\n\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\tlet obj = {}\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\twarnId,\r\n\t\t\t\t\t\t\t\tless,\r\n\t\t\t\t\t\t\t\tgreater,\r\n\t\t\t\t\t\t\t\tequal,\r\n\t\t\t\t\t\t\t\twave\r\n\t\t\t\t\t\t\t} = data[i]\r\n\t\t\t\t\t\t\tobj.warnId = warnId\r\n\t\t\t\t\t\t\tobj.less = less\r\n\t\t\t\t\t\t\tobj.greater = greater\r\n\t\t\t\t\t\t\tobj.equal = equal\r\n\t\t\t\t\t\t\tobj.wave = wave\r\n\t\t\t\t\t\t\tobj.checked = false\r\n\t\t\t\t\t\t\tarr.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.explainId = value\r\n\t\t\t\t\t\tthis.explainWarnList = arr\r\n\t\t\t\t\t\tif (!isShowWarnModel) this.showExplainWarn()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangeInput: function(e, index, name) {\r\n\t\t\t\tlet value = e.detail.value\r\n\t\t\t\tlet explainWarnList = this.explainWarnList\r\n\t\t\t\texplainWarnList[index][name] = value\r\n\t\t\t\tthis.explainWarnList = explainWarnList\r\n\t\t\t},\r\n\t\t\tsaveExplainWarn: function() {\r\n\t\t\t\tlet warnList = this.explainWarnList\r\n\t\t\t\tthis.getDeleteAndInsertList(warnList)\r\n\t\t\t\tthis.unShowExplainWarn()\r\n\t\t\t},\r\n\t\t\tshowCheck: function() {\r\n\t\t\t\tthis.isShowCheck = true\r\n\t\t\t},\r\n\t\t\tchangeCheck: function(e) {\r\n\t\t\t\tthis.checkWarnList = e.detail.value\r\n\t\t\t},\r\n\t\t\tdeleteExplainWarn: function() {\r\n\t\t\t\tlet explainId = this.explainId\r\n\t\t\t\tlet list = this.checkWarnList\r\n\t\t\t\tlet explainWarnList = this.explainWarnList.filter((value, index) => {\r\n\t\t\t\t\treturn list.indexOf(index + '') === -1\r\n\t\t\t\t});\r\n\t\t\t\tthis.getDeleteAndInsertList(explainWarnList)\r\n\t\t\t\tthis.unDeleteExplainWarn()\r\n\t\t\t},\r\n\t\t\tunDeleteExplainWarn: function() {\r\n\t\t\t\tthis.isShowWarnModel = false\r\n\t\t\t\tthis.checkWarnList = []\r\n\t\t\t\tthis.isShowCheck = false\r\n\t\t\t},\r\n\t\t\tshowAddWarnModel: function() {\r\n\t\t\t\tthis.isShowAddWarnModel = true\r\n\t\t\t\tthis.isShowWarnModel = false\r\n\t\t\t},\r\n\t\t\tunShowAddWarnModel: function(e) {\r\n\t\t\t\tthis.isShowAddWarnModel = false\r\n\t\t\t},\r\n\t\t\taddExplainWarn: function(e) {\r\n\t\t\t\tlet value = e.detail.value\r\n\t\t\t\tlet explainWarnList = this.explainWarnList\r\n\t\t\t\texplainWarnList.unshift(value)\r\n\t\t\t\tthis.getDeleteAndInsertList(explainWarnList)\r\n\t\t\t\tthis.unShowAddWarnModel()\r\n\t\t\t},\r\n\t\t\tgetDeleteAndInsertList: function(warnList) {\r\n\t\t\t\tlet explainId = this.explainId\r\n\t\t\t\tdeviceSensorExplainApi.getDeleteAndInsertList(this, explainId, warnList).then((res) => {\r\n\t\t\t\t\tlet text = res.code == '200' ? this.i18n.setSuccess : this.i18n.setFail\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(text, 'none', 1000, false)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeviceController: function() {\r\n\t\t\t\tlet deviceName = this.deviceName\r\n\t\t\t\tlet deviceCore = this.deviceCore\r\n\t\t\t\tlet pageCur = 'deviceController'\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNavigation/deviceNavigation?deviceName=${deviceName}&deviceCore=${deviceCore}&pageCur=${pageCur}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateData: function() {\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, true)\r\n\t\t\t\tlet deviceCore = this.deviceCore\r\n\t\t\t\tlet port = this.port\r\n\t\t\t\tdeviceControllerApi.saveSetting(this, deviceCore, undefined, 'getData', port, undefined).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.hideLoading()\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.updateSuccess, 'none', 1000, true) //'更新成功'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.hideLoading()\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.updateFail, 'none', 1000, true) //'更新失败'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideErrorModal: function() {\r\n\t\t\t\tthis.showErrorModal = false\r\n\t\t\t},\r\n\t\t\tconnectSocket: function() {\r\n\t\t\t\tlet accessToken = uni.getStorageSync('accessToken')\r\n\t\t\t\tlet language = uni.getStorageSync('language')\r\n\t\t\t\tlet sensorId = this.sensorId\r\n\t\t\t\tlet socketUrl =\r\n\t\t\t\t\t`wss://core.ztn-tech.com/ws?accessToken=${accessToken}&language=${language}&app=iot`\r\n\t\t\t\tthis.socketTask = uni.connectSocket({\r\n\t\t\t\t\turl: socketUrl,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t// console.log(\"success\")\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenSocket: function() {\r\n\t\t\t\tthis.socketTask.onOpen((res) => {\r\n\t\t\t\t\t// console.log(\"WebSocket连接正常打开中...！\");\r\n\t\t\t\t\t// 注：只有连接正常打开中 ，才能正常成功发送消息\r\n\t\t\t\t\tlet bindUserSocket = this.bindUserSocket\r\n\t\t\t\t\tlet time = 1000 * 60 * 60 * 1\r\n\t\t\t\t\tlet intervalID = setInterval(bindUserSocket, time)\r\n\t\t\t\t\tthis.intervalID = intervalID\r\n\t\t\t\t\tbindUserSocket()\r\n\t\t\t\t\t// 注：只有连接正常打开中 ，才能正常收到消息\r\n\t\t\t\t\tthis.socketTask.onMessage((res) => {\r\n\t\t\t\t\t\tthis.handleSocketData(res.data)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.socketTask.onClose((res) => {\r\n\t\t\t\t\t\t// console.log(\"关闭回调--------------\" + res[reason]);\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbindUserSocket: function() {\r\n\t\t\t\tlet sensorId = this.sensorId\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcmd: 'bindRoom',\r\n\t\t\t\t\tparam: `iot:sensor:${sensorId}`\r\n\t\t\t\t}\r\n\t\t\t\tthis.socketTask.send({\r\n\t\t\t\t\tdata: JSON.stringify(data),\r\n\t\t\t\t\tasync success() {\r\n\t\t\t\t\t\t// console.log(\"绑定成功\");\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tunBindUserSocket: function() {\r\n\t\t\t\tlet sensorId = this.sensorId\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcmd: 'unBindRoom',\r\n\t\t\t\t\tparam: `iot:sensor:${sensorId}`\r\n\t\t\t\t}\r\n\t\t\t\tthis.socketTask.send({\r\n\t\t\t\t\tdata: JSON.stringify(data),\r\n\t\t\t\t\tasync success() {\r\n\t\t\t\t\t\t// console.log(\"解绑成功\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSocketData: function(e) {\r\n\t\t\t\tlet option = this.realTimeList;\r\n\t\t\t\tlet data = JSON.parse(e);\r\n\t\t\t\tif (data.type == 'deviceOnline') {\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.uploadData, 'none', 1000, false)\r\n\t\t\t\t\tlet msg = JSON.parse(data.msg);\r\n\t\t\t\t\tlet timestamp = data.timestamp;\r\n\t\t\t\t\tfor (let name in msg) {\r\n\t\t\t\t\t\tfor (let j in option) {\r\n\t\t\t\t\t\t\tlet keyName = option[j].keyName\r\n\t\t\t\t\t\t\tif (keyName == name) {\r\n\t\t\t\t\t\t\t\toption[j].value = msg[keyName]\r\n\t\t\t\t\t\t\t\toption[j].valueDate = timestamp\r\n\t\t\t\t\t\t\t\tthis.realTimeList = option\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoItemHistoryData: function(e) {\r\n\t\t\t\tthis.showModel = 'history'\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, false)\r\n\t\t\t\tthis.getCurrentDate()\r\n\t\t\t\tthis.getListWithExplain(e, true)\r\n\t\t\t\tthis.selectItemHistory = e\r\n\t\t\t},\r\n\t\t\tgetCurrentDate: function() {\r\n\t\t\t\tlet time = new Date()\r\n\t\t\t\tthis.startTimestamp = time.setTime(time.getTime() / 1000 - 7 * 24 * 60 * 60).toString();\r\n\t\t\t\tthis.endTimestamp = Math.round(new Date().getTime() / 1000).toString();\r\n\t\t\t\tthis.startDate = formatTime.formatDate(this.startTimestamp)\r\n\t\t\t\tthis.endDate = formatTime.formatDate(this.endTimestamp)\r\n\t\t\t\tthis.initStartTimestamp = this.startTimestamp\r\n\t\t\t\tthis.initEndTimestamp = this.endTimestamp\r\n\t\t\t},\r\n\t\t\tgetListWithExplain: function(e, first) {\r\n\t\t\t\tfirst && (this.chartList = [])\r\n\t\t\t\tlet sensorId = this.sensorId\r\n\t\t\t\tlet startTimestamp = this.startTimestamp\r\n\t\t\t\tlet endTimestamp = this.endTimestamp\r\n\t\t\t\tdeviceSensorApi.getHistoryListWithExplain(this, sensorId, startTimestamp, endTimestamp).then((res) => {\r\n\t\t\t\t\tthis.handleListWithExplain(e, first, res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleListWithExplain: function(e, first, res) {\r\n\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\tlet ModelHeight = parseInt(this.ModelHeight)\r\n\t\t\t\t\tlet fixedHeight = uni.getStorageSync('fixedHeight')\r\n\t\t\t\t\tif (fixedHeight) {\r\n\t\t\t\t\t\tthis.historyMarginTop = fixedHeight + ModelHeight\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.createSelectorQuery().select('#fixedBlock').boundingClientRect((e) => {\r\n\t\t\t\t\t\t\t\t\tlet height = e == null ? 0 : e.height\r\n\t\t\t\t\t\t\t\t\tthis.historyMarginTop = height + ModelHeight\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('fixedHeight', height)\r\n\t\t\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t\t\t}, 0)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet explainList = res.data.explainList\r\n\t\t\t\t\tlet historyData = res.data.dataList\r\n\t\t\t\t\tif (e) {\r\n\t\t\t\t\t\tlet arr = []\r\n\t\t\t\t\t\tarr.push(e)\r\n\t\t\t\t\t\tthis.initChartData(arr, historyData, first)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.initChartData(explainList, historyData, first)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitChartData: function(options, data, first) {\r\n\t\t\t\tthis.$uniUtilsApi.hideLoading()\r\n\t\t\t\tlet list = []\r\n\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\tif (data.length == 0) {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noData, 'none', 1000, false)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else if (options[i].type != 'static' && options[i].hidden != true) {\r\n\t\t\t\t\t\tlet keyName = options[i].keyName;\r\n\t\t\t\t\t\tlet item = {};\r\n\t\t\t\t\t\tlet details = []\r\n\t\t\t\t\t\tfor (let j = 0; j < data.length; j++) {\r\n\t\t\t\t\t\t\tlet obj = data[j].val;\r\n\t\t\t\t\t\t\tlet newDate = new Date();\r\n\t\t\t\t\t\t\tvar createdTime = data[j].createdTime;\r\n\t\t\t\t\t\t\tnewDate.setTime(createdTime * 1000);\r\n\t\t\t\t\t\t\tif (obj[keyName] != undefined) {\r\n\t\t\t\t\t\t\t\tdetails.push({\r\n\t\t\t\t\t\t\t\t\ttime: (newDate.getMonth() + 1) + '/' + newDate.getDate() + ' ' + newDate.getHours() + ':' + newDate.getMinutes(),\r\n\t\t\t\t\t\t\t\t\tval: Number(obj[keyName]),\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.data = details;\r\n\t\t\t\t\t\titem.name = options[i].name\r\n\t\t\t\t\t\titem.unit = options[i].unit\r\n\t\t\t\t\t\titem.ref = keyName\r\n\t\t\t\t\t\titem.canvasId = 'mychart-dom-multi-' + keyName.replace('.', '_')\r\n\t\t\t\t\t\tif (item.data.length != 0) {\r\n\t\t\t\t\t\t\tlist.push(item)\r\n\t\t\t\t\t\t} else if (this.selectItemHistory) {\r\n\t\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noData, 'none', 1000, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.selectItemHistory) {\r\n\t\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.noData, 'none', 1000, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.chartList = list\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet chartList = this.chartList\r\n\t\t\t\t\tfor (let i = 0; i < chartList.length; i++) {\r\n\t\t\t\t\t\tlet ref = chartList[i].ref\r\n\t\t\t\t\t\tthis.$refs[ref][0].refresh()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.endcreatedTime = createdTime\r\n\t\t\t},\r\n\t\t\tinitChart: function(e) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tcanvas,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tcomIndex\r\n\t\t\t\t} = e;\r\n\t\t\t\twidth = width - 20;\r\n\t\t\t\techarts.setCanvasCreator(() => canvas);\r\n\t\t\t\tconst chart = echarts.init(canvas, null, {\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t})\r\n\t\t\t\tcanvas.setChart(chart)\r\n\t\t\t\tlet itemStyle = this.chartItemStyle\r\n\t\t\t\tlet areaStyle = this.chartAreaStyle\r\n\t\t\t\tlet thisChart = this.chartList[comIndex]\r\n\t\t\t\tlet thisChartName = thisChart.name\r\n\t\t\t\tlet thisChartData = thisChart.data\r\n\t\t\t\tlet timeData = [];\r\n\t\t\t\tlet timeValue = [];\r\n\t\t\t\tfor (let i = 0; i < thisChartData.length; i++) {\r\n\t\t\t\t\ttimeData.push(thisChartData[i].time)\r\n\t\t\t\t\ttimeValue.push(thisChartData[i].val)\r\n\t\t\t\t}\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttext: thisChartName,\r\n\t\t\t\t\t\ttop: '4%',\r\n\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\tcolor: 'grey',\r\n\t\t\t\t\t\t\tfontSize: '15',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgrid: {\r\n\t\t\t\t\t\tleft: '5%',\r\n\t\t\t\t\t\tcontainLabel: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\ttype: 'cross',\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#6a7985'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdataZoom: [{\r\n\t\t\t\t\t\t\ttype: 'inside',\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 100,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\t\tend: 100,\r\n\t\t\t\t\t\t\ttop: '84%',\r\n\t\t\t\t\t\t\thandleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\r\n\t\t\t\t\t\t\thandleSize: '80%',\r\n\t\t\t\t\t\t\thandleStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t\t\tshadowBlur: 3,\r\n\t\t\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0.3, 0.6)',\r\n\t\t\t\t\t\t\t\tshadowOffsetX: 2,\r\n\t\t\t\t\t\t\t\tshadowOffsetY: 2\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\t\tdata: timeData,\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: 'grey'\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\tcolor: 'grey'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\tcolor: 'grey'\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\tcolor: 'grey'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tdata: timeValue,\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tsmooth: true,\r\n\t\t\t\t\t\t// markPoint: {\r\n\t\t\t\t\t\t// \tdata: [{\r\n\t\t\t\t\t\t// \t\t\ttype: 'max',\r\n\t\t\t\t\t\t// \t\t\tname: '最大值',\r\n\t\t\t\t\t\t// \t\t\tvalueIndex: 1\r\n\t\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t\t// \t\t\ttype: 'min',\r\n\t\t\t\t\t\t// \t\t\tname: '最小值'\r\n\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t// \t],\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\tmarkLine: {\r\n\t\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\t\ttype: 'average',\r\n\t\t\t\t\t\t\t\tname: '平均值'\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsymbol: 'none',\r\n\t\t\t\t\t\tsampling: 'average',\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: itemStyle //'#70c8e2'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: areaStyle //'#f5f8fd'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}],\r\n\t\t\t\t};\r\n\t\t\t\tchart.setOption(option)\r\n\t\t\t\tlet ref = this.chartList[comIndex].ref\r\n\t\t\t\tthis.$refs[ref][0].setChart(chart)\r\n\t\t\t},\r\n\t\t\tstartDateChange: function(e) {\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, false)\r\n\t\t\t\tthis.chartList = []\r\n\t\t\t\tlet date = e.detail.value.replace(/-/g, '/')\r\n\t\t\t\tlet timestamp = (new Date(date).getTime() / 1000).toString();\r\n\t\t\t\tlet endTimestamp = this.endTimestamp\r\n\t\t\t\tif (endTimestamp < timestamp || endTimestamp == timestamp) {\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.lessEndDate, 'none', 1000, false) //请选择小于结束日期\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.startDate = e.detail.value\r\n\t\t\t\t\tthis.startTimestamp = timestamp\r\n\t\t\t\t\tlet selectItemHistory = this.selectItemHistory\r\n\t\t\t\t\tselectItemHistory == null ? this.getListWithExplain(undefined, false) : this.getListWithExplain(\r\n\t\t\t\t\t\tselectItemHistory,\r\n\t\t\t\t\t\tfalse)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tendDateChange: function(e) {\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, false)\r\n\t\t\t\tthis.chartData = []\r\n\t\t\t\tlet date = e.detail.value.replace(/-/g, '/');\r\n\t\t\t\tlet timestamp = (new Date(date).getTime() / 1000 + 1 * 24 * 60 * 60).toString();\r\n\t\t\t\tlet startTimestamp = this.startTimestamp\r\n\t\t\t\tif (startTimestamp > timestamp || startTimestamp == timestamp) {\r\n\t\t\t\t\tthis.$uniUtilsApi.showToast(this.i18n.greaterStartDate, 'none', 1000, false) //请选择大于开始日期\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.endDate = e.detail.value\r\n\t\t\t\t\tthis.endTimestamp = timestamp\r\n\t\t\t\t\tlet selectItemHistory = this.selectItemHistory\r\n\t\t\t\t\tselectItemHistory == null ? this.getListWithExplain(undefined, false) : this.getListWithExplain(\r\n\t\t\t\t\t\tselectItemHistory,\r\n\t\t\t\t\t\tfalse)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttimeChange: function(e) {\r\n\t\t\t\tthis.$uniUtilsApi.showLoading(this.i18n.loading, true)\r\n\t\t\t\tthis.chartData = []\r\n\t\t\t\tlet index = parseInt(e.detail.value)\r\n\t\t\t\tlet timeList = [60, 60 * 5, 60 * 10, 60 * 30, 60 * 60, 60 * 60 * 5, 60 * 60 * 10, 60 * 60 * 15, 60 * 60 * 20]\r\n\t\t\t\tlet endcreatedTime = this.endcreatedTime\r\n\t\t\t\tthis.startTimestamp = (parseInt(endcreatedTime) - timeList[index]).toString()\r\n\t\t\t\tlet selectItemHistory = this.selectItemHistory\r\n\t\t\t\tselectItemHistory == null ? this.getListWithExplain(undefined, false) : this.getListWithExplain(\r\n\t\t\t\t\tselectItemHistory,\r\n\t\t\t\t\tfalse)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tcircleComponent,\r\n\t\t\tmpvueEcharts\r\n\t\t},\r\n\t\tonShareAppMessage: function(res) {\r\n\t\t\tlet deviceName = this.deviceName\r\n\t\t\tlet deviceCore = this.deviceCore\r\n\t\t\tlet sensorId = this.sensorId\r\n\t\t\tlet sensorName = this.sensorName\r\n\t\t\tlet nickName = uni.getStorageSync('nickName')\r\n\t\t\treturn {\r\n\t\t\t\ttitle: `${nickName}${this.i18n.moreOperate.share}${deviceName}`,\r\n\t\t\t\tpath: `/pages/deviceSensorExplain/deviceSensorExplain?deviceName=${deviceName}&&deviceCore=${deviceCore}&&sensorId=${sensorId}&&sensorName=${sensorName}`,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage,\r\n\t.container {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.ztnCustom-realTime-value {\r\n\t\tbackground-color: red;\r\n\t\twidth: 200rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t\ttext-align: right;\r\n\t\tdisplay: -webkit-box;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: normal;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tword-wrap: break-word;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\r\n\t.input {\r\n\t\tborder: 1rpx solid rgba(0, 0, 0, 0.1);\r\n\t\tborder-radius: 5px;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t}\r\n\r\n\t.ztnCustom-cur {\r\n\t\ttransition: all .6s ease-in-out 0s;\r\n\t\ttransform: translateX(0upx)\r\n\t}\r\n\r\n\t.ztnCustom-move-cur {\r\n\t\ttransform: translateX(20%)\r\n\t}\r\n\r\n\t.ztnCustom-move {\r\n\t\tposition: absolute;\r\n\t\tz-index: 999;\r\n\t\tleft: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 20%;\r\n\t\ttransform: translateX(-100%);\r\n\t}\r\n\r\n\t/* .ztnCustom-realTime:last-child {\r\n\t\tmargin-bottom: 150rpx\r\n\t} */\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deviceSensorExplain.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./deviceSensorExplain.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1619667030092\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}