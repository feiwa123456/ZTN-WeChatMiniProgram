{"version":3,"sources":["webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?05df","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?f499","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?b09c","webpack:///F:/中泰能uniapp/ztn-uniapp/pages/list/list.vue?df26","uni-app:///pages/list/list.vue","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgzB,CAAgB,g0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwFp0B;AACA;;;AAGA,0H;AACA;AACA,mCADA,EACA;AACA,MAFA,kBAEA;AACA;AACA,+BADA;AAEA,mBAFA;AAGA,2BAHA;AAIA,+BAJA;AAKA;AACA,iBADA;AAEA,mBAFA,CAEA;AAFA,OALA;AASA;AACA,iBADA;AAEA,mBAFA;AAGA;AACA,mBADA;AAEA,qBAFA;AAGA,oBAHA,EAHA,EATA;;;AAkBA,8CAlBA;AAmBA,wBAnBA;AAoBA,4BApBA;AAqBA,uBArBA;AAsBA,yBAtBA;AAuBA,+BAvBA;AAwBA,yBAxBA;AAyBA,yBAzBA;AA0BA,2BA1BA;AA2BA,2BA3BA;AA4BA,+BA5BA;AA6BA,mCA7BA;AA8BA,0BA9BA;AA+BA,0BA/BA;AAgCA,yBAhCA;AAiCA,2BAjCA;AAkCA,oCAlCA;AAmCA,wCAnCA;AAoCA,0BApCA;AAqCA,0BArCA;AAsCA,yBAtCA;AAuCA,oBAvCA;AAwCA,wBAxCA;AAyCA,qBAzCA;AA0CA,oBA1CA;AA2CA,mBA3CA;AA4CA,sBA5CA;AA6CA,wBA7CA;AA8CA,qBA9CA;AA+CA,oBA/CA;AAgDA,kBAhDA;;AAkDA,GArDA;AAsDA,uBAtDA;AAuDA;AACA,QADA,kBACA;AACA;AACA,KAHA,EAvDA;;AA4DA;AACA;AACA,4BADA;AAEA,mBAFA,EADA;;AAKA;AACA,4BADA;AAEA,iBAFA,EALA,EA5DA;;;AAsEA;AACA;AACA;AACA;AACA,GA1EA;AA2EA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KAtBA;AAuBA;AACA;AACA;AACA;AACA,KA3BA;AA4BA;AACA,yBADA,GACA,cADA;AAEA,2CAFA;AAGA,yBAHA;AAIA,6CAJA;;AAMA,iDANA,iKA5BA;;;AAqCA;AACA;AACA;AACA;AACA;AACA,gCADA;;;;AAKA,+DALA,CAGA,eAHA,yBAGA,eAHA,CAIA,eAJA,yBAIA,eAJA;AAMA;AACA;AACA;AACA;AACA,SAXA;AAYA,OAbA;AAcA,KArDA;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA,OARA;AASA,KAlEA;AAmEA;;;;AAIA,uDAJA,CAEA,iBAFA,yBAEA,iBAFA,CAGA,iBAHA,yBAGA,iBAHA;AAKA;AACA;AACA,KA1EA;AA2EA;AACA;AACA;AACA;AACA,8BADA;;;;AAKA,8DALA,CAGA,gBAHA,yBAGA,gBAHA,CAIA,gBAJA,yBAIA,gBAJA;AAMA;AACA;AACA;AACA,OAVA;AAWA,KAxFA;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aADA;AAEA,iBAFA;AAGA,cAHA,EAGA,IAHA,CAGA;AACA;;;;;AAKA,kBALA,CAEA,YAFA,aAEA,WAFA,CAGA,IAHA,aAGA,IAHA,CAIA,KAJA,aAIA,KAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBALA,EAKA,IALA;AAMA,iBAPA,EAOA,GAPA;AAQA,eATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA5CA;AA6CA,KAjJA;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3JA;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA;AAMA,WAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA,gBAlBA;;AAoBA;AACA,KArLA;AAsLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnMA;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5NA;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArOA;AAsOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7OA;AA8OA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAtPA;AAuPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/PA;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvQA;AAwQA;AACA;AACA,sJADA;;AAGA,KA5QA;AA6QA;AACA;AACA,uCADA;;AAGA,KAjRA;AAkRA;AACA;AACA,iCADA;;AAGA,KAtRA,EA3EA;;AAmWA;AACA,oBADA;AAEA,oBAFA,EAnWA,E;;;;;;;;;;;;;kDC7FA,wCAAmB;AACnB;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C","file":"pages/list/list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=7d5e07c6&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/list/list.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=template&id=7d5e07c6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom :isCustom=\"isLogin\" :customIcon=\"customIcon\" v-on:parentEvent=\"areaList\">\r\n\t\t</cu-custom>\r\n\t\t<view v-if=\"isLogin && isShowNavScroll\" id=\"navScroll\" style=\"position: fixed;width:100%;z-index: 1024;box-shadow: 0 1rpx 6rpx rgba(0, 0, 0, 0.1);\"\r\n\t\t :style=\"[{top:`${CustomBar}px`}]\">\r\n\t\t\t<view class=\"cu-bar bg-white search\" style=\"box-shadow: 0 0 0 rgba(0, 0, 0, 0);\">\r\n\t\t\t\t<view class=\"search-form round margin\" style=\"width:80rpx;height:80rpx;\">\r\n\t\t\t\t\t<text class=\"cuIcon-search\" style=\"color:grey;font-size: 36upx;\"></text>\r\n\t\t\t\t\t<input style=\"width:80rpx;height:80rpx;\" type=\"text\" confirm-type=\"search\" :placeholder=\"i18n.list.searchDevice\"\r\n\t\t\t\t\t @confirm=\"tapSearchName\" :value=\"searchNameInput\" @input=\"searchNameInputChange\">\r\n\t\t\t\t\t</input>\r\n\t\t\t\t\t<view v-if=\"searchNameInput!=''\" class=\"cuIcon-roundclosefill text-gray\" style=\"font-size: 40upx;\" @tap=\"deleteSearchName\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button v-if=\"isShowSearchButton\" class=\"cu-btn margin-right bg-red\" @tap=\"tapSearchName\">{{i18n.search}}</button>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-x class=\"bg-white nav\" scroll-with-animation>\r\n\t\t\t\t<view class=\"flex text-center\">\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker @change=\"productStatusChange\" :value=\"currentStatusIndex\" :range='i18n.list.productStatusList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentStatusIndex != 0 ?'text-bold text-lg':''\">{{i18n.list.productStatusList[currentStatusIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker mode=\"multiSelector\" @change=\"typeSeriesChange\" @columnchange=\"typeSeriesColumnchange\" :value=\"currentTypeSeriesIndexCopy\"\r\n\t\t\t\t\t\t :range='productTypeSeriesListCopy'>\r\n\t\t\t\t\t\t\t<view :class=\"currentTypeSeriesIndex[0] != 0 || currentTypeSeriesIndex[1] != 0 ?'text-bold text-lg':''\">{{productTypeSeriesList[0][currentTypeSeriesIndex[0]]}}({{productTypeSeriesList[1][currentTypeSeriesIndex[1]]}})</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\">\r\n\t\t\t\t\t\t<picker @change=\"productAlarmChange\" :value=\"currentAlarmIndex\" :range='i18n.list.productAlarmList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentAlarmIndex != 0 ?'text-bold text-lg':''\">{{i18n.list.productAlarmList[currentAlarmIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" v-if=\"productGroupList.length != 0\">\r\n\t\t\t\t\t\t<picker @change=\"productGroupChange\" :value=\"currentGroupIndex\" :range='productGroupList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentGroupIndex != 0 ?'text-bold text-lg':''\">{{productGroupList[currentGroupIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" v-if=\"productPageList.length != 0\">\r\n\t\t\t\t\t\t<picker @change=\"productPageChange\" :value=\"currentPageIndex\" :range='productPageList'>\r\n\t\t\t\t\t\t\t<view :class=\"currentPageIndex != 0 ?'text-bold text-lg':''\">{{productPageList[currentPageIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<mescroll-body ref=\"mescrollRef\" @init=\"mescrollInit\" :down=\"downOption\" @down=\"downCallback\" :up=\"upOption\" @up=\"getDeviceList\">\r\n\t\t\t<view v-if=\"isLogin && isShowList\" class=\"bg-white\" :style=\"{'marginTop':`${navScrollHeight}px`}\">\r\n\t\t\t\t<view v-for=\"(arrItem,arrIndex) in deviceList\" :key=\"arrIndex\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in arrItem\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"flex align-center justify-between padding-top padding-left-sm padding-right\">\r\n\t\t\t\t\t\t\t<image class=\"ztnCustom-deviceIcon\" style=\"margin-right: 20rpx;\r\n\t\t\twidth: 96upx;\r\n\t\t\theight: 96upx;\" :src='item.deviceIcon'\r\n\t\t\t\t\t\t\t @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'></image>\r\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\r\n\t\t\t\t\t\t\t\t<view class=\" flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"padding-bottom-xs text-lg text-bold text-cut\" style=\"width:42vw\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>{{item.deviceName}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-center padding-bottom-xs \">\r\n\t\t\t\t\t\t\t\t\t\t<surplus class=\"surplus margin-right-sm\" id=\"surplus\" :status=\"item.status\" :charging=\"item.charging\"\r\n\t\t\t\t\t\t\t\t\t\t :surplus=\"item.surplus\" :powerType=\"item.powerType\"></surplus>\r\n\t\t\t\t\t\t\t\t\t\t<view :style=\"{color:`${item.statusColor}`}\" style=\"width:85rpx\" class=\"text-center\">{{item.deviceStatu}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"padding-bottom-xs\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>{{item.deviceCore}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-cut text-gray\" style=\"width:60vw\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceInfo\")'>\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.deviceAddr}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cuIcon-settingsfill text-bold text-center\" @tap='deviceNavigation(item.deviceName,item.deviceCore,\"deviceController\")'\r\n\t\t\t\t\t\t\t\t\t style=\"font-size:44rpx;width:85rpx\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<listFav v-if=\"!isLogin\" v-on:parentEvent=\"goToLogin\" :imageSrc=\"imageSrc\" :unLogStatuTxt=\"i18n.leadGotoLogin.unLogStatuTxt\"\r\n\t\t\t :immediateLoginText=\"i18n.leadGotoLogin.immediateLoginText\"></listFav>\r\n\t\t</mescroll-body>\r\n\t\t<view :style=\"[{paddingBottom:`${tabbarHeight}px`}]\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport * as deviceBelongApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceBelongApi/deviceBelongApi.js'\r\n\timport * as deviceGroupApi from '@/common/utils/ztnUniAppApi/ztnRequestApi/deviceApi/deviceGroupApi/deviceGroupApi.js'\r\n\timport surplus from '@/components/ztn-custom/surplus/surplus.vue'\r\n\timport listFav from '@/components/ztn-custom/listFav/listFav.vue'\r\n\timport MescrollMixin from '@/components/mescroll-uni/mescroll-mixins.js';\r\n\texport default {\r\n\t\tmixins: [MescrollMixin], // 使用mixin (在main.js注册全局组件)\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tisLogin: true,\r\n\t\t\t\tisLoginOverdue: false,\r\n\t\t\t\tcustomIcon: 'cuIcon-sort',\r\n\t\t\t\tdownOption: {\r\n\t\t\t\t\tuse: true,\r\n\t\t\t\t\tauto: false //是否在初始化后,自动执行downCallback; 默认true\r\n\t\t\t\t},\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tuse: true,\r\n\t\t\t\t\tauto: false,\r\n\t\t\t\t\tempty: {\r\n\t\t\t\t\t\tuse: true,\r\n\t\t\t\t\t\tfixed: true,\r\n\t\t\t\t\t\ttop: '25%'\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\timageSrc: '/static/images/noContent.png',\r\n\t\t\t\tnavScrollHeight: 0,\r\n\t\t\t\tisShowNavScroll: false,\r\n\t\t\t\tisShowList: false,\r\n\t\t\t\tsearchNameInput: '',\r\n\t\t\t\tisShowSearchButton: false,\r\n\t\t\t\tproductTypeList: [],\r\n\t\t\t\tproductTypeData: [],\r\n\t\t\t\tproductSeriesList: [],\r\n\t\t\t\tproductSeriesData: [],\r\n\t\t\t\tproductTypeSeriesList: [],\r\n\t\t\t\tproductTypeSeriesListCopy: [],\r\n\t\t\t\tproductGroupList: [],\r\n\t\t\t\tproductGroupData: [],\r\n\t\t\t\tproductPageList: [],\r\n\t\t\t\tcurrentStatusIndex: 0,\r\n\t\t\t\tcurrentTypeSeriesIndex: [0, 0],\r\n\t\t\t\tcurrentTypeSeriesIndexCopy: [0, 0],\r\n\t\t\t\tcurrentAlarmIndex: 0,\r\n\t\t\t\tcurrentGroupIndex: 0,\r\n\t\t\t\tcurrentPageIndex: 0,\r\n\t\t\t\tdeviceList: [],\r\n\t\t\t\tsearchStatus: null,\r\n\t\t\t\tproductId: null,\r\n\t\t\t\tseriesId: null,\r\n\t\t\t\tgroupId: null,\r\n\t\t\t\tsearchName: null,\r\n\t\t\t\ttodayOnline: false,\r\n\t\t\t\twarnDesc: false,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: 'listComponent',\r\n\t\tcomputed: {\r\n\t\t\ti18n() {\r\n\t\t\t\treturn this.$i18nMsg()\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tcurrentProductId: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\ttabbarHeight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tlet isLogin = uni.getStorageSync('isLogin') || false\r\n\t\t\tthis.isLogin = isLogin\r\n\t\t\tisLogin && this.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trefresh: function() {\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.mescroll.triggerDownScroll()\r\n\t\t\t\t},500)\r\n\t\t\t},\r\n\t\t\tinit: function() {\r\n\t\t\t\tlet productId = this.currentProductId\r\n\t\t\t\tthis.productId = productId\r\n\t\t\t\tthis.getDeviceList()\r\n\t\t\t\tthis.getProductGroupList()\r\n\t\t\t\tthis.getTypeSeries().then(res => {\r\n\t\t\t\t\tlet productTypeList = this.productTypeList\r\n\t\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\t\tlet productSeriesList = this.productSeriesList\r\n\t\t\t\t\tthis.productTypeSeriesList = [productTypeList, productSeriesList]\r\n\t\t\t\t\tthis.productTypeSeriesListCopy = [productTypeList, productSeriesList]\r\n\t\t\t\t\tlet index = productTypeData.findIndex((item) => item.productId === productId)\r\n\t\t\t\t\tthis.currentTypeSeriesIndex = [index, 0]\r\n\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [index, 0]\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdownCallback: function() {\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tgetTypeSeries: async function() {\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\tawait this.getProductTypeList();\r\n\t\t\t\tif (productId) {\r\n\t\t\t\t\tawait this.getProductSeriesList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.handleProductSeriesList([])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetProductTypeList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tdeviceBelongApi.getProductTypeList(this, userId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tproductTypeList,\r\n\t\t\t\t\t\t\t\tproductTypeData\r\n\t\t\t\t\t\t\t} = this.$uniUtilsApi.handleProductType(this, data)\r\n\t\t\t\t\t\t\tthis.productTypeList = productTypeList\r\n\t\t\t\t\t\t\tthis.productTypeData = productTypeData\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProductSeriesList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tdeviceBelongApi.getProductSeries(this, userId, productId).then((res) => {\r\n\t\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\t\tthis.handleProductSeriesList(data)\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleProductSeriesList: function(data) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tproductSeriesList,\r\n\t\t\t\t\tproductSeriesData\r\n\t\t\t\t} = this.$uniUtilsApi.handleProductSeries(this, data)\r\n\t\t\t\tthis.productSeriesList = productSeriesList\r\n\t\t\t\tthis.productSeriesData = productSeriesData\r\n\t\t\t},\r\n\t\t\tgetProductGroupList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tdeviceGroupApi.getProductGroupList(this, userId).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tproductGroupList,\r\n\t\t\t\t\t\t\tproductGroupData\r\n\t\t\t\t\t\t} = this.$uniUtilsApi.handleProductGroup(this, data)\r\n\t\t\t\t\t\tthis.productGroupList = productGroupList\r\n\t\t\t\t\t\tthis.productGroupData = productGroupData\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDeviceList: function() {\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\tlet searchStatus = this.searchStatus\r\n\t\t\t\tlet productId = this.productId\r\n\t\t\t\tlet seriesId = this.seriesId\r\n\t\t\t\tlet searchName = this.searchName\r\n\t\t\t\tlet todayOnline = this.todayOnline\r\n\t\t\t\tlet warnDesc = this.warnDesc\r\n\t\t\t\tlet groupId = this.groupId\r\n\t\t\t\tlet currentPage = this.currentPage\r\n\t\t\t\tlet pageSize = this.pageSize\r\n\t\t\t\tdeviceBelongApi.getDeviceList(this, userId, searchStatus, productId, seriesId, searchName, todayOnline, warnDesc,\r\n\t\t\t\t\tgroupId,\r\n\t\t\t\t\tcurrentPage,\r\n\t\t\t\t\tpageSize).then((res) => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tcurrentPage,\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\ttotal\r\n\t\t\t\t\t\t} = res.data\r\n\t\t\t\t\t\tif (!this.isShowNavScroll) {\r\n\t\t\t\t\t\t\tthis.isShowNavScroll = true\r\n\t\t\t\t\t\t\tlet navScrollHeight = uni.getStorageSync('navScrollHeight')\r\n\t\t\t\t\t\t\tif (navScrollHeight) {\r\n\t\t\t\t\t\t\t\tthis.navScrollHeight = navScrollHeight\r\n\t\t\t\t\t\t\t\tthis.isShowList = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tuni.createSelectorQuery().in(this).select('#navScroll').boundingClientRect((e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet height =  e.height\r\n\t\t\t\t\t\t\t\t\t\t\tthis.navScrollHeight = height\r\n\t\t\t\t\t\t\t\t\t\t\tthis.isShowList = true\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('navScrollHeight', height)\r\n\t\t\t\t\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet lastPage = Math.ceil(total / pageSize)\r\n\t\t\t\t\t\tlet pageList = [];\r\n\t\t\t\t\t\tfor (let i = 1; i <= lastPage; i++) {\r\n\t\t\t\t\t\t\tlet page = this.i18n.list.page\r\n\t\t\t\t\t\t\tlet the = this.i18n.list.the\r\n\t\t\t\t\t\t\tpageList.push(this._i18n.locale == 'en' ? page + i : the + i + page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.productPageList = pageList\r\n\t\t\t\t\t\tthis.mescroll.endByPage(data.length, total)\r\n\t\t\t\t\t\tlet list = this.$uniUtilsApi.initDeviceList(this.i18n.status, data)\r\n\t\t\t\t\t\tlet index = currentPage - 1\r\n\t\t\t\t\t\tthis.$set(this.deviceList, index, list)\r\n\t\t\t\t\t\tthis.currentPageIndex = index\r\n\t\t\t\t\t\tthis.currentPage = currentPage + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tproductStatusChange: function(e) {\r\n\t\t\t\tlet statusArray = [null, 'ONLINE', 'OFFLINE', 'UNACTIVE', 'DISABLE']\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentStatusIndex = index\r\n\t\t\t\tthis.searchStatus = statusArray[index]\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\ttypeSeriesColumnchange: function(e) {\r\n\t\t\t\t// console.log('修改的列为：' + e.detail.column + '，值为：' + e.detail.value)\r\n\t\t\t\tlet column = e.detail.column\r\n\t\t\t\tlet value = e.detail.value\r\n\t\t\t\tswitch (column) {\r\n\t\t\t\t\tcase 0: //拖动第1列\r\n\t\t\t\t\t\tif (value != 0) {\r\n\t\t\t\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\t\t\t\tthis.productId = productTypeData[value].productId\r\n\t\t\t\t\t\t\tlet promise = this.getProductSeriesList()\r\n\t\t\t\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\t\t\t\tlet productSeriesList = this.productSeriesList\r\n\t\t\t\t\t\t\t\tlet productSeriesData = this.productSeriesData\r\n\t\t\t\t\t\t\t\tthis.$set(this.productTypeSeriesListCopy, 1, productSeriesList)\r\n\t\t\t\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [value, 0]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$set(this.productTypeSeriesListCopy, 1, this.i18n.list.productSeriesList)\r\n\t\t\t\t\t\t\tthis.currentTypeSeriesIndexCopy = [0, 0]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\ttypeSeriesChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tlet productTypeData = this.productTypeData\r\n\t\t\t\tlet productSeriesData = this.productSeriesData\r\n\t\t\t\tthis.currentTypeSeriesIndex = index\r\n\t\t\t\tthis.currentTypeSeriesIndexCopy = index\r\n\t\t\t\tthis.productId = productTypeData[index[0]].productId\r\n\t\t\t\tthis.seriesId = productSeriesData[index[1]].seriesId\r\n\t\t\t\tthis.productTypeSeriesList = [...this.productTypeSeriesListCopy]\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductAlarmChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentAlarmIndex = index\r\n\t\t\t\tlet todayOnline;\r\n\t\t\t\tlet warnDesc;\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\ttodayOnline = false\r\n\t\t\t\t\twarnDesc = false\r\n\t\t\t\t} else if (index == 1) {\r\n\t\t\t\t\ttodayOnline = true\r\n\t\t\t\t\twarnDesc = false\r\n\t\t\t\t} else if (index == 2) {\r\n\t\t\t\t\ttodayOnline = false\r\n\t\t\t\t\twarnDesc = true\r\n\t\t\t\t} else if (index == 3) {\r\n\t\t\t\t\ttodayOnline = true\r\n\t\t\t\t\twarnDesc = true\r\n\t\t\t\t}\r\n\t\t\t\tthis.todayOnline = todayOnline\r\n\t\t\t\tthis.warnDesc = warnDesc\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductGroupChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentGroupIndex = index\r\n\t\t\t\tthis.groupId = this.productGroupData[index].groupId\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tproductPageChange: function(e) {\r\n\t\t\t\tlet index = e.detail.value\r\n\t\t\t\tthis.currentPageIndex = index\r\n\t\t\t\tthis.currentPage = parseInt(index) + 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tsearchNameInputChange: function(e) {\r\n\t\t\t\tlet value = e.detail.value.replace(/\\s/g, '')\r\n\t\t\t\tif (value == '') {\r\n\t\t\t\t\tthis.deleteSearchName()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.searchNameInput = value\r\n\t\t\t\t\tthis.isShowSearchButton = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteSearchName: function(e) {\r\n\t\t\t\tthis.searchNameInput = ''\r\n\t\t\t\tthis.searchName = null\r\n\t\t\t\tthis.isShowSearchButton = false\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\ttapSearchName: function(e) {\r\n\t\t\t\tthis.searchName = this.searchNameInput\r\n\t\t\t\tthis.isShowSearchButton = false\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.deviceList = []\r\n\t\t\t\tthis.mescroll.scrollTo(0, 300)\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tdeviceNavigation: function(deviceName, deviceCore, pageCur) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/deviceNavigation/deviceNavigation?deviceName=${deviceName}&deviceCore=${deviceCore}&pageCur=${pageCur}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tareaList: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/areaList/areaList`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToLogin: function(e) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/login/login`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tlistFav,\r\n\t\t\tsurplus\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\n","import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/list/list.vue'\ncreatePage(Page)"],"sourceRoot":""}